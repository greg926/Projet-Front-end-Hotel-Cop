;
/*!
 * modernizr v3.6.0
 * Build https://modernizr.com/download?-cssfilters-flexbox-flexboxlegacy-touchevents-videoautoplay-setclasses-dontmin
 *
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera

 * MIT License
 */
(function(window,document,undefined){var classes=[];var tests=[];var ModernizrProto={_version:'3.6.0',_config:{'classPrefix':'','enableClasses':true,'enableJSClass':true,'usePrefixes':true},_q:[],on:function(test,cb){var self=this;setTimeout(function(){cb(self[test]);},0);},addTest:function(name,fn,options){tests.push({name:name,fn:fn,options:options});},addAsyncTest:function(fn){tests.push({name:null,fn:fn});}};var Modernizr=function(){};Modernizr.prototype=ModernizrProto;Modernizr=new Modernizr();function is(obj,type){return typeof obj===type;};function testRunner(){var featureNames;var feature;var aliasIdx;var result;var nameIdx;var featureName;var featureNameSplit;for(var featureIdx in tests){if(tests.hasOwnProperty(featureIdx)){featureNames=[];feature=tests[featureIdx];if(feature.name){featureNames.push(feature.name.toLowerCase());if(feature.options&&feature.options.aliases&&feature.options.aliases.length){for(aliasIdx=0;aliasIdx<feature.options.aliases.length;aliasIdx++){featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());}}}
result=is(feature.fn,'function')?feature.fn():feature.fn;for(nameIdx=0;nameIdx<featureNames.length;nameIdx++){featureName=featureNames[nameIdx];featureNameSplit=featureName.split('.');if(featureNameSplit.length===1){Modernizr[featureNameSplit[0]]=result;}else{if(Modernizr[featureNameSplit[0]]&&!(Modernizr[featureNameSplit[0]]instanceof Boolean)){Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]]);}
Modernizr[featureNameSplit[0]][featureNameSplit[1]]=result;}
classes.push((result?'':'no-')+featureNameSplit.join('-'));}}}};var docElement=document.documentElement;var isSVG=docElement.nodeName.toLowerCase()==='svg';function setClasses(classes){var className=docElement.className;var classPrefix=Modernizr._config.classPrefix||'';if(isSVG){className=className.baseVal;}
if(Modernizr._config.enableJSClass){var reJS=new RegExp('(^|\\s)'+classPrefix+'no-js(\\s|$)');className=className.replace(reJS,'$1'+classPrefix+'js$2');}
if(Modernizr._config.enableClasses){className+=' '+classPrefix+classes.join(' '+classPrefix);if(isSVG){docElement.className.baseVal=className;}else{docElement.className=className;}}};var prefixes=(ModernizrProto._config.usePrefixes?' -webkit- -moz- -o- -ms- '.split(' '):['','']);ModernizrProto._prefixes=prefixes;function createElement(){if(typeof document.createElement!=='function'){return document.createElement(arguments[0]);}else if(isSVG){return document.createElementNS.call(document,'http://www.w3.org/2000/svg',arguments[0]);}else{return document.createElement.apply(document,arguments);}};
/*!
{
  "name": "HTML5 Video",
  "property": "video",
  "caniuse": "video",
  "tags": ["html5"],
  "knownBugs": [
    "Without QuickTime, `Modernizr.video.h264` will be `undefined`; https://github.com/Modernizr/Modernizr/issues/546"
  ],
  "polyfills": [
    "html5media",
    "mediaelementjs",
    "sublimevideo",
    "videojs",
    "leanbackplayer",
    "videoforeverybody"
  ]
}
!*/
Modernizr.addTest('video',function(){var elem=createElement('video');var bool=false;try{bool=!!elem.canPlayType
if(bool){bool=new Boolean(bool);bool.ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,'');bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,'');bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,'');bool.vp9=elem.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,'');bool.hls=elem.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,'');}}catch(e){}
return bool;});var hasOwnProp;(function(){var _hasOwnProperty=({}).hasOwnProperty;if(!is(_hasOwnProperty,'undefined')&&!is(_hasOwnProperty.call,'undefined')){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property);};}
else{hasOwnProp=function(object,property){return((property in object)&&is(object.constructor.prototype[property],'undefined'));};}})();ModernizrProto._l={};ModernizrProto.on=function(feature,cb){if(!this._l[feature]){this._l[feature]=[];}
this._l[feature].push(cb);if(Modernizr.hasOwnProperty(feature)){setTimeout(function(){Modernizr._trigger(feature,Modernizr[feature]);},0);}};ModernizrProto._trigger=function(feature,res){if(!this._l[feature]){return;}
var cbs=this._l[feature];setTimeout(function(){var i,cb;for(i=0;i<cbs.length;i++){cb=cbs[i];cb(res);}},0);delete this._l[feature];};function addTest(feature,test){if(typeof feature=='object'){for(var key in feature){if(hasOwnProp(feature,key)){addTest(key,feature[key]);}}}else{feature=feature.toLowerCase();var featureNameSplit=feature.split('.');var last=Modernizr[featureNameSplit[0]];if(featureNameSplit.length==2){last=last[featureNameSplit[1]];}
if(typeof last!='undefined'){return Modernizr;}
test=typeof test=='function'?test():test;if(featureNameSplit.length==1){Modernizr[featureNameSplit[0]]=test;}else{if(Modernizr[featureNameSplit[0]]&&!(Modernizr[featureNameSplit[0]]instanceof Boolean)){Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]]);}
Modernizr[featureNameSplit[0]][featureNameSplit[1]]=test;}
setClasses([(!!test&&test!=false?'':'no-')+featureNameSplit.join('-')]);Modernizr._trigger(feature,test);}
return Modernizr;}
Modernizr._q.push(function(){ModernizrProto.addTest=addTest;});
/*!
{
  "name": "Video Autoplay",
  "property": "videoautoplay",
  "tags": ["video"],
  "async" : true,
  "warnings": ["This test is very large â€“ only include it if you absolutely need it"],
  "knownBugs": ["crashes with an alert on iOS7 when added to homescreen"]
}
!*/
Modernizr.addAsyncTest(function(){var timeout;var waitTime=200;var retries=5;var currentTry=0;var elem=createElement('video');var elemStyle=elem.style;function testAutoplay(arg){currentTry++;clearTimeout(timeout);var result=arg&&arg.type==='playing'||elem.currentTime!==0;if(!result&&currentTry<retries){timeout=setTimeout(testAutoplay,waitTime);return;}
elem.removeEventListener('playing',testAutoplay,false);addTest('videoautoplay',result);if(elem.parentNode){elem.parentNode.removeChild(elem);}}
if(!Modernizr.video||!('autoplay'in elem)){addTest('videoautoplay',false);return;}
elemStyle.position='absolute';elemStyle.height=0;elemStyle.width=0;try{if(Modernizr.video.ogg){elem.src='data:video/ogg;base64,T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj///////////////+QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG+zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ/nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0zV1A+EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow/L66wGmYnfIUbwdUTe3LMRbqON8B+5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw/JO4hpmV2LsQQvkUeGq1BsZLx+cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD+K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k/4tFrHIPuEQ7m1/uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXYGkgcnih7t13/9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1/9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV/9SluQmtHrzsBtRF/wPY+X0JuYTs+ltgrXAmlk10xQHmTu9VSIAk1+vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT/6ZLYailAjhFlZuvPtSeZ+2oREubDoWmT3TguY+JHPdRVSLKxfKH3vgNqJ/9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR/mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj/j4qpWsIA+vYwE+Tca9ounMIsrXMB4Stiib2SPQtZv+FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG+oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv+FLicYs2iJGSE0u2txzed++D61ZWCiHD/cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV/Rwe5eLTDvkfWKzFnH+QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t+OTGL+AVUnIkyYY+QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv/uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex/n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x+3nA0UEhK2m198wuBHF3zlWWVKWLN1CHzLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb+8HaJRn4dYcLbCuBuYwziB8/5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT/ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq/hOYY8j60IaO/0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB+7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH/hynURrKxvUpQ8BH0JF7BiyG2qZpnL/7AOU66gt+reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o/WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu/6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ//iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu/AjBNK210kzRUX/B+69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG/9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB/FCNxPJ85iVUkCE9/tLKx31G4CgNtWTTPFhMvlu8G4/TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1/3uVUllZEJz4baqGF64yxaZ+zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ/LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o/n74CNykfT+qqRv5AQlHcRxYrC5KvGmbbUwmZY/29BvF6C1/93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu+oiAkcWFbklC6Zhf+NtTLFpn8oWz+HsNRVSgIxZWON+yVyJlE5tq/+GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V/zh16Dr9OSA21MpmmcrHC+6pTAPHPwoit3LHHqs7jhFNRD6W8+EBGoSEoaZttTCZljfduH/fFisn+dRBGAZYtMzbVMwvul/T/crK1NQh8gN0SRRa9cOux6clC0/mDLFpmbarmF8/e6CopeOLCNW6S/IUUg3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro/25Ud+llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO/Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL+gWVwHm4XJDBiMpmmZtrLfPwd/IugP5+fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR+lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro/2McGeUvLtwo6jIEKMkCUXWsLyZROd9P/rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A';}
else if(Modernizr.video.h264){elem.src='data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ==';}
else{addTest('videoautoplay',false);return;}}
catch(e){addTest('videoautoplay',false);return;}
elem.setAttribute('autoplay','');elemStyle.cssText='display:none';docElement.appendChild(elem);setTimeout(function(){elem.addEventListener('playing',testAutoplay,false);timeout=setTimeout(testAutoplay,waitTime);},0);});function getBody(){var body=document.body;if(!body){body=createElement(isSVG?'svg':'body');body.fake=true;}
return body;};function injectElementWithStyles(rule,callback,nodes,testnames){var mod='modernizr';var style;var ret;var node;var docOverflow;var div=createElement('div');var body=getBody();if(parseInt(nodes,10)){while(nodes--){node=createElement('div');node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node);}}
style=createElement('style');style.type='text/css';style.id='s'+mod;(!body.fake?div:body).appendChild(style);body.appendChild(div);if(style.styleSheet){style.styleSheet.cssText=rule;}else{style.appendChild(document.createTextNode(rule));}
div.id=mod;if(body.fake){body.style.background='';body.style.overflow='hidden';docOverflow=docElement.style.overflow;docElement.style.overflow='hidden';docElement.appendChild(body);}
ret=callback(div,rule);if(body.fake){body.parentNode.removeChild(body);docElement.style.overflow=docOverflow;docElement.offsetHeight;}else{div.parentNode.removeChild(div);}
return!!ret;};var testStyles=ModernizrProto.testStyles=injectElementWithStyles;
/*!
{
  "name": "Touch Events",
  "property": "touchevents",
  "caniuse" : "touch",
  "tags": ["media", "attribute"],
  "notes": [{
    "name": "Touch Events spec",
    "href": "https://www.w3.org/TR/2013/WD-touch-events-20130124/"
  }],
  "warnings": [
    "Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device"
  ],
  "knownBugs": [
    "False-positive on some configurations of Nokia N900",
    "False-positive on some BlackBerry 6.0 builds â€“ https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695"
  ]
}
!*/
Modernizr.addTest('touchevents',function(){var bool;if(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch){bool=true;}else{var query=['@media (',prefixes.join('touch-enabled),('),'heartz',')','{#modernizr{top:9px;position:absolute}}'].join('');testStyles(query,function(node){bool=node.offsetTop===9;});}
return bool;});
/*!
{
  "name": "CSS Supports",
  "property": "supports",
  "caniuse": "css-featurequeries",
  "tags": ["css"],
  "builderAliases": ["css_supports"],
  "notes": [{
    "name": "W3 Spec",
    "href": "http://dev.w3.org/csswg/css3-conditional/#at-supports"
  },{
    "name": "Related Github Issue",
    "href": "https://github.com/Modernizr/Modernizr/issues/648"
  },{
    "name": "W3 Info",
    "href": "http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface"
  }]
}
!*/
var newSyntax='CSS'in window&&'supports'in window.CSS;var oldSyntax='supportsCSS'in window;Modernizr.addTest('supports',newSyntax||oldSyntax);var omPrefixes='Moz O ms Webkit';var cssomPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.split(' '):[]);ModernizrProto._cssomPrefixes=cssomPrefixes;var domPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(' '):[]);ModernizrProto._domPrefixes=domPrefixes;function contains(str,substr){return!!~(''+str).indexOf(substr);};function cssToDOM(name){return name.replace(/([a-z])-([a-z])/g,function(str,m1,m2){return m1+m2.toUpperCase();}).replace(/^-/,'');};function fnBind(fn,that){return function(){return fn.apply(that,arguments);};};function testDOMProps(props,obj,elem){var item;for(var i in props){if(props[i]in obj){if(elem===false){return props[i];}
item=obj[props[i]];if(is(item,'function')){return fnBind(item,elem||obj);}
return item;}}
return false;};var modElem={elem:createElement('modernizr')};Modernizr._q.push(function(){delete modElem.elem;});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style;});function domToCSS(name){return name.replace(/([A-Z])/g,function(str,m1){return'-'+m1.toLowerCase();}).replace(/^ms-/,'-ms-');};function computedStyle(elem,pseudo,prop){var result;if('getComputedStyle'in window){result=getComputedStyle.call(window,elem,pseudo);var console=window.console;if(result!==null){if(prop){result=result.getPropertyValue(prop);}}else{if(console){var method=console.error?'error':'log';console[method].call(console,'getComputedStyle returning null, its possible modernizr test results are inaccurate');}}}else{result=!pseudo&&elem.currentStyle&&elem.currentStyle[prop];}
return result;};function nativeTestProps(props,value){var i=props.length;if('CSS'in window&&'supports'in window.CSS){while(i--){if(window.CSS.supports(domToCSS(props[i]),value)){return true;}}
return false;}
else if('CSSSupportsRule'in window){var conditionText=[];while(i--){conditionText.push('('+domToCSS(props[i])+':'+value+')');}
conditionText=conditionText.join(' or ');return injectElementWithStyles('@supports ('+conditionText+') { #modernizr { position: absolute; } }',function(node){return computedStyle(node,null,'position')=='absolute';});}
return undefined;};function testProps(props,prefixed,value,skipValueTest){skipValueTest=is(skipValueTest,'undefined')?false:skipValueTest;if(!is(value,'undefined')){var result=nativeTestProps(props,value);if(!is(result,'undefined')){return result;}}
var afterInit,i,propsLength,prop,before;var elems=['modernizr','tspan','samp'];while(!mStyle.style&&elems.length){afterInit=true;mStyle.modElem=createElement(elems.shift());mStyle.style=mStyle.modElem.style;}
function cleanElems(){if(afterInit){delete mStyle.style;delete mStyle.modElem;}}
propsLength=props.length;for(i=0;i<propsLength;i++){prop=props[i];before=mStyle.style[prop];if(contains(prop,'-')){prop=cssToDOM(prop);}
if(mStyle.style[prop]!==undefined){if(!skipValueTest&&!is(value,'undefined')){try{mStyle.style[prop]=value;}catch(e){}
if(mStyle.style[prop]!=before){cleanElems();return prefixed=='pfx'?prop:true;}}
else{cleanElems();return prefixed=='pfx'?prop:true;}}}
cleanElems();return false;};function testPropsAll(prop,prefixed,elem,value,skipValueTest){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+' '+cssomPrefixes.join(ucProp+' ')+ucProp).split(' ');if(is(prefixed,'string')||is(prefixed,'undefined')){return testProps(props,prefixed,value,skipValueTest);}else{props=(prop+' '+(domPrefixes).join(ucProp+' ')+ucProp).split(' ');return testDOMProps(props,prefixed,elem);}}
ModernizrProto.testAllProps=testPropsAll;function testAllProps(prop,value,skipValueTest){return testPropsAll(prop,undefined,undefined,value,skipValueTest);}
ModernizrProto.testAllProps=testAllProps;
/*!
{
  "name": "Flexbox",
  "property": "flexbox",
  "caniuse": "flexbox",
  "tags": ["css"],
  "notes": [{
    "name": "The _new_ flexbox",
    "href": "http://dev.w3.org/csswg/css3-flexbox"
  }],
  "warnings": [
    "A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect."
  ]
}
!*/
Modernizr.addTest('flexbox',testAllProps('flexBasis','1px',true));
/*!
{
  "name": "Flexbox (legacy)",
  "property": "flexboxlegacy",
  "tags": ["css"],
  "polyfills": ["flexie"],
  "notes": [{
    "name": "The _old_ flexbox",
    "href": "https://www.w3.org/TR/2009/WD-css3-flexbox-20090723/"
  }]
}
!*/
Modernizr.addTest('flexboxlegacy',testAllProps('boxDirection','reverse',true));
/*!
{
  "name": "CSS Filters",
  "property": "cssfilters",
  "caniuse": "css-filters",
  "polyfills": ["polyfilter"],
  "tags": ["css"],
  "builderAliases": ["css_filters"],
  "notes": [{
    "name": "MDN article on CSS filters",
    "href": "https://developer.mozilla.org/en-US/docs/Web/CSS/filter"
  }]
}
!*/
Modernizr.addTest('cssfilters',function(){if(Modernizr.supports){return testAllProps('filter','blur(2px)');}else{var el=createElement('a');el.style.cssText=prefixes.join('filter:blur(2px); ');return!!el.style.length&&((document.documentMode===undefined||document.documentMode>9));}});testRunner();setClasses(classes);delete ModernizrProto.addTest;delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++){Modernizr._q[i]();}
window.Modernizr=Modernizr;;})(window,document);
;
/*! waitForImages jQuery Plugin - v2.1.0 - 2016-01-04
* https://github.com/alexanderdickson/waitForImages
* Copyright (c) 2016 Alex Dickson; Licensed MIT */
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'));}else{factory(jQuery);}}(function($){var eventNamespace='waitForImages';$.waitForImages={hasImageProperties:['backgroundImage','listStyleImage','borderImage','borderCornerImage','cursor'],hasImageAttributes:['srcset']};$.expr[':']['has-src']=function(obj){return $(obj).is('img[src][src!=""]');};$.expr[':'].uncached=function(obj){if(!$(obj).is(':has-src')){return false;}
return!obj.complete;};$.fn.waitForImages=function(){var allImgsLength=0;var allImgsLoaded=0;var deferred=$.Deferred();var finishedCallback;var eachCallback;var waitForAll;if($.isPlainObject(arguments[0])){waitForAll=arguments[0].waitForAll;eachCallback=arguments[0].each;finishedCallback=arguments[0].finished;}else{if(arguments.length===1&&$.type(arguments[0])==='boolean'){waitForAll=arguments[0];}else{finishedCallback=arguments[0];eachCallback=arguments[1];waitForAll=arguments[2];}}
finishedCallback=finishedCallback||$.noop;eachCallback=eachCallback||$.noop;waitForAll=!!waitForAll;if(!$.isFunction(finishedCallback)||!$.isFunction(eachCallback)){throw new TypeError('An invalid callback was supplied.');}
this.each(function(){var obj=$(this);var allImgs=[];var hasImgProperties=$.waitForImages.hasImageProperties||[];var hasImageAttributes=$.waitForImages.hasImageAttributes||[];var matchUrl=/url\(\s*(['"]?)(.*?)\1\s*\)/g;if(waitForAll){obj.find('*').addBack().each(function(){var element=$(this);if(element.is('img:has-src')&&!element.is('[srcset]')){allImgs.push({src:element.attr('src'),element:element[0]});}
$.each(hasImgProperties,function(i,property){var propertyValue=element.css(property);var match;if(!propertyValue){return true;}
while(match=matchUrl.exec(propertyValue)){allImgs.push({src:match[2],element:element[0]});}});$.each(hasImageAttributes,function(i,attribute){var attributeValue=element.attr(attribute);var attributeValues;if(!attributeValue){return true;}
allImgs.push({src:element.attr('src'),srcset:element.attr('srcset'),element:element[0]});});});}else{obj.find('img:has-src').each(function(){allImgs.push({src:this.src,element:this});});}
allImgsLength=allImgs.length;allImgsLoaded=0;if(allImgsLength===0){finishedCallback.call(obj[0]);deferred.resolveWith(obj[0]);}
$.each(allImgs,function(i,img){var image=new Image();var events='load.'+eventNamespace+' error.'+eventNamespace;$(image).one(events,function me(event){var eachArguments=[allImgsLoaded,allImgsLength,event.type=='load'];allImgsLoaded++;eachCallback.apply(img.element,eachArguments);deferred.notifyWith(img.element,eachArguments);$(this).off(events,me);if(allImgsLoaded==allImgsLength){finishedCallback.call(obj[0]);deferred.resolveWith(obj[0]);return false;}});if(img.srcset){image.srcset=img.srcset;}
image.src=img.src;});});return deferred.promise();};}));
(function($){'use strict';function cnBookingThrowErrorIfUndefined(object,requiredStructure){for(var key in requiredStructure){if(typeof object[key]==='undefined'){throw new Error(key+' is undefined.');}
if(object[key]&&typeof object[key]==='object'&&Object.keys(object[key]).length!==0){cnBookingThrowErrorIfUndefined(object[key],requiredStructure[key]);}}}
var requiredStructure={cnBookingConfig:{inputDateFormat:{},bookingEngine:{provider:{}}}};switch(window.cnBookingConfig.bookingEngine.provider){case'profitroom':case'profitroom-multi':requiredStructure.cnBookingConfig.bookingEngine={provider:{},params:{},locations:{},openOverlay:{}}
break;}
cnBookingThrowErrorIfUndefined(window,requiredStructure);})(jQuery);
typeof navigator==="object"&&(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define('Plyr',factory):(global.Plyr=factory());}(this,(function(){'use strict';var commonjsGlobal=typeof window!=='undefined'?window:typeof global!=='undefined'?global:typeof self!=='undefined'?self:{};function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}
var _global=createCommonjsModule(function(module){var global=module.exports=typeof window!='undefined'&&window.Math==Math?window:typeof self!='undefined'&&self.Math==Math?self:Function('return this')();if(typeof __g=='number')__g=global;});var _core=createCommonjsModule(function(module){var core=module.exports={version:'2.5.7'};if(typeof __e=='number')__e=core;});var _core_1=_core.version;var _isObject=function(it){return typeof it==='object'?it!==null:typeof it==='function';};var _anObject=function(it){if(!_isObject(it))throw TypeError(it+' is not an object!');return it;};var _fails=function(exec){try{return!!exec();}catch(e){return true;}};var _descriptors=!_fails(function(){return Object.defineProperty({},'a',{get:function(){return 7;}}).a!=7;});var document$1=_global.document;var is=_isObject(document$1)&&_isObject(document$1.createElement);var _domCreate=function(it){return is?document$1.createElement(it):{};};var _ie8DomDefine=!_descriptors&&!_fails(function(){return Object.defineProperty(_domCreate('div'),'a',{get:function(){return 7;}}).a!=7;});var _toPrimitive=function(it,S){if(!_isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=='function'&&!_isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=='function'&&!_isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=='function'&&!_isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value");};var dP=Object.defineProperty;var f=_descriptors?Object.defineProperty:function defineProperty(O,P,Attributes){_anObject(O);P=_toPrimitive(P,true);_anObject(Attributes);if(_ie8DomDefine)try{return dP(O,P,Attributes);}catch(e){}
if('get'in Attributes||'set'in Attributes)throw TypeError('Accessors not supported!');if('value'in Attributes)O[P]=Attributes.value;return O;};var _objectDp={f:f};var _propertyDesc=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value};};var _hide=_descriptors?function(object,key,value){return _objectDp.f(object,key,_propertyDesc(1,value));}:function(object,key,value){object[key]=value;return object;};var hasOwnProperty={}.hasOwnProperty;var _has=function(it,key){return hasOwnProperty.call(it,key);};var id=0;var px=Math.random();var _uid=function(key){return'Symbol('.concat(key===undefined?'':key,')_',(++id+px).toString(36));};var _redefine=createCommonjsModule(function(module){var SRC=_uid('src');var TO_STRING='toString';var $toString=Function[TO_STRING];var TPL=(''+$toString).split(TO_STRING);_core.inspectSource=function(it){return $toString.call(it);};(module.exports=function(O,key,val,safe){var isFunction=typeof val=='function';if(isFunction)_has(val,'name')||_hide(val,'name',key);if(O[key]===val)return;if(isFunction)_has(val,SRC)||_hide(val,SRC,O[key]?''+O[key]:TPL.join(String(key)));if(O===_global){O[key]=val;}else if(!safe){delete O[key];_hide(O,key,val);}else if(O[key]){O[key]=val;}else{_hide(O,key,val);}})(Function.prototype,TO_STRING,function toString(){return typeof this=='function'&&this[SRC]||$toString.call(this);});});var _aFunction=function(it){if(typeof it!='function')throw TypeError(it+' is not a function!');return it;};var _ctx=function(fn,that,length){_aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a);};case 2:return function(a,b){return fn.call(that,a,b);};case 3:return function(a,b,c){return fn.call(that,a,b,c);};}
return function(){return fn.apply(that,arguments);};};var PROTOTYPE='prototype';var $export=function(type,name,source){var IS_FORCED=type&$export.F;var IS_GLOBAL=type&$export.G;var IS_STATIC=type&$export.S;var IS_PROTO=type&$export.P;var IS_BIND=type&$export.B;var target=IS_GLOBAL?_global:IS_STATIC?_global[name]||(_global[name]={}):(_global[name]||{})[PROTOTYPE];var exports=IS_GLOBAL?_core:_core[name]||(_core[name]={});var expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={});var key,own,out,exp;if(IS_GLOBAL)source=name;for(key in source){own=!IS_FORCED&&target&&target[key]!==undefined;out=(own?target:source)[key];exp=IS_BIND&&own?_ctx(out,_global):IS_PROTO&&typeof out=='function'?_ctx(Function.call,out):out;if(target)_redefine(target,key,out,type&$export.U);if(exports[key]!=out)_hide(exports,key,exp);if(IS_PROTO&&expProto[key]!=out)expProto[key]=out;}};_global.core=_core;$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;var _export=$export;var TYPED=_uid('typed_array');var VIEW=_uid('view');var ABV=!!(_global.ArrayBuffer&&_global.DataView);var CONSTR=ABV;var i=0;var l=9;var Typed;var TypedArrayConstructors=('Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array').split(',');while(i<l){if(Typed=_global[TypedArrayConstructors[i++]]){_hide(Typed.prototype,TYPED,true);_hide(Typed.prototype,VIEW,true);}else CONSTR=false;}
var _typed={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW};var _library=false;var _redefineAll=function(target,src,safe){for(var key in src)_redefine(target,key,src[key],safe);return target;};var _anInstance=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||(forbiddenField!==undefined&&forbiddenField in it)){throw TypeError(name+': incorrect invocation!');}return it;};var ceil=Math.ceil;var floor=Math.floor;var _toInteger=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it);};var min=Math.min;var _toLength=function(it){return it>0?min(_toInteger(it),0x1fffffffffffff):0;};var _toIndex=function(it){if(it===undefined)return 0;var number=_toInteger(it);var length=_toLength(number);if(number!==length)throw RangeError('Wrong length!');return length;};var toString={}.toString;var _cof=function(it){return toString.call(it).slice(8,-1);};var _iobject=Object('z').propertyIsEnumerable(0)?Object:function(it){return _cof(it)=='String'?it.split(''):Object(it);};var _defined=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it;};var _toIobject=function(it){return _iobject(_defined(it));};var max=Math.max;var min$1=Math.min;var _toAbsoluteIndex=function(index,length){index=_toInteger(index);return index<0?max(index+length,0):min$1(index,length);};var _arrayIncludes=function(IS_INCLUDES){return function($this,el,fromIndex){var O=_toIobject($this);var length=_toLength(O.length);var index=_toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true;}else for(;length>index;index++)if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index||0;}return!IS_INCLUDES&&-1;};};var _shared=createCommonjsModule(function(module){var SHARED='__core-js_shared__';var store=_global[SHARED]||(_global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{});})('versions',[]).push({version:_core.version,mode:'global',copyright:'Â© 2018 Denis Pushkarev (zloirock.ru)'});});var shared=_shared('keys');var _sharedKey=function(key){return shared[key]||(shared[key]=_uid(key));};var arrayIndexOf=_arrayIncludes(false);var IE_PROTO=_sharedKey('IE_PROTO');var _objectKeysInternal=function(object,names){var O=_toIobject(object);var i=0;var result=[];var key;for(key in O)if(key!=IE_PROTO)_has(O,key)&&result.push(key);while(names.length>i)if(_has(O,key=names[i++])){~arrayIndexOf(result,key)||result.push(key);}
return result;};var _enumBugKeys=('constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf').split(',');var hiddenKeys=_enumBugKeys.concat('length','prototype');var f$1=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return _objectKeysInternal(O,hiddenKeys);};var _objectGopn={f:f$1};var _toObject=function(it){return Object(_defined(it));};var _arrayFill=function fill(value){var O=_toObject(this);var length=_toLength(O.length);var aLen=arguments.length;var index=_toAbsoluteIndex(aLen>1?arguments[1]:undefined,length);var end=aLen>2?arguments[2]:undefined;var endPos=end===undefined?length:_toAbsoluteIndex(end,length);while(endPos>index)O[index++]=value;return O;};var _wks=createCommonjsModule(function(module){var store=_shared('wks');var Symbol=_global.Symbol;var USE_SYMBOL=typeof Symbol=='function';var $exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:_uid)('Symbol.'+name));};$exports.store=store;});var def=_objectDp.f;var TAG=_wks('toStringTag');var _setToStringTag=function(it,tag,stat){if(it&&!_has(it=stat?it:it.prototype,TAG))def(it,TAG,{configurable:true,value:tag});};var _typedBuffer=createCommonjsModule(function(module,exports){var gOPN=_objectGopn.f;var dP=_objectDp.f;var ARRAY_BUFFER='ArrayBuffer';var DATA_VIEW='DataView';var PROTOTYPE='prototype';var WRONG_LENGTH='Wrong length!';var WRONG_INDEX='Wrong index!';var $ArrayBuffer=_global[ARRAY_BUFFER];var $DataView=_global[DATA_VIEW];var Math=_global.Math;var RangeError=_global.RangeError;var Infinity=_global.Infinity;var BaseBuffer=$ArrayBuffer;var abs=Math.abs;var pow=Math.pow;var floor=Math.floor;var log=Math.log;var LN2=Math.LN2;var BUFFER='buffer';var BYTE_LENGTH='byteLength';var BYTE_OFFSET='byteOffset';var $BUFFER=_descriptors?'_b':BUFFER;var $LENGTH=_descriptors?'_l':BYTE_LENGTH;var $OFFSET=_descriptors?'_o':BYTE_OFFSET;function packIEEE754(value,mLen,nBytes){var buffer=new Array(nBytes);var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?pow(2,-24)-pow(2,-77):0;var i=0;var s=value<0||value===0&&1/value<0?1:0;var e,m,c;value=abs(value);if(value!=value||value===Infinity){m=value!=value?1:0;e=eMax;}else{e=floor(log(value)/LN2);if(value*(c=pow(2,-e))<1){e--;c*=2;}
if(e+eBias>=1){value+=rt/c;}else{value+=rt*pow(2,1-eBias);}
if(value*c>=2){e++;c/=2;}
if(e+eBias>=eMax){m=0;e=eMax;}else if(e+eBias>=1){m=(value*c-1)*pow(2,mLen);e=e+eBias;}else{m=value*pow(2,eBias-1)*pow(2,mLen);e=0;}}
for(;mLen>=8;buffer[i++]=m&255,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[i++]=e&255,e/=256,eLen-=8);buffer[--i]|=s*128;return buffer;}
function unpackIEEE754(buffer,mLen,nBytes){var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=eLen-7;var i=nBytes-1;var s=buffer[i--];var e=s&127;var m;s>>=7;for(;nBits>0;e=e*256+buffer[i],i--,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[i],i--,nBits-=8);if(e===0){e=1-eBias;}else if(e===eMax){return m?NaN:s?-Infinity:Infinity;}else{m=m+pow(2,mLen);e=e-eBias;}return(s?-1:1)*m*pow(2,e-mLen);}
function unpackI32(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0];}
function packI8(it){return[it&0xff];}
function packI16(it){return[it&0xff,it>>8&0xff];}
function packI32(it){return[it&0xff,it>>8&0xff,it>>16&0xff,it>>24&0xff];}
function packF64(it){return packIEEE754(it,52,8);}
function packF32(it){return packIEEE754(it,23,4);}
function addGetter(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal];}});}
function get(view,bytes,index,isLittleEndian){var numIndex=+index;var intIndex=_toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b;var start=intIndex+view[$OFFSET];var pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse();}
function set(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index;var intIndex=_toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b;var start=intIndex+view[$OFFSET];var pack=conversion(+value);for(var i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1];}
if(!_typed.ABV){$ArrayBuffer=function ArrayBuffer(length){_anInstance(this,$ArrayBuffer,ARRAY_BUFFER);var byteLength=_toIndex(length);this._b=_arrayFill.call(new Array(byteLength),0);this[$LENGTH]=byteLength;};$DataView=function DataView(buffer,byteOffset,byteLength){_anInstance(this,$DataView,DATA_VIEW);_anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=buffer[$LENGTH];var offset=_toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError('Wrong offset!');byteLength=byteLength===undefined?bufferLength-offset:_toLength(byteLength);if(offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);this[$BUFFER]=buffer;this[$OFFSET]=offset;this[$LENGTH]=byteLength;};if(_descriptors){addGetter($ArrayBuffer,BYTE_LENGTH,'_l');addGetter($DataView,BUFFER,'_b');addGetter($DataView,BYTE_LENGTH,'_l');addGetter($DataView,BYTE_OFFSET,'_o');}
_redefineAll($DataView[PROTOTYPE],{getInt8:function getInt8(byteOffset){return get(this,1,byteOffset)[0]<<24>>24;},getUint8:function getUint8(byteOffset){return get(this,1,byteOffset)[0];},getInt16:function getInt16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16;},getUint16:function getUint16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0];},getInt32:function getInt32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]));},getUint32:function getUint32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0;},getFloat32:function getFloat32(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4);},getFloat64:function getFloat64(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8);},setInt8:function setInt8(byteOffset,value){set(this,1,byteOffset,packI8,value);},setUint8:function setUint8(byteOffset,value){set(this,1,byteOffset,packI8,value);},setInt16:function setInt16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2]);},setUint16:function setUint16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2]);},setInt32:function setInt32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2]);},setUint32:function setUint32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2]);},setFloat32:function setFloat32(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2]);},setFloat64:function setFloat64(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2]);}});}else{if(!_fails(function(){$ArrayBuffer(1);})||!_fails(function(){new $ArrayBuffer(-1);})||_fails(function(){new $ArrayBuffer();new $ArrayBuffer(1.5);new $ArrayBuffer(NaN);return $ArrayBuffer.name!=ARRAY_BUFFER;})){$ArrayBuffer=function ArrayBuffer(length){_anInstance(this,$ArrayBuffer);return new BaseBuffer(_toIndex(length));};var ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE];for(var keys=gOPN(BaseBuffer),j=0,key;keys.length>j;){if(!((key=keys[j++])in $ArrayBuffer))_hide($ArrayBuffer,key,BaseBuffer[key]);}
ArrayBufferProto.constructor=$ArrayBuffer;}
var view=new $DataView(new $ArrayBuffer(2));var $setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648);view.setInt8(1,2147483649);if(view.getInt8(0)||!view.getInt8(1))_redefineAll($DataView[PROTOTYPE],{setInt8:function setInt8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24);},setUint8:function setUint8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24);}},true);}
_setToStringTag($ArrayBuffer,ARRAY_BUFFER);_setToStringTag($DataView,DATA_VIEW);_hide($DataView[PROTOTYPE],_typed.VIEW,true);exports[ARRAY_BUFFER]=$ArrayBuffer;exports[DATA_VIEW]=$DataView;});var SPECIES=_wks('species');var _speciesConstructor=function(O,D){var C=_anObject(O).constructor;var S;return C===undefined||(S=_anObject(C)[SPECIES])==undefined?D:_aFunction(S);};var SPECIES$1=_wks('species');var _setSpecies=function(KEY){var C=_global[KEY];if(_descriptors&&C&&!C[SPECIES$1])_objectDp.f(C,SPECIES$1,{configurable:true,get:function(){return this;}});};var ArrayBuffer=_global.ArrayBuffer;var $ArrayBuffer=_typedBuffer.ArrayBuffer;var $DataView=_typedBuffer.DataView;var $isView=_typed.ABV&&ArrayBuffer.isView;var $slice=$ArrayBuffer.prototype.slice;var VIEW$1=_typed.VIEW;var ARRAY_BUFFER='ArrayBuffer';_export(_export.G+_export.W+_export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer});_export(_export.S+_export.F*!_typed.CONSTR,ARRAY_BUFFER,{isView:function isView(it){return $isView&&$isView(it)||_isObject(it)&&VIEW$1 in it;}});_export(_export.P+_export.U+_export.F*_fails(function(){return!new $ArrayBuffer(2).slice(1,undefined).byteLength;}),ARRAY_BUFFER,{slice:function slice(start,end){if($slice!==undefined&&end===undefined)return $slice.call(_anObject(this),start);var len=_anObject(this).byteLength;var first=_toAbsoluteIndex(start,len);var fin=_toAbsoluteIndex(end===undefined?len:end,len);var result=new(_speciesConstructor(this,$ArrayBuffer))(_toLength(fin-first));var viewS=new $DataView(this);var viewT=new $DataView(result);var index=0;while(first<fin){viewT.setUint8(index++,viewS.getUint8(first++));}return result;}});_setSpecies(ARRAY_BUFFER);var TAG$1=_wks('toStringTag');var ARG=_cof(function(){return arguments;}())=='Arguments';var tryGet=function(it,key){try{return it[key];}catch(e){}};var _classof=function(it){var O,T,B;return it===undefined?'Undefined':it===null?'Null':typeof(T=tryGet(O=Object(it),TAG$1))=='string'?T:ARG?_cof(O):(B=_cof(O))=='Object'&&typeof O.callee=='function'?'Arguments':B;};var _iterators={};var ITERATOR=_wks('iterator');var ArrayProto=Array.prototype;var _isArrayIter=function(it){return it!==undefined&&(_iterators.Array===it||ArrayProto[ITERATOR]===it);};var _objectKeys=Object.keys||function keys(O){return _objectKeysInternal(O,_enumBugKeys);};var _objectDps=_descriptors?Object.defineProperties:function defineProperties(O,Properties){_anObject(O);var keys=_objectKeys(Properties);var length=keys.length;var i=0;var P;while(length>i)_objectDp.f(O,P=keys[i++],Properties[P]);return O;};var document$2=_global.document;var _html=document$2&&document$2.documentElement;var IE_PROTO$1=_sharedKey('IE_PROTO');var Empty=function(){};var PROTOTYPE$1='prototype';var createDict=function(){var iframe=_domCreate('iframe');var i=_enumBugKeys.length;var lt='<';var gt='>';var iframeDocument;iframe.style.display='none';_html.appendChild(iframe);iframe.src='javascript:';iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(lt+'script'+gt+'document.F=Object'+lt+'/script'+gt);iframeDocument.close();createDict=iframeDocument.F;while(i--)delete createDict[PROTOTYPE$1][_enumBugKeys[i]];return createDict();};var _objectCreate=Object.create||function create(O,Properties){var result;if(O!==null){Empty[PROTOTYPE$1]=_anObject(O);result=new Empty();Empty[PROTOTYPE$1]=null;result[IE_PROTO$1]=O;}else result=createDict();return Properties===undefined?result:_objectDps(result,Properties);};var IE_PROTO$2=_sharedKey('IE_PROTO');var ObjectProto=Object.prototype;var _objectGpo=Object.getPrototypeOf||function(O){O=_toObject(O);if(_has(O,IE_PROTO$2))return O[IE_PROTO$2];if(typeof O.constructor=='function'&&O instanceof O.constructor){return O.constructor.prototype;}return O instanceof Object?ObjectProto:null;};var ITERATOR$1=_wks('iterator');var core_getIteratorMethod=_core.getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR$1]||it['@@iterator']||_iterators[_classof(it)];};var _isArray=Array.isArray||function isArray(arg){return _cof(arg)=='Array';};var SPECIES$2=_wks('species');var _arraySpeciesConstructor=function(original){var C;if(_isArray(original)){C=original.constructor;if(typeof C=='function'&&(C===Array||_isArray(C.prototype)))C=undefined;if(_isObject(C)){C=C[SPECIES$2];if(C===null)C=undefined;}}return C===undefined?Array:C;};var _arraySpeciesCreate=function(original,length){return new(_arraySpeciesConstructor(original))(length);};var _arrayMethods=function(TYPE,$create){var IS_MAP=TYPE==1;var IS_FILTER=TYPE==2;var IS_SOME=TYPE==3;var IS_EVERY=TYPE==4;var IS_FIND_INDEX=TYPE==6;var NO_HOLES=TYPE==5||IS_FIND_INDEX;var create=$create||_arraySpeciesCreate;return function($this,callbackfn,that){var O=_toObject($this);var self=_iobject(O);var f=_ctx(callbackfn,that,3);var length=_toLength(self.length);var index=0;var result=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;var val,res;for(;length>index;index++)if(NO_HOLES||index in self){val=self[index];res=f(val,index,O);if(TYPE){if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return true;case 5:return val;case 6:return index;case 2:result.push(val);}else if(IS_EVERY)return false;}}
return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result;};};var UNSCOPABLES=_wks('unscopables');var ArrayProto$1=Array.prototype;if(ArrayProto$1[UNSCOPABLES]==undefined)_hide(ArrayProto$1,UNSCOPABLES,{});var _addToUnscopables=function(key){ArrayProto$1[UNSCOPABLES][key]=true;};var _iterStep=function(done,value){return{value:value,done:!!done};};var IteratorPrototype={};_hide(IteratorPrototype,_wks('iterator'),function(){return this;});var _iterCreate=function(Constructor,NAME,next){Constructor.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,next)});_setToStringTag(Constructor,NAME+' Iterator');};var ITERATOR$2=_wks('iterator');var BUGGY=!([].keys&&'next'in[].keys());var FF_ITERATOR='@@iterator';var KEYS='keys';var VALUES='values';var returnThis=function(){return this;};var _iterDefine=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){_iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind);};case VALUES:return function values(){return new Constructor(this,kind);};}return function entries(){return new Constructor(this,kind);};};var TAG=NAME+' Iterator';var DEF_VALUES=DEFAULT==VALUES;var VALUES_BUG=false;var proto=Base.prototype;var $native=proto[ITERATOR$2]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT];var $default=$native||getMethod(DEFAULT);var $entries=DEFAULT?!DEF_VALUES?$default:getMethod('entries'):undefined;var $anyNative=NAME=='Array'?proto.entries||$native:$native;var methods,key,IteratorPrototype;if($anyNative){IteratorPrototype=_objectGpo($anyNative.call(new Base()));if(IteratorPrototype!==Object.prototype&&IteratorPrototype.next){_setToStringTag(IteratorPrototype,TAG,true);if(typeof IteratorPrototype[ITERATOR$2]!='function')_hide(IteratorPrototype,ITERATOR$2,returnThis);}}
if(DEF_VALUES&&$native&&$native.name!==VALUES){VALUES_BUG=true;$default=function values(){return $native.call(this);};}
if(BUGGY||VALUES_BUG||!proto[ITERATOR$2]){_hide(proto,ITERATOR$2,$default);}
_iterators[NAME]=$default;_iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries};if(FORCED)for(key in methods){if(!(key in proto))_redefine(proto,key,methods[key]);}else _export(_export.P+_export.F*(BUGGY||VALUES_BUG),NAME,methods);}
return methods;};var es6_array_iterator=_iterDefine(Array,'Array',function(iterated,kind){this._t=_toIobject(iterated);this._i=0;this._k=kind;},function(){var O=this._t;var kind=this._k;var index=this._i++;if(!O||index>=O.length){this._t=undefined;return _iterStep(1);}
if(kind=='keys')return _iterStep(0,index);if(kind=='values')return _iterStep(0,O[index]);return _iterStep(0,[index,O[index]]);},'values');_iterators.Arguments=_iterators.Array;_addToUnscopables('keys');_addToUnscopables('values');_addToUnscopables('entries');var ITERATOR$3=_wks('iterator');var SAFE_CLOSING=false;try{var riter=[7][ITERATOR$3]();riter['return']=function(){SAFE_CLOSING=true;};}catch(e){}
var _iterDetect=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return false;var safe=false;try{var arr=[7];var iter=arr[ITERATOR$3]();iter.next=function(){return{done:safe=true};};arr[ITERATOR$3]=function(){return iter;};exec(arr);}catch(e){}
return safe;};var _arrayCopyWithin=[].copyWithin||function copyWithin(target,start){var O=_toObject(this);var len=_toLength(O.length);var to=_toAbsoluteIndex(target,len);var from=_toAbsoluteIndex(start,len);var end=arguments.length>2?arguments[2]:undefined;var count=Math.min((end===undefined?len:_toAbsoluteIndex(end,len))-from,len-to);var inc=1;if(from<to&&to<from+count){inc=-1;from+=count-1;to+=count-1;}
while(count-->0){if(from in O)O[to]=O[from];else delete O[to];to+=inc;from+=inc;}return O;};var f$2={}.propertyIsEnumerable;var _objectPie={f:f$2};var gOPD=Object.getOwnPropertyDescriptor;var f$3=_descriptors?gOPD:function getOwnPropertyDescriptor(O,P){O=_toIobject(O);P=_toPrimitive(P,true);if(_ie8DomDefine)try{return gOPD(O,P);}catch(e){}
if(_has(O,P))return _propertyDesc(!_objectPie.f.call(O,P),O[P]);};var _objectGopd={f:f$3};var _typedArray=createCommonjsModule(function(module){if(_descriptors){var global=_global;var fails=_fails;var $export=_export;var $typed=_typed;var $buffer=_typedBuffer;var ctx=_ctx;var anInstance=_anInstance;var propertyDesc=_propertyDesc;var hide=_hide;var redefineAll=_redefineAll;var toInteger=_toInteger;var toLength=_toLength;var toIndex=_toIndex;var toAbsoluteIndex=_toAbsoluteIndex;var toPrimitive=_toPrimitive;var has=_has;var classof=_classof;var isObject=_isObject;var toObject=_toObject;var isArrayIter=_isArrayIter;var create=_objectCreate;var getPrototypeOf=_objectGpo;var gOPN=_objectGopn.f;var getIterFn=core_getIteratorMethod;var uid=_uid;var wks=_wks;var createArrayMethod=_arrayMethods;var createArrayIncludes=_arrayIncludes;var speciesConstructor=_speciesConstructor;var ArrayIterators=es6_array_iterator;var Iterators=_iterators;var $iterDetect=_iterDetect;var setSpecies=_setSpecies;var arrayFill=_arrayFill;var arrayCopyWithin=_arrayCopyWithin;var $DP=_objectDp;var $GOPD=_objectGopd;var dP=$DP.f;var gOPD=$GOPD.f;var RangeError=global.RangeError;var TypeError=global.TypeError;var Uint8Array=global.Uint8Array;var ARRAY_BUFFER='ArrayBuffer';var SHARED_BUFFER='Shared'+ARRAY_BUFFER;var BYTES_PER_ELEMENT='BYTES_PER_ELEMENT';var PROTOTYPE='prototype';var ArrayProto=Array[PROTOTYPE];var $ArrayBuffer=$buffer.ArrayBuffer;var $DataView=$buffer.DataView;var arrayForEach=createArrayMethod(0);var arrayFilter=createArrayMethod(2);var arraySome=createArrayMethod(3);var arrayEvery=createArrayMethod(4);var arrayFind=createArrayMethod(5);var arrayFindIndex=createArrayMethod(6);var arrayIncludes=createArrayIncludes(true);var arrayIndexOf=createArrayIncludes(false);var arrayValues=ArrayIterators.values;var arrayKeys=ArrayIterators.keys;var arrayEntries=ArrayIterators.entries;var arrayLastIndexOf=ArrayProto.lastIndexOf;var arrayReduce=ArrayProto.reduce;var arrayReduceRight=ArrayProto.reduceRight;var arrayJoin=ArrayProto.join;var arraySort=ArrayProto.sort;var arraySlice=ArrayProto.slice;var arrayToString=ArrayProto.toString;var arrayToLocaleString=ArrayProto.toLocaleString;var ITERATOR=wks('iterator');var TAG=wks('toStringTag');var TYPED_CONSTRUCTOR=uid('typed_constructor');var DEF_CONSTRUCTOR=uid('def_constructor');var ALL_CONSTRUCTORS=$typed.CONSTR;var TYPED_ARRAY=$typed.TYPED;var VIEW=$typed.VIEW;var WRONG_LENGTH='Wrong length!';var $map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length);});var LITTLE_ENDIAN=fails(function(){return new Uint8Array(new Uint16Array([1]).buffer)[0]===1;});var FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){new Uint8Array(1).set({});});var toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError('Wrong offset!');return offset;};var validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+' is not a typed array!');};var allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C)){throw TypeError('It is not a typed array constructor!');}return new C(length);};var speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list);};var fromList=function(C,list){var index=0;var length=list.length;var result=allocate(C,length);while(length>index)result[index]=list[index++];return result;};var addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal];}});};var $from=function from(source){var O=toObject(source);var aLen=arguments.length;var mapfn=aLen>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var iterFn=getIterFn(O);var i,length,values,result,step,iterator;if(iterFn!=undefined&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++){values.push(step.value);}O=values;}
if(mapping&&aLen>2)mapfn=ctx(mapfn,arguments[2],2);for(i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++){result[i]=mapping?mapfn(O[i],i):O[i];}
return result;};var $of=function of(){var index=0;var length=arguments.length;var result=allocate(this,length);while(length>index)result[index]=arguments[index++];return result;};var TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1));});var $toLocaleString=function toLocaleString(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments);};var proto={copyWithin:function copyWithin(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:undefined);},every:function every(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined);},fill:function fill(value){return arrayFill.apply(validate(this),arguments);},filter:function filter(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined));},find:function find(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:undefined);},findIndex:function findIndex(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:undefined);},forEach:function forEach(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined);},indexOf:function indexOf(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:undefined);},includes:function includes(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:undefined);},join:function join(separator){return arrayJoin.apply(validate(this),arguments);},lastIndexOf:function lastIndexOf(searchElement){return arrayLastIndexOf.apply(validate(this),arguments);},map:function map(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:undefined);},reduce:function reduce(callbackfn){return arrayReduce.apply(validate(this),arguments);},reduceRight:function reduceRight(callbackfn){return arrayReduceRight.apply(validate(this),arguments);},reverse:function reverse(){var that=this;var length=validate(that).length;var middle=Math.floor(length/2);var index=0;var value;while(index<middle){value=that[index];that[index++]=that[--length];that[length]=value;}return that;},some:function some(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined);},sort:function sort(comparefn){return arraySort.call(validate(this),comparefn);},subarray:function subarray(begin,end){var O=validate(this);var length=O.length;var $begin=toAbsoluteIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((end===undefined?length:toAbsoluteIndex(end,length))-$begin));}};var $slice=function slice(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end));};var $set=function set(arrayLike){validate(this);var offset=toOffset(arguments[1],1);var length=this.length;var src=toObject(arrayLike);var len=toLength(src.length);var index=0;if(len+offset>length)throw RangeError(WRONG_LENGTH);while(index<len)this[offset+index]=src[index++];};var $iterators={entries:function entries(){return arrayEntries.call(validate(this));},keys:function keys(){return arrayKeys.call(validate(this));},values:function values(){return arrayValues.call(validate(this));}};var isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&typeof key!='symbol'&&key in target&&String(+key)==String(key);};var $getDesc=function getOwnPropertyDescriptor(target,key){return isTAIndex(target,key=toPrimitive(key,true))?propertyDesc(2,target[key]):gOPD(target,key);};var $setDesc=function defineProperty(target,key,desc){if(isTAIndex(target,key=toPrimitive(key,true))&&isObject(desc)&&has(desc,'value')&&!has(desc,'get')&&!has(desc,'set')&&!desc.configurable&&(!has(desc,'writable')||desc.writable)&&(!has(desc,'enumerable')||desc.enumerable)){target[key]=desc.value;return target;}return dP(target,key,desc);};if(!ALL_CONSTRUCTORS){$GOPD.f=$getDesc;$DP.f=$setDesc;}
$export($export.S+$export.F*!ALL_CONSTRUCTORS,'Object',{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc});if(fails(function(){arrayToString.call({});})){arrayToString=arrayToLocaleString=function toString(){return arrayJoin.call(this);};}
var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators);hide($TypedArrayPrototype$,ITERATOR,$iterators.values);redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString});addGetter($TypedArrayPrototype$,'buffer','b');addGetter($TypedArrayPrototype$,'byteOffset','o');addGetter($TypedArrayPrototype$,'byteLength','l');addGetter($TypedArrayPrototype$,'length','e');dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY];}});module.exports=function(KEY,BYTES,wrapper,CLAMPED){CLAMPED=!!CLAMPED;var NAME=KEY+(CLAMPED?'Clamped':'')+'Array';var GETTER='get'+KEY;var SETTER='set'+KEY;var TypedArray=global[NAME];var Base=TypedArray||{};var TAC=TypedArray&&getPrototypeOf(TypedArray);var FORCED=!TypedArray||!$typed.ABV;var O={};var TypedArrayPrototype=TypedArray&&TypedArray[PROTOTYPE];var getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN);};var setter=function(that,index,value){var data=that._d;if(CLAMPED)value=(value=Math.round(value))<0?0:value>0xff?0xff:value&0xff;data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN);};var addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index);},set:function(value){return setter(this,index,value);},enumerable:true});};if(FORCED){TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,'_d');var index=0;var offset=0;var buffer,byteLength,length,klass;if(!isObject(data)){length=toIndex(data);byteLength=length*BYTES;buffer=new $ArrayBuffer(byteLength);}else if(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER){buffer=data;offset=toOffset($offset,BYTES);var $len=data.byteLength;if($length===undefined){if($len%BYTES)throw RangeError(WRONG_LENGTH);byteLength=$len-offset;if(byteLength<0)throw RangeError(WRONG_LENGTH);}else{byteLength=toLength($length)*BYTES;if(byteLength+offset>$len)throw RangeError(WRONG_LENGTH);}
length=byteLength/BYTES;}else if(TYPED_ARRAY in data){return fromList(TypedArray,data);}else{return $from.call(TypedArray,data);}
hide(that,'_d',{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});while(index<length)addElement(that,index++);});TypedArrayPrototype=TypedArray[PROTOTYPE]=create($TypedArrayPrototype$);hide(TypedArrayPrototype,'constructor',TypedArray);}else if(!fails(function(){TypedArray(1);})||!fails(function(){new TypedArray(-1);})||!$iterDetect(function(iter){new TypedArray();new TypedArray(null);new TypedArray(1.5);new TypedArray(iter);},true)){TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;if(!isObject(data))return new Base(toIndex(data));if(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER){return $length!==undefined?new Base(data,toOffset($offset,BYTES),$length):$offset!==undefined?new Base(data,toOffset($offset,BYTES)):new Base(data);}
if(TYPED_ARRAY in data)return fromList(TypedArray,data);return $from.call(TypedArray,data);});arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){if(!(key in TypedArray))hide(TypedArray,key,Base[key]);});TypedArray[PROTOTYPE]=TypedArrayPrototype;TypedArrayPrototype.constructor=TypedArray;}
var $nativeIterator=TypedArrayPrototype[ITERATOR];var CORRECT_ITER_NAME=!!$nativeIterator&&($nativeIterator.name=='values'||$nativeIterator.name==undefined);var $iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,true);hide(TypedArrayPrototype,TYPED_ARRAY,NAME);hide(TypedArrayPrototype,VIEW,true);hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray);if(CLAMPED?new TypedArray(1)[TAG]!=NAME:!(TAG in TypedArrayPrototype)){dP(TypedArrayPrototype,TAG,{get:function(){return NAME;}});}
O[NAME]=TypedArray;$export($export.G+$export.W+$export.F*(TypedArray!=Base),O);$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES});$export($export.S+$export.F*fails(function(){Base.of.call(TypedArray,1);}),NAME,{from:$from,of:$of});if(!(BYTES_PER_ELEMENT in TypedArrayPrototype))hide(TypedArrayPrototype,BYTES_PER_ELEMENT,BYTES);$export($export.P,NAME,proto);setSpecies(NAME);$export($export.P+$export.F*FORCED_SET,NAME,{set:$set});$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators);if(TypedArrayPrototype.toString!=arrayToString)TypedArrayPrototype.toString=arrayToString;$export($export.P+$export.F*fails(function(){new TypedArray(1).slice();}),NAME,{slice:$slice});$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString();})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2]);})),NAME,{toLocaleString:$toLocaleString});Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator;if(!CORRECT_ITER_NAME)hide(TypedArrayPrototype,ITERATOR,$iterator);};}else module.exports=function(){};});_typedArray('Int8',1,function(init){return function Int8Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});_typedArray('Uint8',1,function(init){return function Uint8Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});_typedArray('Uint8',1,function(init){return function Uint8ClampedArray(data,byteOffset,length){return init(this,data,byteOffset,length);};},true);_typedArray('Int16',2,function(init){return function Int16Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});_typedArray('Uint16',2,function(init){return function Uint16Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});_typedArray('Int32',4,function(init){return function Int32Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});_typedArray('Uint32',4,function(init){return function Uint32Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});_typedArray('Float32',4,function(init){return function Float32Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});_typedArray('Float64',8,function(init){return function Float64Array(data,byteOffset,length){return init(this,data,byteOffset,length);};});var _iterCall=function(iterator,fn,value,entries){try{return entries?fn(_anObject(value)[0],value[1]):fn(value);}catch(e){var ret=iterator['return'];if(ret!==undefined)_anObject(ret.call(iterator));throw e;}};var _forOf=createCommonjsModule(function(module){var BREAK={};var RETURN={};var exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var iterFn=ITERATOR?function(){return iterable;}:core_getIteratorMethod(iterable);var f=_ctx(fn,that,entries?2:1);var index=0;var length,step,iterator,result;if(typeof iterFn!='function')throw TypeError(iterable+' is not iterable!');if(_isArrayIter(iterFn))for(length=_toLength(iterable.length);length>index;index++){result=entries?f(_anObject(step=iterable[index])[0],step[1]):f(iterable[index]);if(result===BREAK||result===RETURN)return result;}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;){result=_iterCall(iterator,f,step.value,entries);if(result===BREAK||result===RETURN)return result;}};exports.BREAK=BREAK;exports.RETURN=RETURN;});var _meta=createCommonjsModule(function(module){var META=_uid('meta');var setDesc=_objectDp.f;var id=0;var isExtensible=Object.isExtensible||function(){return true;};var FREEZE=!_fails(function(){return isExtensible(Object.preventExtensions({}));});var setMeta=function(it){setDesc(it,META,{value:{i:'O'+ ++id,w:{}}});};var fastKey=function(it,create){if(!_isObject(it))return typeof it=='symbol'?it:(typeof it=='string'?'S':'P')+it;if(!_has(it,META)){if(!isExtensible(it))return'F';if(!create)return'E';setMeta(it);}return it[META].i;};var getWeak=function(it,create){if(!_has(it,META)){if(!isExtensible(it))return true;if(!create)return false;setMeta(it);}return it[META].w;};var onFreeze=function(it){if(FREEZE&&meta.NEED&&isExtensible(it)&&!_has(it,META))setMeta(it);return it;};var meta=module.exports={KEY:META,NEED:false,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze};});var _meta_1=_meta.KEY;var _meta_2=_meta.NEED;var _meta_3=_meta.fastKey;var _meta_4=_meta.getWeak;var _meta_5=_meta.onFreeze;var _validateCollection=function(it,TYPE){if(!_isObject(it)||it._t!==TYPE)throw TypeError('Incompatible receiver, '+TYPE+' required!');return it;};var dP$1=_objectDp.f;var fastKey=_meta.fastKey;var SIZE=_descriptors?'_s':'size';var getEntry=function(that,key){var index=fastKey(key);var entry;if(index!=='F')return that._i[index];for(entry=that._f;entry;entry=entry.n){if(entry.k==key)return entry;}};var _collectionStrong={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){_anInstance(that,C,NAME,'_i');that._t=NAME;that._i=_objectCreate(null);that._f=undefined;that._l=undefined;that[SIZE]=0;if(iterable!=undefined)_forOf(iterable,IS_MAP,that[ADDER],that);});_redefineAll(C.prototype,{clear:function clear(){for(var that=_validateCollection(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n){entry.r=true;if(entry.p)entry.p=entry.p.n=undefined;delete data[entry.i];}
that._f=that._l=undefined;that[SIZE]=0;},'delete':function(key){var that=_validateCollection(this,NAME);var entry=getEntry(that,key);if(entry){var next=entry.n;var prev=entry.p;delete that._i[entry.i];entry.r=true;if(prev)prev.n=next;if(next)next.p=prev;if(that._f==entry)that._f=next;if(that._l==entry)that._l=prev;that[SIZE]--;}return!!entry;},forEach:function forEach(callbackfn){_validateCollection(this,NAME);var f=_ctx(callbackfn,arguments.length>1?arguments[1]:undefined,3);var entry;while(entry=entry?entry.n:this._f){f(entry.v,entry.k,this);while(entry&&entry.r)entry=entry.p;}},has:function has(key){return!!getEntry(_validateCollection(this,NAME),key);}});if(_descriptors)dP$1(C.prototype,'size',{get:function(){return _validateCollection(this,NAME)[SIZE];}});return C;},def:function(that,key,value){var entry=getEntry(that,key);var prev,index;if(entry){entry.v=value;}else{that._l=entry={i:index=fastKey(key,true),k:key,v:value,p:prev=that._l,n:undefined,r:false};if(!that._f)that._f=entry;if(prev)prev.n=entry;that[SIZE]++;if(index!=='F')that._i[index]=entry;}return that;},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){_iterDefine(C,NAME,function(iterated,kind){this._t=_validateCollection(iterated,NAME);this._k=kind;this._l=undefined;},function(){var that=this;var kind=that._k;var entry=that._l;while(entry&&entry.r)entry=entry.p;if(!that._t||!(that._l=entry=entry?entry.n:that._t._f)){that._t=undefined;return _iterStep(1);}
if(kind=='keys')return _iterStep(0,entry.k);if(kind=='values')return _iterStep(0,entry.v);return _iterStep(0,[entry.k,entry.v]);},IS_MAP?'entries':'values',!IS_MAP,true);_setSpecies(NAME);}};var check=function(O,proto){_anObject(O);if(!_isObject(proto)&&proto!==null)throw TypeError(proto+": can't set as prototype!");};var _setProto={set:Object.setPrototypeOf||('__proto__'in{}?function(test,buggy,set){try{set=_ctx(Function.call,_objectGopd.f(Object.prototype,'__proto__').set,2);set(test,[]);buggy=!(test instanceof Array);}catch(e){buggy=true;}
return function setPrototypeOf(O,proto){check(O,proto);if(buggy)O.__proto__=proto;else set(O,proto);return O;};}({},false):undefined),check:check};var setPrototypeOf=_setProto.set;var _inheritIfRequired=function(that,target,C){var S=target.constructor;var P;if(S!==C&&typeof S=='function'&&(P=S.prototype)!==C.prototype&&_isObject(P)&&setPrototypeOf){setPrototypeOf(that,P);}return that;};var _collection=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=_global[NAME];var C=Base;var ADDER=IS_MAP?'set':'add';var proto=C&&C.prototype;var O={};var fixMethod=function(KEY){var fn=proto[KEY];_redefine(proto,KEY,KEY=='delete'?function(a){return IS_WEAK&&!_isObject(a)?false:fn.call(this,a===0?0:a);}:KEY=='has'?function has(a){return IS_WEAK&&!_isObject(a)?false:fn.call(this,a===0?0:a);}:KEY=='get'?function get(a){return IS_WEAK&&!_isObject(a)?undefined:fn.call(this,a===0?0:a);}:KEY=='add'?function add(a){fn.call(this,a===0?0:a);return this;}:function set(a,b){fn.call(this,a===0?0:a,b);return this;});};if(typeof C!='function'||!(IS_WEAK||proto.forEach&&!_fails(function(){new C().entries().next();}))){C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER);_redefineAll(C.prototype,methods);_meta.NEED=true;}else{var instance=new C();var HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance;var THROWS_ON_PRIMITIVES=_fails(function(){instance.has(1);});var ACCEPT_ITERABLES=_iterDetect(function(iter){new C(iter);});var BUGGY_ZERO=!IS_WEAK&&_fails(function(){var $instance=new C();var index=5;while(index--)$instance[ADDER](index,index);return!$instance.has(-0);});if(!ACCEPT_ITERABLES){C=wrapper(function(target,iterable){_anInstance(target,C,NAME);var that=_inheritIfRequired(new Base(),target,C);if(iterable!=undefined)_forOf(iterable,IS_MAP,that[ADDER],that);return that;});C.prototype=proto;proto.constructor=C;}
if(THROWS_ON_PRIMITIVES||BUGGY_ZERO){fixMethod('delete');fixMethod('has');IS_MAP&&fixMethod('get');}
if(BUGGY_ZERO||HASNT_CHAINING)fixMethod(ADDER);if(IS_WEAK&&proto.clear)delete proto.clear;}
_setToStringTag(C,NAME);O[NAME]=C;_export(_export.G+_export.W+_export.F*(C!=Base),O);if(!IS_WEAK)common.setStrong(C,NAME,IS_MAP);return C;};var MAP='Map';var es6_map=_collection(MAP,function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:undefined);};},{get:function get(key){var entry=_collectionStrong.getEntry(_validateCollection(this,MAP),key);return entry&&entry.v;},set:function set(key,value){return _collectionStrong.def(_validateCollection(this,MAP),key===0?0:key,value);}},_collectionStrong,true);var SET='Set';var es6_set=_collection(SET,function(get){return function Set(){return get(this,arguments.length>0?arguments[0]:undefined);};},{add:function add(value){return _collectionStrong.def(_validateCollection(this,SET),value=value===0?0:value,value);}},_collectionStrong);var f$4=Object.getOwnPropertySymbols;var _objectGops={f:f$4};var $assign=Object.assign;var _objectAssign=!$assign||_fails(function(){var A={};var B={};var S=Symbol();var K='abcdefghijklmnopqrst';A[S]=7;K.split('').forEach(function(k){B[k]=k;});return $assign({},A)[S]!=7||Object.keys($assign({},B)).join('')!=K;})?function assign(target,source){var T=_toObject(target);var aLen=arguments.length;var index=1;var getSymbols=_objectGops.f;var isEnum=_objectPie.f;while(aLen>index){var S=_iobject(arguments[index++]);var keys=getSymbols?_objectKeys(S).concat(getSymbols(S)):_objectKeys(S);var length=keys.length;var j=0;var key;while(length>j)if(isEnum.call(S,key=keys[j++]))T[key]=S[key];}return T;}:$assign;var getWeak=_meta.getWeak;var arrayFind=_arrayMethods(5);var arrayFindIndex=_arrayMethods(6);var id$1=0;var uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore());};var UncaughtFrozenStore=function(){this.a=[];};var findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key;});};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1];},has:function(key){return!!findUncaughtFrozen(this,key);},set:function(key,value){var entry=findUncaughtFrozen(this,key);if(entry)entry[1]=value;else this.a.push([key,value]);},'delete':function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key;});if(~index)this.a.splice(index,1);return!!~index;}};var _collectionWeak={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){_anInstance(that,C,NAME,'_i');that._t=NAME;that._i=id$1++;that._l=undefined;if(iterable!=undefined)_forOf(iterable,IS_MAP,that[ADDER],that);});_redefineAll(C.prototype,{'delete':function(key){if(!_isObject(key))return false;var data=getWeak(key);if(data===true)return uncaughtFrozenStore(_validateCollection(this,NAME))['delete'](key);return data&&_has(data,this._i)&&delete data[this._i];},has:function has(key){if(!_isObject(key))return false;var data=getWeak(key);if(data===true)return uncaughtFrozenStore(_validateCollection(this,NAME)).has(key);return data&&_has(data,this._i);}});return C;},def:function(that,key,value){var data=getWeak(_anObject(key),true);if(data===true)uncaughtFrozenStore(that).set(key,value);else data[that._i]=value;return that;},ufstore:uncaughtFrozenStore};var es6_weakMap=createCommonjsModule(function(module){var each=_arrayMethods(0);var WEAK_MAP='WeakMap';var getWeak=_meta.getWeak;var isExtensible=Object.isExtensible;var uncaughtFrozenStore=_collectionWeak.ufstore;var tmp={};var InternalMap;var wrapper=function(get){return function WeakMap(){return get(this,arguments.length>0?arguments[0]:undefined);};};var methods={get:function get(key){if(_isObject(key)){var data=getWeak(key);if(data===true)return uncaughtFrozenStore(_validateCollection(this,WEAK_MAP)).get(key);return data?data[this._i]:undefined;}},set:function set(key,value){return _collectionWeak.def(_validateCollection(this,WEAK_MAP),key,value);}};var $WeakMap=module.exports=_collection(WEAK_MAP,wrapper,methods,_collectionWeak,true,true);if(_fails(function(){return new $WeakMap().set((Object.freeze||Object)(tmp),7).get(tmp)!=7;})){InternalMap=_collectionWeak.getConstructor(wrapper,WEAK_MAP);_objectAssign(InternalMap.prototype,methods);_meta.NEED=true;each(['delete','has','get','set'],function(key){var proto=$WeakMap.prototype;var method=proto[key];_redefine(proto,key,function(a,b){if(_isObject(a)&&!isExtensible(a)){if(!this._f)this._f=new InternalMap();var result=this._f[key](a,b);return key=='set'?this:result;}return method.call(this,a,b);});});}});var WEAK_SET='WeakSet';_collection(WEAK_SET,function(get){return function WeakSet(){return get(this,arguments.length>0?arguments[0]:undefined);};},{add:function add(value){return _collectionWeak.def(_validateCollection(this,WEAK_SET),value,true);}},_collectionWeak,false,true);var rApply=(_global.Reflect||{}).apply;var fApply=Function.apply;_export(_export.S+_export.F*!_fails(function(){rApply(function(){});}),'Reflect',{apply:function apply(target,thisArgument,argumentsList){var T=_aFunction(target);var L=_anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L);}});var _invoke=function(fn,args,that){var un=that===undefined;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3]);}return fn.apply(that,args);};var arraySlice=[].slice;var factories={};var construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]='a['+i+']';factories[len]=Function('F,a','return new F('+n.join(',')+')');}return factories[len](F,args);};var _bind=Function.bind||function bind(that){var fn=_aFunction(this);var partArgs=arraySlice.call(arguments,1);var bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):_invoke(fn,args,that);};if(_isObject(fn.prototype))bound.prototype=fn.prototype;return bound;};var rConstruct=(_global.Reflect||{}).construct;var NEW_TARGET_BUG=_fails(function(){function F(){}
return!(rConstruct(function(){},[],F)instanceof F);});var ARGS_BUG=!_fails(function(){rConstruct(function(){});});_export(_export.S+_export.F*(NEW_TARGET_BUG||ARGS_BUG),'Reflect',{construct:function construct(Target,args){_aFunction(Target);_anObject(args);var newTarget=arguments.length<3?Target:_aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target();case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3]);}
var $args=[null];$args.push.apply($args,args);return new(_bind.apply(Target,$args))();}
var proto=newTarget.prototype;var instance=_objectCreate(_isObject(proto)?proto:Object.prototype);var result=Function.apply.call(Target,instance,args);return _isObject(result)?result:instance;}});_export(_export.S+_export.F*_fails(function(){Reflect.defineProperty(_objectDp.f({},1,{value:1}),1,{value:2});}),'Reflect',{defineProperty:function defineProperty(target,propertyKey,attributes){_anObject(target);propertyKey=_toPrimitive(propertyKey,true);_anObject(attributes);try{_objectDp.f(target,propertyKey,attributes);return true;}catch(e){return false;}}});var gOPD$1=_objectGopd.f;_export(_export.S,'Reflect',{deleteProperty:function deleteProperty(target,propertyKey){var desc=gOPD$1(_anObject(target),propertyKey);return desc&&!desc.configurable?false:delete target[propertyKey];}});function get(target,propertyKey){var receiver=arguments.length<3?target:arguments[2];var desc,proto;if(_anObject(target)===receiver)return target[propertyKey];if(desc=_objectGopd.f(target,propertyKey))return _has(desc,'value')?desc.value:desc.get!==undefined?desc.get.call(receiver):undefined;if(_isObject(proto=_objectGpo(target)))return get(proto,propertyKey,receiver);}
_export(_export.S,'Reflect',{get:get});_export(_export.S,'Reflect',{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return _objectGopd.f(_anObject(target),propertyKey);}});_export(_export.S,'Reflect',{getPrototypeOf:function getPrototypeOf(target){return _objectGpo(_anObject(target));}});_export(_export.S,'Reflect',{has:function has(target,propertyKey){return propertyKey in target;}});var $isExtensible=Object.isExtensible;_export(_export.S,'Reflect',{isExtensible:function isExtensible(target){_anObject(target);return $isExtensible?$isExtensible(target):true;}});var Reflect$1=_global.Reflect;var _ownKeys=Reflect$1&&Reflect$1.ownKeys||function ownKeys(it){var keys=_objectGopn.f(_anObject(it));var getSymbols=_objectGops.f;return getSymbols?keys.concat(getSymbols(it)):keys;};_export(_export.S,'Reflect',{ownKeys:_ownKeys});var $preventExtensions=Object.preventExtensions;_export(_export.S,'Reflect',{preventExtensions:function preventExtensions(target){_anObject(target);try{if($preventExtensions)$preventExtensions(target);return true;}catch(e){return false;}}});function set(target,propertyKey,V){var receiver=arguments.length<4?target:arguments[3];var ownDesc=_objectGopd.f(_anObject(target),propertyKey);var existingDescriptor,proto;if(!ownDesc){if(_isObject(proto=_objectGpo(target))){return set(proto,propertyKey,V,receiver);}
ownDesc=_propertyDesc(0);}
if(_has(ownDesc,'value')){if(ownDesc.writable===false||!_isObject(receiver))return false;if(existingDescriptor=_objectGopd.f(receiver,propertyKey)){if(existingDescriptor.get||existingDescriptor.set||existingDescriptor.writable===false)return false;existingDescriptor.value=V;_objectDp.f(receiver,propertyKey,existingDescriptor);}else _objectDp.f(receiver,propertyKey,_propertyDesc(0,V));return true;}
return ownDesc.set===undefined?false:(ownDesc.set.call(receiver,V),true);}
_export(_export.S,'Reflect',{set:set});if(_setProto)_export(_export.S,'Reflect',{setPrototypeOf:function setPrototypeOf(target,proto){_setProto.check(target,proto);try{_setProto.set(target,proto);return true;}catch(e){return false;}}});var process=_global.process;var setTask=_global.setImmediate;var clearTask=_global.clearImmediate;var MessageChannel=_global.MessageChannel;var Dispatch=_global.Dispatch;var counter=0;var queue={};var ONREADYSTATECHANGE='onreadystatechange';var defer,channel,port;var run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id];fn();}};var listener=function(event){run.call(event.data);};if(!setTask||!clearTask){setTask=function setImmediate(fn){var args=[];var i=1;while(arguments.length>i)args.push(arguments[i++]);queue[++counter]=function(){_invoke(typeof fn=='function'?fn:Function(fn),args);};defer(counter);return counter;};clearTask=function clearImmediate(id){delete queue[id];};if(_cof(process)=='process'){defer=function(id){process.nextTick(_ctx(run,id,1));};}else if(Dispatch&&Dispatch.now){defer=function(id){Dispatch.now(_ctx(run,id,1));};}else if(MessageChannel){channel=new MessageChannel();port=channel.port2;channel.port1.onmessage=listener;defer=_ctx(port.postMessage,port,1);}else if(_global.addEventListener&&typeof postMessage=='function'&&!_global.importScripts){defer=function(id){_global.postMessage(id+'','*');};_global.addEventListener('message',listener,false);}else if(ONREADYSTATECHANGE in _domCreate('script')){defer=function(id){_html.appendChild(_domCreate('script'))[ONREADYSTATECHANGE]=function(){_html.removeChild(this);run.call(id);};};}else{defer=function(id){setTimeout(_ctx(run,id,1),0);};}}
var _task={set:setTask,clear:clearTask};var macrotask=_task.set;var Observer=_global.MutationObserver||_global.WebKitMutationObserver;var process$1=_global.process;var Promise$1=_global.Promise;var isNode=_cof(process$1)=='process';var _microtask=function(){var head,last,notify;var flush=function(){var parent,fn;if(isNode&&(parent=process$1.domain))parent.exit();while(head){fn=head.fn;head=head.next;try{fn();}catch(e){if(head)notify();else last=undefined;throw e;}}last=undefined;if(parent)parent.enter();};if(isNode){notify=function(){process$1.nextTick(flush);};}else if(Observer&&!(_global.navigator&&_global.navigator.standalone)){var toggle=true;var node=document.createTextNode('');new Observer(flush).observe(node,{characterData:true});notify=function(){node.data=toggle=!toggle;};}else if(Promise$1&&Promise$1.resolve){var promise=Promise$1.resolve(undefined);notify=function(){promise.then(flush);};}else{notify=function(){macrotask.call(_global,flush);};}
return function(fn){var task={fn:fn,next:undefined};if(last)last.next=task;if(!head){head=task;notify();}last=task;};};function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError('Bad Promise constructor');resolve=$$resolve;reject=$$reject;});this.resolve=_aFunction(resolve);this.reject=_aFunction(reject);}
var f$5=function(C){return new PromiseCapability(C);};var _newPromiseCapability={f:f$5};var _perform=function(exec){try{return{e:false,v:exec()};}catch(e){return{e:true,v:e};}};var navigator$1=_global.navigator;var _userAgent=navigator$1&&navigator$1.userAgent||'';var _promiseResolve=function(C,x){_anObject(C);if(_isObject(x)&&x.constructor===C)return x;var promiseCapability=_newPromiseCapability.f(C);var resolve=promiseCapability.resolve;resolve(x);return promiseCapability.promise;};var task=_task.set;var microtask=_microtask();var PROMISE='Promise';var TypeError$1=_global.TypeError;var process$2=_global.process;var versions=process$2&&process$2.versions;var v8=versions&&versions.v8||'';var $Promise=_global[PROMISE];var isNode$1=_classof(process$2)=='process';var empty=function(){};var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper;var newPromiseCapability=newGenericPromiseCapability=_newPromiseCapability.f;var USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1);var FakePromise=(promise.constructor={})[_wks('species')]=function(exec){exec(empty,empty);};return(isNode$1||typeof PromiseRejectionEvent=='function')&&promise.then(empty)instanceof FakePromise&&v8.indexOf('6.6')!==0&&_userAgent.indexOf('Chrome/66')===-1;}catch(e){}}();var isThenable=function(it){var then;return _isObject(it)&&typeof(then=it.then)=='function'?then:false;};var notify=function(promise,isReject){if(promise._n)return;promise._n=true;var chain=promise._c;microtask(function(){var value=promise._v;var ok=promise._s==1;var i=0;var run=function(reaction){var handler=ok?reaction.ok:reaction.fail;var resolve=reaction.resolve;var reject=reaction.reject;var domain=reaction.domain;var result,then,exited;try{if(handler){if(!ok){if(promise._h==2)onHandleUnhandled(promise);promise._h=1;}
if(handler===true)result=value;else{if(domain)domain.enter();result=handler(value);if(domain){domain.exit();exited=true;}}
if(result===reaction.promise){reject(TypeError$1('Promise-chain cycle'));}else if(then=isThenable(result)){then.call(result,resolve,reject);}else resolve(result);}else reject(value);}catch(e){if(domain&&!exited)domain.exit();reject(e);}};while(chain.length>i)run(chain[i++]);promise._c=[];promise._n=false;if(isReject&&!promise._h)onUnhandled(promise);});};var onUnhandled=function(promise){task.call(_global,function(){var value=promise._v;var unhandled=isUnhandled(promise);var result,handler,console;if(unhandled){result=_perform(function(){if(isNode$1){process$2.emit('unhandledRejection',value,promise);}else if(handler=_global.onunhandledrejection){handler({promise:promise,reason:value});}else if((console=_global.console)&&console.error){console.error('Unhandled promise rejection',value);}});promise._h=isNode$1||isUnhandled(promise)?2:1;}promise._a=undefined;if(unhandled&&result.e)throw result.v;});};var isUnhandled=function(promise){return promise._h!==1&&(promise._a||promise._c).length===0;};var onHandleUnhandled=function(promise){task.call(_global,function(){var handler;if(isNode$1){process$2.emit('rejectionHandled',promise);}else if(handler=_global.onrejectionhandled){handler({promise:promise,reason:promise._v});}});};var $reject=function(value){var promise=this;if(promise._d)return;promise._d=true;promise=promise._w||promise;promise._v=value;promise._s=2;if(!promise._a)promise._a=promise._c.slice();notify(promise,true);};var $resolve=function(value){var promise=this;var then;if(promise._d)return;promise._d=true;promise=promise._w||promise;try{if(promise===value)throw TypeError$1("Promise can't be resolved itself");if(then=isThenable(value)){microtask(function(){var wrapper={_w:promise,_d:false};try{then.call(value,_ctx($resolve,wrapper,1),_ctx($reject,wrapper,1));}catch(e){$reject.call(wrapper,e);}});}else{promise._v=value;promise._s=1;notify(promise,false);}}catch(e){$reject.call({_w:promise,_d:false},e);}};if(!USE_NATIVE){$Promise=function Promise(executor){_anInstance(this,$Promise,PROMISE,'_h');_aFunction(executor);Internal.call(this);try{executor(_ctx($resolve,this,1),_ctx($reject,this,1));}catch(err){$reject.call(this,err);}};Internal=function Promise(executor){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false;};Internal.prototype=_redefineAll($Promise.prototype,{then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(_speciesConstructor(this,$Promise));reaction.ok=typeof onFulfilled=='function'?onFulfilled:true;reaction.fail=typeof onRejected=='function'&&onRejected;reaction.domain=isNode$1?process$2.domain:undefined;this._c.push(reaction);if(this._a)this._a.push(reaction);if(this._s)notify(this,false);return reaction.promise;},'catch':function(onRejected){return this.then(undefined,onRejected);}});OwnPromiseCapability=function(){var promise=new Internal();this.promise=promise;this.resolve=_ctx($resolve,promise,1);this.reject=_ctx($reject,promise,1);};_newPromiseCapability.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C);};}
_export(_export.G+_export.W+_export.F*!USE_NATIVE,{Promise:$Promise});_setToStringTag($Promise,PROMISE);_setSpecies(PROMISE);Wrapper=_core[PROMISE];_export(_export.S+_export.F*!USE_NATIVE,PROMISE,{reject:function reject(r){var capability=newPromiseCapability(this);var $$reject=capability.reject;$$reject(r);return capability.promise;}});_export(_export.S+_export.F*(!USE_NATIVE),PROMISE,{resolve:function resolve(x){return _promiseResolve(_library&&this===Wrapper?$Promise:this,x);}});_export(_export.S+_export.F*!(USE_NATIVE&&_iterDetect(function(iter){$Promise.all(iter)['catch'](empty);})),PROMISE,{all:function all(iterable){var C=this;var capability=newPromiseCapability(C);var resolve=capability.resolve;var reject=capability.reject;var result=_perform(function(){var values=[];var index=0;var remaining=1;_forOf(iterable,false,function(promise){var $index=index++;var alreadyCalled=false;values.push(undefined);remaining++;C.resolve(promise).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values[$index]=value;--remaining||resolve(values);},reject);});--remaining||resolve(values);});if(result.e)reject(result.v);return capability.promise;},race:function race(iterable){var C=this;var capability=newPromiseCapability(C);var reject=capability.reject;var result=_perform(function(){_forOf(iterable,false,function(promise){C.resolve(promise).then(capability.resolve,reject);});});if(result.e)reject(result.v);return capability.promise;}});var f$6=_wks;var _wksExt={f:f$6};var defineProperty=_objectDp.f;var _wksDefine=function(name){var $Symbol=_core.Symbol||(_core.Symbol=_global.Symbol||{});if(name.charAt(0)!='_'&&!(name in $Symbol))defineProperty($Symbol,name,{value:_wksExt.f(name)});};var _enumKeys=function(it){var result=_objectKeys(it);var getSymbols=_objectGops.f;if(getSymbols){var symbols=getSymbols(it);var isEnum=_objectPie.f;var i=0;var key;while(symbols.length>i)if(isEnum.call(it,key=symbols[i++]))result.push(key);}return result;};var gOPN=_objectGopn.f;var toString$1={}.toString;var windowNames=typeof window=='object'&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return gOPN(it);}catch(e){return windowNames.slice();}};var f$7=function getOwnPropertyNames(it){return windowNames&&toString$1.call(it)=='[object Window]'?getWindowNames(it):gOPN(_toIobject(it));};var _objectGopnExt={f:f$7};var META=_meta.KEY;var gOPD$2=_objectGopd.f;var dP$2=_objectDp.f;var gOPN$1=_objectGopnExt.f;var $Symbol=_global.Symbol;var $JSON=_global.JSON;var _stringify=$JSON&&$JSON.stringify;var PROTOTYPE$2='prototype';var HIDDEN=_wks('_hidden');var TO_PRIMITIVE=_wks('toPrimitive');var isEnum={}.propertyIsEnumerable;var SymbolRegistry=_shared('symbol-registry');var AllSymbols=_shared('symbols');var OPSymbols=_shared('op-symbols');var ObjectProto$1=Object[PROTOTYPE$2];var USE_NATIVE$1=typeof $Symbol=='function';var QObject=_global.QObject;var setter=!QObject||!QObject[PROTOTYPE$2]||!QObject[PROTOTYPE$2].findChild;var setSymbolDesc=_descriptors&&_fails(function(){return _objectCreate(dP$2({},'a',{get:function(){return dP$2(this,'a',{value:7}).a;}})).a!=7;})?function(it,key,D){var protoDesc=gOPD$2(ObjectProto$1,key);if(protoDesc)delete ObjectProto$1[key];dP$2(it,key,D);if(protoDesc&&it!==ObjectProto$1)dP$2(ObjectProto$1,key,protoDesc);}:dP$2;var wrap=function(tag){var sym=AllSymbols[tag]=_objectCreate($Symbol[PROTOTYPE$2]);sym._k=tag;return sym;};var isSymbol=USE_NATIVE$1&&typeof $Symbol.iterator=='symbol'?function(it){return typeof it=='symbol';}:function(it){return it instanceof $Symbol;};var $defineProperty=function defineProperty(it,key,D){if(it===ObjectProto$1)$defineProperty(OPSymbols,key,D);_anObject(it);key=_toPrimitive(key,true);_anObject(D);if(_has(AllSymbols,key)){if(!D.enumerable){if(!_has(it,HIDDEN))dP$2(it,HIDDEN,_propertyDesc(1,{}));it[HIDDEN][key]=true;}else{if(_has(it,HIDDEN)&&it[HIDDEN][key])it[HIDDEN][key]=false;D=_objectCreate(D,{enumerable:_propertyDesc(0,false)});}return setSymbolDesc(it,key,D);}return dP$2(it,key,D);};var $defineProperties=function defineProperties(it,P){_anObject(it);var keys=_enumKeys(P=_toIobject(P));var i=0;var l=keys.length;var key;while(l>i)$defineProperty(it,key=keys[i++],P[key]);return it;};var $create=function create(it,P){return P===undefined?_objectCreate(it):$defineProperties(_objectCreate(it),P);};var $propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=_toPrimitive(key,true));if(this===ObjectProto$1&&_has(AllSymbols,key)&&!_has(OPSymbols,key))return false;return E||!_has(this,key)||!_has(AllSymbols,key)||_has(this,HIDDEN)&&this[HIDDEN][key]?E:true;};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){it=_toIobject(it);key=_toPrimitive(key,true);if(it===ObjectProto$1&&_has(AllSymbols,key)&&!_has(OPSymbols,key))return;var D=gOPD$2(it,key);if(D&&_has(AllSymbols,key)&&!(_has(it,HIDDEN)&&it[HIDDEN][key]))D.enumerable=true;return D;};var $getOwnPropertyNames=function getOwnPropertyNames(it){var names=gOPN$1(_toIobject(it));var result=[];var i=0;var key;while(names.length>i){if(!_has(AllSymbols,key=names[i++])&&key!=HIDDEN&&key!=META)result.push(key);}return result;};var $getOwnPropertySymbols=function getOwnPropertySymbols(it){var IS_OP=it===ObjectProto$1;var names=gOPN$1(IS_OP?OPSymbols:_toIobject(it));var result=[];var i=0;var key;while(names.length>i){if(_has(AllSymbols,key=names[i++])&&(IS_OP?_has(ObjectProto$1,key):true))result.push(AllSymbols[key]);}return result;};if(!USE_NATIVE$1){$Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');var tag=_uid(arguments.length>0?arguments[0]:undefined);var $set=function(value){if(this===ObjectProto$1)$set.call(OPSymbols,value);if(_has(this,HIDDEN)&&_has(this[HIDDEN],tag))this[HIDDEN][tag]=false;setSymbolDesc(this,tag,_propertyDesc(1,value));};if(_descriptors&&setter)setSymbolDesc(ObjectProto$1,tag,{configurable:true,set:$set});return wrap(tag);};_redefine($Symbol[PROTOTYPE$2],'toString',function toString(){return this._k;});_objectGopd.f=$getOwnPropertyDescriptor;_objectDp.f=$defineProperty;_objectGopn.f=_objectGopnExt.f=$getOwnPropertyNames;_objectPie.f=$propertyIsEnumerable;_objectGops.f=$getOwnPropertySymbols;if(_descriptors&&!_library){_redefine(ObjectProto$1,'propertyIsEnumerable',$propertyIsEnumerable,true);}
_wksExt.f=function(name){return wrap(_wks(name));};}
_export(_export.G+_export.W+_export.F*!USE_NATIVE$1,{Symbol:$Symbol});for(var es6Symbols=('hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables').split(','),j=0;es6Symbols.length>j;)_wks(es6Symbols[j++]);for(var wellKnownSymbols=_objectKeys(_wks.store),k=0;wellKnownSymbols.length>k;)_wksDefine(wellKnownSymbols[k++]);_export(_export.S+_export.F*!USE_NATIVE$1,'Symbol',{'for':function(key){return _has(SymbolRegistry,key+='')?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key);},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+' is not a symbol!');for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key;},useSetter:function(){setter=true;},useSimple:function(){setter=false;}});_export(_export.S+_export.F*!USE_NATIVE$1,'Object',{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$JSON&&_export(_export.S+_export.F*(!USE_NATIVE$1||_fails(function(){var S=$Symbol();return _stringify([S])!='[null]'||_stringify({a:S})!='{}'||_stringify(Object(S))!='{}';})),'JSON',{stringify:function stringify(it){var args=[it];var i=1;var replacer,$replacer;while(arguments.length>i)args.push(arguments[i++]);$replacer=replacer=args[1];if(!_isObject(replacer)&&it===undefined||isSymbol(it))return;if(!_isArray(replacer))replacer=function(key,value){if(typeof $replacer=='function')value=$replacer.call(this,key,value);if(!isSymbol(value))return value;};args[1]=replacer;return _stringify.apply($JSON,args);}});$Symbol[PROTOTYPE$2][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE$2],TO_PRIMITIVE,$Symbol[PROTOTYPE$2].valueOf);_setToStringTag($Symbol,'Symbol');_setToStringTag(Math,'Math',true);_setToStringTag(_global.JSON,'JSON',true);var _objectSap=function(KEY,exec){var fn=(_core.Object||{})[KEY]||Object[KEY];var exp={};exp[KEY]=exec(fn);_export(_export.S+_export.F*_fails(function(){fn(1);}),'Object',exp);};var meta=_meta.onFreeze;_objectSap('freeze',function($freeze){return function freeze(it){return $freeze&&_isObject(it)?$freeze(meta(it)):it;};});var meta$1=_meta.onFreeze;_objectSap('seal',function($seal){return function seal(it){return $seal&&_isObject(it)?$seal(meta$1(it)):it;};});var meta$2=_meta.onFreeze;_objectSap('preventExtensions',function($preventExtensions){return function preventExtensions(it){return $preventExtensions&&_isObject(it)?$preventExtensions(meta$2(it)):it;};});_objectSap('isFrozen',function($isFrozen){return function isFrozen(it){return _isObject(it)?$isFrozen?$isFrozen(it):false:true;};});_objectSap('isSealed',function($isSealed){return function isSealed(it){return _isObject(it)?$isSealed?$isSealed(it):false:true;};});_objectSap('isExtensible',function($isExtensible){return function isExtensible(it){return _isObject(it)?$isExtensible?$isExtensible(it):true:false;};});var $getOwnPropertyDescriptor$1=_objectGopd.f;_objectSap('getOwnPropertyDescriptor',function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor$1(_toIobject(it),key);};});_objectSap('getPrototypeOf',function(){return function getPrototypeOf(it){return _objectGpo(_toObject(it));};});_objectSap('keys',function(){return function keys(it){return _objectKeys(_toObject(it));};});_objectSap('getOwnPropertyNames',function(){return _objectGopnExt.f;});_export(_export.S+_export.F,'Object',{assign:_objectAssign});var _sameValue=Object.is||function is(x,y){return x===y?x!==0||1/x===1/y:x!=x&&y!=y;};_export(_export.S,'Object',{is:_sameValue});var dP$3=_objectDp.f;var FProto=Function.prototype;var nameRE=/^\s*function ([^ (]*)/;var NAME='name';NAME in FProto||_descriptors&&dP$3(FProto,NAME,{configurable:true,get:function(){try{return(''+this).match(nameRE)[1];}catch(e){return'';}}});_export(_export.S,'String',{raw:function raw(callSite){var tpl=_toIobject(callSite.raw);var len=_toLength(tpl.length);var aLen=arguments.length;var res=[];var i=0;while(len>i){res.push(String(tpl[i++]));if(i<aLen)res.push(String(arguments[i]));}return res.join('');}});var fromCharCode=String.fromCharCode;var $fromCodePoint=String.fromCodePoint;_export(_export.S+_export.F*(!!$fromCodePoint&&$fromCodePoint.length!=1),'String',{fromCodePoint:function fromCodePoint(x){var res=[];var aLen=arguments.length;var i=0;var code;while(aLen>i){code=+arguments[i++];if(_toAbsoluteIndex(code,0x10ffff)!==code)throw RangeError(code+' is not a valid code point');res.push(code<0x10000?fromCharCode(code):fromCharCode(((code-=0x10000)>>10)+0xd800,code%0x400+0xdc00));}return res.join('');}});var _stringAt=function(TO_STRING){return function(that,pos){var s=String(_defined(that));var i=_toInteger(pos);var l=s.length;var a,b;if(i<0||i>=l)return TO_STRING?'':undefined;a=s.charCodeAt(i);return a<0xd800||a>0xdbff||i+1===l||(b=s.charCodeAt(i+1))<0xdc00||b>0xdfff?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-0xd800<<10)+(b-0xdc00)+0x10000;};};var $at=_stringAt(false);_export(_export.P,'String',{codePointAt:function codePointAt(pos){return $at(this,pos);}});var _stringRepeat=function repeat(count){var str=String(_defined(this));var res='';var n=_toInteger(count);if(n<0||n==Infinity)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))if(n&1)res+=str;return res;};_export(_export.P,'String',{repeat:_stringRepeat});var MATCH=_wks('match');var _isRegexp=function(it){var isRegExp;return _isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:_cof(it)=='RegExp');};var _stringContext=function(that,searchString,NAME){if(_isRegexp(searchString))throw TypeError('String#'+NAME+" doesn't accept regex!");return String(_defined(that));};var MATCH$1=_wks('match');var _failsIsRegexp=function(KEY){var re=/./;try{'/./'[KEY](re);}catch(e){try{re[MATCH$1]=false;return!'/./'[KEY](re);}catch(f){}}return true;};var STARTS_WITH='startsWith';var $startsWith=''[STARTS_WITH];_export(_export.P+_export.F*_failsIsRegexp(STARTS_WITH),'String',{startsWith:function startsWith(searchString){var that=_stringContext(this,searchString,STARTS_WITH);var index=_toLength(Math.min(arguments.length>1?arguments[1]:undefined,that.length));var search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search;}});var ENDS_WITH='endsWith';var $endsWith=''[ENDS_WITH];_export(_export.P+_export.F*_failsIsRegexp(ENDS_WITH),'String',{endsWith:function endsWith(searchString){var that=_stringContext(this,searchString,ENDS_WITH);var endPosition=arguments.length>1?arguments[1]:undefined;var len=_toLength(that.length);var end=endPosition===undefined?len:Math.min(_toLength(endPosition),len);var search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search;}});var INCLUDES='includes';_export(_export.P+_export.F*_failsIsRegexp(INCLUDES),'String',{includes:function includes(searchString){return!!~_stringContext(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:undefined);}});var _flags=function(){var that=_anObject(this);var result='';if(that.global)result+='g';if(that.ignoreCase)result+='i';if(that.multiline)result+='m';if(that.unicode)result+='u';if(that.sticky)result+='y';return result;};if(_descriptors&&/./g.flags!='g')_objectDp.f(RegExp.prototype,'flags',{configurable:true,get:_flags});var _fixReWks=function(KEY,length,exec){var SYMBOL=_wks(KEY);var fns=exec(_defined,SYMBOL,''[KEY]);var strfn=fns[0];var rxfn=fns[1];if(_fails(function(){var O={};O[SYMBOL]=function(){return 7;};return''[KEY](O)!=7;})){_redefine(String.prototype,KEY,strfn);_hide(RegExp.prototype,SYMBOL,length==2?function(string,arg){return rxfn.call(string,this,arg);}:function(string){return rxfn.call(string,this);});}};_fixReWks('match',1,function(defined,MATCH,$match){return[function match(regexp){var O=defined(this);var fn=regexp==undefined?undefined:regexp[MATCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O));},$match];});_fixReWks('replace',2,function(defined,REPLACE,$replace){return[function replace(searchValue,replaceValue){var O=defined(this);var fn=searchValue==undefined?undefined:searchValue[REPLACE];return fn!==undefined?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue);},$replace];});_fixReWks('split',2,function(defined,SPLIT,$split){var isRegExp=_isRegexp;var _split=$split;var $push=[].push;var $SPLIT='split';var LENGTH='length';var LAST_INDEX='lastIndex';if('abbc'[$SPLIT](/(b)*/)[1]=='c'||'test'[$SPLIT](/(?:)/,-1)[LENGTH]!=4||'ab'[$SPLIT](/(?:ab)*/)[LENGTH]!=2||'.'[$SPLIT](/(.?)(.?)/)[LENGTH]!=4||'.'[$SPLIT](/()()/)[LENGTH]>1||''[$SPLIT](/.?/)[LENGTH]){var NPCG=/()??/.exec('')[1]===undefined;$split=function(separator,limit){var string=String(this);if(separator===undefined&&limit===0)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var output=[];var flags=(separator.ignoreCase?'i':'')+
(separator.multiline?'m':'')+
(separator.unicode?'u':'')+
(separator.sticky?'y':'');var lastLastIndex=0;var splitLimit=limit===undefined?4294967295:limit>>>0;var separatorCopy=new RegExp(separator.source,flags+'g');var separator2,match,lastIndex,lastLength,i;if(!NPCG)separator2=new RegExp('^'+separatorCopy.source+'$(?!\\s)',flags);while(match=separatorCopy.exec(string)){lastIndex=match.index+match[0][LENGTH];if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index));if(!NPCG&&match[LENGTH]>1)match[0].replace(separator2,function(){for(i=1;i<arguments[LENGTH]-2;i++)if(arguments[i]===undefined)match[i]=undefined;});if(match[LENGTH]>1&&match.index<string[LENGTH])$push.apply(output,match.slice(1));lastLength=match[0][LENGTH];lastLastIndex=lastIndex;if(output[LENGTH]>=splitLimit)break;}
if(separatorCopy[LAST_INDEX]===match.index)separatorCopy[LAST_INDEX]++;}
if(lastLastIndex===string[LENGTH]){if(lastLength||!separatorCopy.test(''))output.push('');}else output.push(string.slice(lastLastIndex));return output[LENGTH]>splitLimit?output.slice(0,splitLimit):output;};}else if('0'[$SPLIT](undefined,0)[LENGTH]){$split=function(separator,limit){return separator===undefined&&limit===0?[]:_split.call(this,separator,limit);};}
return[function split(separator,limit){var O=defined(this);var fn=separator==undefined?undefined:separator[SPLIT];return fn!==undefined?fn.call(separator,O,limit):$split.call(String(O),separator,limit);},$split];});_fixReWks('search',1,function(defined,SEARCH,$search){return[function search(regexp){var O=defined(this);var fn=regexp==undefined?undefined:regexp[SEARCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O));},$search];});var _createProperty=function(object,index,value){if(index in object)_objectDp.f(object,index,_propertyDesc(0,value));else object[index]=value;};_export(_export.S+_export.F*!_iterDetect(function(iter){}),'Array',{from:function from(arrayLike){var O=_toObject(arrayLike);var C=typeof this=='function'?this:Array;var aLen=arguments.length;var mapfn=aLen>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var index=0;var iterFn=core_getIteratorMethod(O);var length,result,step,iterator;if(mapping)mapfn=_ctx(mapfn,aLen>2?arguments[2]:undefined,2);if(iterFn!=undefined&&!(C==Array&&_isArrayIter(iterFn))){for(iterator=iterFn.call(O),result=new C();!(step=iterator.next()).done;index++){_createProperty(result,index,mapping?_iterCall(iterator,mapfn,[step.value,index],true):step.value);}}else{length=_toLength(O.length);for(result=new C(length);length>index;index++){_createProperty(result,index,mapping?mapfn(O[index],index):O[index]);}}
result.length=index;return result;}});_export(_export.S+_export.F*_fails(function(){function F(){}
return!(Array.of.call(F)instanceof F);}),'Array',{of:function of(){var index=0;var aLen=arguments.length;var result=new(typeof this=='function'?this:Array)(aLen);while(aLen>index)_createProperty(result,index,arguments[index++]);result.length=aLen;return result;}});_export(_export.P,'Array',{copyWithin:_arrayCopyWithin});_addToUnscopables('copyWithin');var $find=_arrayMethods(5);var KEY='find';var forced=true;if(KEY in[])Array(1)[KEY](function(){forced=false;});_export(_export.P+_export.F*forced,'Array',{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined);}});_addToUnscopables(KEY);var $find$1=_arrayMethods(6);var KEY$1='findIndex';var forced$1=true;if(KEY$1 in[])Array(1)[KEY$1](function(){forced$1=false;});_export(_export.P+_export.F*forced$1,'Array',{findIndex:function findIndex(callbackfn){return $find$1(this,callbackfn,arguments.length>1?arguments[1]:undefined);}});_addToUnscopables(KEY$1);_export(_export.P,'Array',{fill:_arrayFill});_addToUnscopables('fill');var _isFinite=_global.isFinite;_export(_export.S,'Number',{isFinite:function isFinite(it){return typeof it=='number'&&_isFinite(it);}});var floor$1=Math.floor;var _isInteger=function isInteger(it){return!_isObject(it)&&isFinite(it)&&floor$1(it)===it;};_export(_export.S,'Number',{isInteger:_isInteger});var abs=Math.abs;_export(_export.S,'Number',{isSafeInteger:function isSafeInteger(number){return _isInteger(number)&&abs(number)<=0x1fffffffffffff;}});_export(_export.S,'Number',{isNaN:function isNaN(number){return number!=number;}});_export(_export.S,'Number',{EPSILON:Math.pow(2,-52)});_export(_export.S,'Number',{MIN_SAFE_INTEGER:-0x1fffffffffffff});_export(_export.S,'Number',{MAX_SAFE_INTEGER:0x1fffffffffffff});var _mathLog1p=Math.log1p||function log1p(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x);};var sqrt=Math.sqrt;var $acosh=Math.acosh;_export(_export.S+_export.F*!($acosh&&Math.floor($acosh(Number.MAX_VALUE))==710&&$acosh(Infinity)==Infinity),'Math',{acosh:function acosh(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:_mathLog1p(x-1+sqrt(x-1)*sqrt(x+1));}});var $asinh=Math.asinh;function asinh(x){return!isFinite(x=+x)||x==0?x:x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1));}
_export(_export.S+_export.F*!($asinh&&1/$asinh(0)>0),'Math',{asinh:asinh});var $atanh=Math.atanh;_export(_export.S+_export.F*!($atanh&&1/$atanh(-0)<0),'Math',{atanh:function atanh(x){return(x=+x)==0?x:Math.log((1+x)/(1-x))/2;}});var _mathSign=Math.sign||function sign(x){return(x=+x)==0||x!=x?x:x<0?-1:1;};_export(_export.S,'Math',{cbrt:function cbrt(x){return _mathSign(x=+x)*Math.pow(Math.abs(x),1/3);}});_export(_export.S,'Math',{clz32:function clz32(x){return(x>>>=0)?31-Math.floor(Math.log(x+0.5)*Math.LOG2E):32;}});var exp=Math.exp;_export(_export.S,'Math',{cosh:function cosh(x){return(exp(x=+x)+exp(-x))/2;}});var $expm1=Math.expm1;var _mathExpm1=(!$expm1||$expm1(10)>22025.465794806719||$expm1(10)<22025.4657948067165168||$expm1(-2e-17)!=-2e-17)?function expm1(x){return(x=+x)==0?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1;}:$expm1;_export(_export.S+_export.F*(_mathExpm1!=Math.expm1),'Math',{expm1:_mathExpm1});var pow=Math.pow;var EPSILON=pow(2,-52);var EPSILON32=pow(2,-23);var MAX32=pow(2,127)*(2-EPSILON32);var MIN32=pow(2,-126);var roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON;};var _mathFround=Math.fround||function fround(x){var $abs=Math.abs(x);var $sign=_mathSign(x);var a,result;if($abs<MIN32)return $sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32;a=(1+EPSILON32/EPSILON)*$abs;result=a-(a-$abs);if(result>MAX32||result!=result)return $sign*Infinity;return $sign*result;};_export(_export.S,'Math',{fround:_mathFround});var abs$1=Math.abs;_export(_export.S,'Math',{hypot:function hypot(value1,value2){var sum=0;var i=0;var aLen=arguments.length;var larg=0;var arg,div;while(i<aLen){arg=abs$1(arguments[i++]);if(larg<arg){div=larg/arg;sum=sum*div*div+1;larg=arg;}else if(arg>0){div=arg/larg;sum+=div*div;}else sum+=arg;}
return larg===Infinity?Infinity:larg*Math.sqrt(sum);}});var $imul=Math.imul;_export(_export.S+_export.F*_fails(function(){return $imul(0xffffffff,5)!=-5||$imul.length!=2;}),'Math',{imul:function imul(x,y){var UINT16=0xffff;var xn=+x;var yn=+y;var xl=UINT16&xn;var yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0);}});_export(_export.S,'Math',{log1p:_mathLog1p});_export(_export.S,'Math',{log10:function log10(x){return Math.log(x)*Math.LOG10E;}});_export(_export.S,'Math',{log2:function log2(x){return Math.log(x)/Math.LN2;}});_export(_export.S,'Math',{sign:_mathSign});var exp$1=Math.exp;_export(_export.S+_export.F*_fails(function(){return!Math.sinh(-2e-17)!=-2e-17;}),'Math',{sinh:function sinh(x){return Math.abs(x=+x)<1?(_mathExpm1(x)-_mathExpm1(-x))/2:(exp$1(x-1)-exp$1(-x-1))*(Math.E/2);}});var exp$2=Math.exp;_export(_export.S,'Math',{tanh:function tanh(x){var a=_mathExpm1(x=+x);var b=_mathExpm1(-x);return a==Infinity?1:b==Infinity?-1:(a-b)/(exp$2(x)+exp$2(-x));}});_export(_export.S,'Math',{trunc:function trunc(it){return(it>0?Math.floor:Math.ceil)(it);}});var $includes=_arrayIncludes(true);_export(_export.P,'Array',{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined);}});_addToUnscopables('includes');var isEnum$1=_objectPie.f;var _objectToArray=function(isEntries){return function(it){var O=_toIobject(it);var keys=_objectKeys(O);var length=keys.length;var i=0;var result=[];var key;while(length>i)if(isEnum$1.call(O,key=keys[i++])){result.push(isEntries?[key,O[key]]:O[key]);}return result;};};var $values=_objectToArray(false);_export(_export.S,'Object',{values:function values(it){return $values(it);}});var $entries=_objectToArray(true);_export(_export.S,'Object',{entries:function entries(it){return $entries(it);}});_export(_export.S,'Object',{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){var O=_toIobject(object);var getDesc=_objectGopd.f;var keys=_ownKeys(O);var result={};var i=0;var key,desc;while(keys.length>i){desc=getDesc(O,key=keys[i++]);if(desc!==undefined)_createProperty(result,key,desc);}
return result;}});var _stringPad=function(that,maxLength,fillString,left){var S=String(_defined(that));var stringLength=S.length;var fillStr=fillString===undefined?' ':String(fillString);var intMaxLength=_toLength(maxLength);if(intMaxLength<=stringLength||fillStr=='')return S;var fillLen=intMaxLength-stringLength;var stringFiller=_stringRepeat.call(fillStr,Math.ceil(fillLen/fillStr.length));if(stringFiller.length>fillLen)stringFiller=stringFiller.slice(0,fillLen);return left?stringFiller+S:S+stringFiller;};_export(_export.P+_export.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(_userAgent),'String',{padStart:function padStart(maxLength){return _stringPad(this,maxLength,arguments.length>1?arguments[1]:undefined,true);}});_export(_export.P+_export.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(_userAgent),'String',{padEnd:function padEnd(maxLength){return _stringPad(this,maxLength,arguments.length>1?arguments[1]:undefined,false);}});var slice=[].slice;var MSIE=/MSIE .\./.test(_userAgent);var wrap$1=function(set){return function(fn,time){var boundArgs=arguments.length>2;var args=boundArgs?slice.call(arguments,2):false;return set(boundArgs?function(){(typeof fn=='function'?fn:Function(fn)).apply(this,args);}:fn,time);};};_export(_export.G+_export.B+_export.F*MSIE,{setTimeout:wrap$1(_global.setTimeout),setInterval:wrap$1(_global.setInterval)});_export(_export.G+_export.B,{setImmediate:_task.set,clearImmediate:_task.clear});var ITERATOR$4=_wks('iterator');var TO_STRING_TAG=_wks('toStringTag');var ArrayValues=_iterators.Array;var DOMIterables={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var collections=_objectKeys(DOMIterables),i$1=0;i$1<collections.length;i$1++){var NAME$1=collections[i$1];var explicit=DOMIterables[NAME$1];var Collection=_global[NAME$1];var proto=Collection&&Collection.prototype;var key;if(proto){if(!proto[ITERATOR$4])_hide(proto,ITERATOR$4,ArrayValues);if(!proto[TO_STRING_TAG])_hide(proto,TO_STRING_TAG,NAME$1);_iterators[NAME$1]=ArrayValues;if(explicit)for(key in es6_array_iterator)if(!proto[key])_redefine(proto,key,es6_array_iterator[key],true);}}
var runtime=createCommonjsModule(function(module){!(function(global){var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var undefined;var $Symbol=typeof Symbol==="function"?Symbol:{};var iteratorSymbol=$Symbol.iterator||"@@iterator";var asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator";var toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";var runtime=global.regeneratorRuntime;if(runtime){{module.exports=runtime;}
return;}
runtime=global.regeneratorRuntime=module.exports;function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator;}
runtime.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)};}catch(err){return{type:"throw",arg:err};}}
var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}
function GeneratorFunction(){}
function GeneratorFunctionPrototype(){}
var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this;};var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype;}
var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction";function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg);};});}
runtime.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false;};runtime.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype);}else{genFun.__proto__=GeneratorFunctionPrototype;if(!(toStringTagSymbol in genFun)){genFun[toStringTagSymbol]="GeneratorFunction";}}
genFun.prototype=Object.create(Gp);return genFun;};runtime.awrap=function(arg){return{__await:arg};};function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type==="throw"){reject(record.arg);}else{var result=record.arg;var value=result.value;if(value&&typeof value==="object"&&hasOwn.call(value,"__await")){return Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject);},function(err){invoke("throw",err,resolve,reject);});}
return Promise.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result);},reject);}}
if(typeof global.process==="object"&&global.process.domain){invoke=global.process.domain.bind(invoke);}
var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject);});}
return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}
this._invoke=enqueue;}
defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this;};runtime.AsyncIterator=AsyncIterator;runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running");}
if(state===GenStateCompleted){if(method==="throw"){throw arg;}
return doneResult();}
context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}
if(context.method==="next"){context.sent=context._sent=context.arg;}else if(context.method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg;}
context.dispatchException(context.arg);}else if(context.method==="return"){context.abrupt("return",context.arg);}
state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue;}
return{value:record.arg,done:context.done};}else if(record.type==="throw"){state=GenStateCompleted;context.method="throw";context.arg=record.arg;}}};}
function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){context.delegate=null;if(context.method==="throw"){if(delegate.iterator.return){context.method="return";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method==="throw"){return ContinueSentinel;}}
context.method="throw";context.arg=new TypeError("The iterator does not provide a 'throw' method");}
return ContinueSentinel;}
var record=tryCatch(method,delegate.iterator,context.arg);if(record.type==="throw"){context.method="throw";context.arg=record.arg;context.delegate=null;return ContinueSentinel;}
var info=record.arg;if(!info){context.method="throw";context.arg=new TypeError("iterator result is not an object");context.delegate=null;return ContinueSentinel;}
if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!=="return"){context.method="next";context.arg=undefined;}}else{return info;}
context.delegate=null;return ContinueSentinel;}
defineIteratorMethods(Gp);Gp[toStringTagSymbol]="Generator";Gp[iteratorSymbol]=function(){return this;};Gp.toString=function(){return"[object Generator]";};function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1];}
if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3];}
this.tryEntries.push(entry);}
function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record;}
function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true);}
runtime.keys=function(object){var keys=[];for(var key in object){keys.push(key);}
keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next;}}
next.done=true;return next;};};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable);}
if(typeof iterable.next==="function"){return iterable;}
if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next;}}
next.value=undefined;next.done=true;return next;};return next.next=next;}}
return{next:doneResult};}
runtime.values=values;function doneResult(){return{value:undefined,done:true};}
Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method="next";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined;}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg;}
return this.rval;},dispatchException:function(exception){if(this.done){throw exception;}
var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;if(caught){context.method="next";context.arg=undefined;}
return!!caught;}
for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end");}
if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else{throw new Error("try statement without catch or finally");}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}
if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null;}
var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method="next";this.next=finallyEntry.finallyLoc;return ContinueSentinel;}
return this.complete(record);},complete:function(record,afterLoc){if(record.type==="throw"){throw record.arg;}
if(record.type==="break"||record.type==="continue"){this.next=record.arg;}else if(record.type==="return"){this.rval=this.arg=record.arg;this.method="return";this.next="end";}else if(record.type==="normal"&&afterLoc){this.next=afterLoc;}
return ContinueSentinel;},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel;}}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry);}
return thrown;}}
throw new Error("illegal catch attempt");},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};if(this.method==="next"){this.arg=undefined;}
return ContinueSentinel;}};})(typeof commonjsGlobal==="object"?commonjsGlobal:typeof window==="object"?window:typeof self==="object"?self:commonjsGlobal);});(function(){if(typeof window==='undefined'){return;}
try{var ce=new window.CustomEvent('test',{cancelable:true});ce.preventDefault();if(ce.defaultPrevented!==true){throw new Error('Could not prevent default');}}catch(e){var CustomEvent=function(event,params){var evt,origPrevent;params=params||{bubbles:false,cancelable:false,detail:undefined};evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);origPrevent=evt.preventDefault;evt.preventDefault=function(){origPrevent.call(this);try{Object.defineProperty(this,'defaultPrevented',{get:function(){return true;}});}catch(e){this.defaultPrevented=true;}};return evt;};CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent;}})();(function(global){var checkIfIteratorIsSupported=function(){try{return!!Symbol.iterator;}catch(error){return false;}};var iteratorSupported=checkIfIteratorIsSupported();var createIterator=function(items){var iterator={next:function(){var value=items.shift();return{done:value===void 0,value:value};}};if(iteratorSupported){iterator[Symbol.iterator]=function(){return iterator;};}
return iterator;};var serializeParam=function(value){return encodeURIComponent(value).replace(/%20/g,'+');};var deserializeParam=function(value){return decodeURIComponent(value).replace(/\+/g,' ');};var polyfillURLSearchParams=function(){var URLSearchParams=function(searchString){Object.defineProperty(this,'_entries',{value:{}});if(typeof searchString==='string'){if(searchString!==''){searchString=searchString.replace(/^\?/,'');var attributes=searchString.split('&');var attribute;for(var i=0;i<attributes.length;i++){attribute=attributes[i].split('=');this.append(deserializeParam(attribute[0]),(attribute.length>1)?deserializeParam(attribute[1]):'');}}}else if(searchString instanceof URLSearchParams){var _this=this;searchString.forEach(function(value,name){_this.append(value,name);});}};var proto=URLSearchParams.prototype;proto.append=function(name,value){if(name in this._entries){this._entries[name].push(value.toString());}else{this._entries[name]=[value.toString()];}};proto.delete=function(name){delete this._entries[name];};proto.get=function(name){return(name in this._entries)?this._entries[name][0]:null;};proto.getAll=function(name){return(name in this._entries)?this._entries[name].slice(0):[];};proto.has=function(name){return(name in this._entries);};proto.set=function(name,value){this._entries[name]=[value.toString()];};proto.forEach=function(callback,thisArg){var entries;for(var name in this._entries){if(this._entries.hasOwnProperty(name)){entries=this._entries[name];for(var i=0;i<entries.length;i++){callback.call(thisArg,entries[i],name,this);}}}};proto.keys=function(){var items=[];this.forEach(function(value,name){items.push(name);});return createIterator(items);};proto.values=function(){var items=[];this.forEach(function(value){items.push(value);});return createIterator(items);};proto.entries=function(){var items=[];this.forEach(function(value,name){items.push([name,value]);});return createIterator(items);};if(iteratorSupported){proto[Symbol.iterator]=proto.entries;}
proto.toString=function(){var searchArray=[];this.forEach(function(value,name){searchArray.push(serializeParam(name)+'='+serializeParam(value));});return searchArray.join("&");};global.URLSearchParams=URLSearchParams;};if(!('URLSearchParams'in global)||(new URLSearchParams('?a=1').toString()!=='a=1')){polyfillURLSearchParams();}})((typeof commonjsGlobal!=='undefined')?commonjsGlobal:((typeof window!=='undefined')?window:((typeof self!=='undefined')?self:commonjsGlobal)));(function(global){var checkIfURLIsSupported=function(){try{var u=new URL('b','http://a');u.pathname='c%20d';return(u.href==='http://a/c%20d')&&u.searchParams;}catch(e){return false;}};var polyfillURL=function(){var _URL=global.URL;var URL=function(url,base){if(typeof url!=='string')url=String(url);var doc=document,baseElement;if(base&&(global.location===void 0||base!==global.location.href)){doc=document.implementation.createHTMLDocument('');baseElement=doc.createElement('base');baseElement.href=base;doc.head.appendChild(baseElement);try{if(baseElement.href.indexOf(base)!==0)throw new Error(baseElement.href);}catch(err){throw new Error("URL unable to set base "+base+" due to "+err);}}
var anchorElement=doc.createElement('a');anchorElement.href=url;if(baseElement){doc.body.appendChild(anchorElement);anchorElement.href=anchorElement.href;}
if(anchorElement.protocol===':'||!/:/.test(anchorElement.href)){throw new TypeError('Invalid URL');}
Object.defineProperty(this,'_anchorElement',{value:anchorElement});};var proto=URL.prototype;var linkURLWithAnchorAttribute=function(attributeName){Object.defineProperty(proto,attributeName,{get:function(){return this._anchorElement[attributeName];},set:function(value){this._anchorElement[attributeName]=value;},enumerable:true});};['hash','host','hostname','port','protocol','search'].forEach(function(attributeName){linkURLWithAnchorAttribute(attributeName);});Object.defineProperties(proto,{'toString':{get:function(){var _this=this;return function(){return _this.href;};}},'href':{get:function(){return this._anchorElement.href.replace(/\?$/,'');},set:function(value){this._anchorElement.href=value;},enumerable:true},'pathname':{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,'/');},set:function(value){this._anchorElement.pathname=value;},enumerable:true},'origin':{get:function(){var expectedPort={'http:':80,'https:':443,'ftp:':21}[this._anchorElement.protocol];var addPortToOrigin=this._anchorElement.port!=expectedPort&&this._anchorElement.port!=='';return this._anchorElement.protocol+'//'+
this._anchorElement.hostname+
(addPortToOrigin?(':'+this._anchorElement.port):'');},enumerable:true},'password':{get:function(){return'';},set:function(value){},enumerable:true},'username':{get:function(){return'';},set:function(value){},enumerable:true},'searchParams':{get:function(){var searchParams=new URLSearchParams(this.search);var _this=this;['append','delete','set'].forEach(function(methodName){var method=searchParams[methodName];searchParams[methodName]=function(){method.apply(searchParams,arguments);_this.search=searchParams.toString();};});return searchParams;},enumerable:true}});URL.createObjectURL=function(blob){return _URL.createObjectURL.apply(_URL,arguments);};URL.revokeObjectURL=function(url){return _URL.revokeObjectURL.apply(_URL,arguments);};global.URL=URL;};if(!checkIfURLIsSupported()){polyfillURL();}
if((global.location!==void 0)&&!('origin'in global.location)){var getOrigin=function(){return global.location.protocol+'//'+global.location.hostname+(global.location.port?(':'+global.location.port):'');};try{Object.defineProperty(global.location,'origin',{get:getOrigin,enumerable:true});}catch(e){setInterval(function(){global.location.origin=getOrigin();},100);}}})((typeof commonjsGlobal!=='undefined')?commonjsGlobal:((typeof window!=='undefined')?window:((typeof self!=='undefined')?self:commonjsGlobal)));var getConstructor=function getConstructor(input){return input!==null&&typeof input!=='undefined'?input.constructor:null;};var instanceOf=function instanceOf(input,constructor){return Boolean(input&&constructor&&input instanceof constructor);};var isNullOrUndefined=function isNullOrUndefined(input){return input===null||typeof input==='undefined';};var isObject=function isObject(input){return getConstructor(input)===Object;};var isNumber=function isNumber(input){return getConstructor(input)===Number&&!Number.isNaN(input);};var isString=function isString(input){return getConstructor(input)===String;};var isBoolean=function isBoolean(input){return getConstructor(input)===Boolean;};var isFunction=function isFunction(input){return getConstructor(input)===Function;};var isArray=function isArray(input){return Array.isArray(input);};var isWeakMap=function isWeakMap(input){return instanceOf(input,WeakMap);};var isNodeList=function isNodeList(input){return instanceOf(input,NodeList);};var isElement=function isElement(input){return instanceOf(input,Element);};var isTextNode=function isTextNode(input){return getConstructor(input)===Text;};var isEvent=function isEvent(input){return instanceOf(input,Event);};var isKeyboardEvent=function isKeyboardEvent(input){return instanceOf(input,KeyboardEvent);};var isCue=function isCue(input){return instanceOf(input,window.TextTrackCue)||instanceOf(input,window.VTTCue);};var isTrack=function isTrack(input){return instanceOf(input,TextTrack)||!isNullOrUndefined(input)&&isString(input.kind);};var isEmpty=function isEmpty(input){return isNullOrUndefined(input)||(isString(input)||isArray(input)||isNodeList(input))&&!input.length||isObject(input)&&!Object.keys(input).length;};var isUrl=function isUrl(input){if(instanceOf(input,window.URL)){return true;}
var string=input;if(!input.startsWith('http://')||!input.startsWith('https://')){string='http://'+input;}
try{return!isEmpty(new URL(string).hostname);}catch(e){return false;}};var is$1={nullOrUndefined:isNullOrUndefined,object:isObject,number:isNumber,string:isString,boolean:isBoolean,function:isFunction,array:isArray,weakMap:isWeakMap,nodeList:isNodeList,element:isElement,textNode:isTextNode,event:isEvent,keyboardEvent:isKeyboardEvent,cue:isCue,track:isTrack,url:isUrl,empty:isEmpty};var supportsPassiveListeners=function(){var supported=false;try{var options=Object.defineProperty({},'passive',{get:function get(){supported=true;return null;}});window.addEventListener('test',null,options);window.removeEventListener('test',null,options);}catch(e){}
return supported;}();function toggleListener(element,event,callback){var toggle=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var _this=this;var passive=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var capture=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(!element||!('addEventListener'in element)||is$1.empty(event)||!is$1.function(callback)){return;}
var events=event.split(' ');var options=capture;if(supportsPassiveListeners){options={passive:passive,capture:capture};}
events.forEach(function(type){if(_this&&_this.eventListeners&&toggle){_this.eventListeners.push({element:element,type:type,callback:callback,options:options});}
element[toggle?'addEventListener':'removeEventListener'](type,callback,options);});}
function on(element){var events=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var callback=arguments[2];var passive=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var capture=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;toggleListener.call(this,element,events,callback,true,passive,capture);}
function off(element){var events=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var callback=arguments[2];var passive=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var capture=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;toggleListener.call(this,element,events,callback,false,passive,capture);}
function once(element){var events=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var callback=arguments[2];var passive=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var capture=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;function onceCallback(){off(element,events,onceCallback,passive,capture);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
callback.apply(this,args);}
toggleListener.call(this,element,events,onceCallback,true,passive,capture);}
function triggerEvent(element){var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var bubbles=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var detail=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(!is$1.element(element)||is$1.empty(type)){return;}
var event=new CustomEvent(type,{bubbles:bubbles,detail:Object.assign({},detail,{plyr:this})});element.dispatchEvent(event);}
function unbindListeners(){if(this&&this.eventListeners){this.eventListeners.forEach(function(item){var element=item.element,type=item.type,callback=item.callback,options=item.options;element.removeEventListener(type,callback,options);});this.eventListeners=[];}}
function ready(){var _this2=this;return new Promise(function(resolve){return _this2.ready?setTimeout(resolve,0):on.call(_this2,_this2.elements.container,'ready',resolve);}).then(function(){});}
var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var defineProperty$1=function(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}
return obj;};var slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}
return _arr;}
return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2;}else{return Array.from(arr);}};function wrap$2(elements,wrapper){var targets=elements.length?elements:[elements];Array.from(targets).reverse().forEach(function(element,index){var child=index>0?wrapper.cloneNode(true):wrapper;var parent=element.parentNode;var sibling=element.nextSibling;child.appendChild(element);if(sibling){parent.insertBefore(child,sibling);}else{parent.appendChild(child);}});}
function setAttributes(element,attributes){if(!is$1.element(element)||is$1.empty(attributes)){return;}
Object.entries(attributes).filter(function(_ref){var _ref2=slicedToArray(_ref,2),value=_ref2[1];return!is$1.nullOrUndefined(value);}).forEach(function(_ref3){var _ref4=slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return element.setAttribute(key,value);});}
function createElement(type,attributes,text){var element=document.createElement(type);if(is$1.object(attributes)){setAttributes(element,attributes);}
if(is$1.string(text)){element.innerText=text;}
return element;}
function insertAfter(element,target){if(!is$1.element(element)||!is$1.element(target)){return;}
target.parentNode.insertBefore(element,target.nextSibling);}
function insertElement(type,parent,attributes,text){if(!is$1.element(parent)){return;}
parent.appendChild(createElement(type,attributes,text));}
function removeElement(element){if(is$1.nodeList(element)||is$1.array(element)){Array.from(element).forEach(removeElement);return;}
if(!is$1.element(element)||!is$1.element(element.parentNode)){return;}
element.parentNode.removeChild(element);}
function emptyElement(element){if(!is$1.element(element)){return;}
var length=element.childNodes.length;while(length>0){element.removeChild(element.lastChild);length-=1;}}
function replaceElement(newChild,oldChild){if(!is$1.element(oldChild)||!is$1.element(oldChild.parentNode)||!is$1.element(newChild)){return null;}
oldChild.parentNode.replaceChild(newChild,oldChild);return newChild;}
function getAttributesFromSelector(sel,existingAttributes){if(!is$1.string(sel)||is$1.empty(sel)){return{};}
var attributes={};var existing=existingAttributes;sel.split(',').forEach(function(s){var selector=s.trim();var className=selector.replace('.','');var stripped=selector.replace(/[[\]]/g,'');var parts=stripped.split('=');var key=parts[0];var value=parts.length>1?parts[1].replace(/["']/g,''):'';var start=selector.charAt(0);switch(start){case'.':if(is$1.object(existing)&&is$1.string(existing.class)){existing.class+=' '+className;}
attributes.class=className;break;case'#':attributes.id=selector.replace('#','');break;case'[':attributes[key]=value;break;default:break;}});return attributes;}
function toggleHidden(element,hidden){if(!is$1.element(element)){return;}
var hide=hidden;if(!is$1.boolean(hide)){hide=!element.hidden;}
if(hide){element.setAttribute('hidden','');}else{element.removeAttribute('hidden');}}
function toggleClass(element,className,force){if(is$1.nodeList(element)){return Array.from(element).map(function(e){return toggleClass(e,className,force);});}
if(is$1.element(element)){var method='toggle';if(typeof force!=='undefined'){method=force?'add':'remove';}
element.classList[method](className);return element.classList.contains(className);}
return false;}
function hasClass(element,className){return is$1.element(element)&&element.classList.contains(className);}
function matches(element,selector){var prototype={Element:Element};function match(){return Array.from(document.querySelectorAll(selector)).includes(this);}
var matches=prototype.matches||prototype.webkitMatchesSelector||prototype.mozMatchesSelector||prototype.msMatchesSelector||match;return matches.call(element,selector);}
function getElements(selector){return this.elements.container.querySelectorAll(selector);}
function getElement(selector){return this.elements.container.querySelector(selector);}
function trapFocus(){var element=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var toggle=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!is$1.element(element)){return;}
var focusable=getElements.call(this,'button:not(:disabled), input:not(:disabled), [tabindex]');var first=focusable[0];var last=focusable[focusable.length-1];var trap=function trap(event){if(event.key!=='Tab'||event.keyCode!==9){return;}
var focused=document.activeElement;if(focused===last&&!event.shiftKey){first.focus();event.preventDefault();}else if(focused===first&&event.shiftKey){last.focus();event.preventDefault();}};toggleListener.call(this,this.elements.container,'keydown',trap,toggle,false);}
function setFocus(){var element=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var tabFocus=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!is$1.element(element)){return;}
element.focus();if(tabFocus){toggleClass(element,this.config.classNames.tabFocus);}}
var transitionEndEvent=function(){var element=document.createElement('span');var events={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};var type=Object.keys(events).find(function(event){return element.style[event]!==undefined;});return is$1.string(type)?events[type]:false;}();function repaint(element){setTimeout(function(){try{toggleHidden(element,true);element.offsetHeight;toggleHidden(element,false);}catch(e){}},0);}
var browser={isIE:!!document.documentMode,isWebkit:'WebkitAppearance'in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};var defaultCodecs={'audio/ogg':'vorbis','audio/wav':'1','video/webm':'vp8, vorbis','video/mp4':'avc1.42E01E, mp4a.40.2','video/ogg':'theora'};var support={audio:'canPlayType'in document.createElement('audio'),video:'canPlayType'in document.createElement('video'),check:function check(type,provider,playsinline){var canPlayInline=browser.isIPhone&&playsinline&&support.playsinline;var api=support[type]||provider!=='html5';var ui=api&&support.rangeInput&&(type!=='video'||!browser.isIPhone||canPlayInline);return{api:api,ui:ui};},pip:function(){return!browser.isIPhone&&is$1.function(createElement('video').webkitSetPresentationMode);}(),airplay:is$1.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:'playsInline'in document.createElement('video'),mime:function mime(inputType){var _inputType$split=inputType.split('/'),_inputType$split2=slicedToArray(_inputType$split,1),mediaType=_inputType$split2[0];if(!this.isHTML5||mediaType!==this.type){return false;}
var type=void 0;if(inputType&&inputType.includes('codecs=')){type=inputType;}else if(inputType==='audio/mpeg'){type='audio/mpeg;';}else if(inputType in defaultCodecs){type=inputType+'; codecs="'+defaultCodecs[inputType]+'"';}
try{return Boolean(type&&this.media.canPlayType(type).replace(/no/,''));}catch(err){return false;}},textTracks:'textTracks'in document.createElement('video'),rangeInput:function(){var range=document.createElement('input');range.type='range';return range.type==='range';}(),touch:'ontouchstart'in document.documentElement,transitions:transitionEndEvent!==false,reducedMotion:'matchMedia'in window&&window.matchMedia('(prefers-reduced-motion)').matches};var html5={getSources:function getSources(){var _this=this;if(!this.isHTML5){return[];}
var sources=Array.from(this.media.querySelectorAll('source'));return sources.filter(function(source){return support.mime.call(_this,source.getAttribute('type'));});},getQualityOptions:function getQualityOptions(){return html5.getSources.call(this).map(function(source){return Number(source.getAttribute('size'));}).filter(Boolean);},extend:function extend(){if(!this.isHTML5){return;}
var player=this;Object.defineProperty(player.media,'quality',{get:function get(){var sources=html5.getSources.call(player);var source=sources.find(function(source){return source.getAttribute('src')===player.source;});return source&&Number(source.getAttribute('size'));},set:function set(input){var sources=html5.getSources.call(player);var source=sources.find(function(source){return Number(source.getAttribute('size'))===input;});if(!source){return;}
var _player$media=player.media,currentTime=_player$media.currentTime,paused=_player$media.paused,preload=_player$media.preload,readyState=_player$media.readyState;player.media.src=source.getAttribute('src');if(preload!=='none'||readyState){player.once('loadedmetadata',function(){player.currentTime=currentTime;if(!paused){player.play();}});player.media.load();}
triggerEvent.call(player,player.media,'qualitychange',false,{quality:input});player.storage.set({quality:input});}});},cancelRequests:function cancelRequests(){if(!this.isHTML5){return;}
removeElement(html5.getSources.call(this));this.media.setAttribute('src',this.config.blankVideo);this.media.load();this.debug.log('Cancelled network requests');}};function dedupe(array){if(!is$1.array(array)){return array;}
return array.filter(function(item,index){return array.indexOf(item)===index;});}
function closest(array,value){if(!is$1.array(array)||!array.length){return null;}
return array.reduce(function(prev,curr){return Math.abs(curr-value)<Math.abs(prev-value)?curr:prev;});}
function cloneDeep(object){return JSON.parse(JSON.stringify(object));}
function getDeep(object,path){return path.split('.').reduce(function(obj,key){return obj&&obj[key];},object);}
function extend(){var target=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key];}
if(!sources.length){return target;}
var source=sources.shift();if(!is$1.object(source)){return target;}
Object.keys(source).forEach(function(key){if(is$1.object(source[key])){if(!Object.keys(target).includes(key)){Object.assign(target,defineProperty$1({},key,{}));}
extend(target[key],source[key]);}else{Object.assign(target,defineProperty$1({},key,source[key]));}});return extend.apply(undefined,[target].concat(sources));}
function generateId(prefix){return prefix+'-'+Math.floor(Math.random()*10000);}
function format(input){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
if(is$1.empty(input)){return input;}
return input.toString().replace(/{(\d+)}/g,function(match,i){return args[i].toString();});}
function getPercentage(current,max){if(current===0||max===0||Number.isNaN(current)||Number.isNaN(max)){return 0;}
return(current/max*100).toFixed(2);}
function replaceAll(){var input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var find=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var replace=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';return input.replace(new RegExp(find.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,'\\$1'),'g'),replace.toString());}
function toTitleCase(){var input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return input.toString().replace(/\w\S*/g,function(text){return text.charAt(0).toUpperCase()+text.substr(1).toLowerCase();});}
function toPascalCase(){var input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var string=input.toString();string=replaceAll(string,'-',' ');string=replaceAll(string,'_',' ');string=toTitleCase(string);return replaceAll(string,' ','');}
function toCamelCase(){var input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var string=input.toString();string=toPascalCase(string);return string.charAt(0).toLowerCase()+string.slice(1);}
function stripHTML(source){var fragment=document.createDocumentFragment();var element=document.createElement('div');fragment.appendChild(element);element.innerHTML=source;return fragment.firstChild.innerText;}
function getHTML(element){var wrapper=document.createElement('div');wrapper.appendChild(element);return wrapper.innerHTML;}
var i18n={get:function get(){var key=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(is$1.empty(key)||is$1.empty(config)){return'';}
var string=getDeep(config.i18n,key);if(is$1.empty(string)){return'';}
var replace={'{seektime}':config.seekTime,'{title}':config.title};Object.entries(replace).forEach(function(_ref){var _ref2=slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];string=replaceAll(string,key,value);});return string;}};var Storage=function(){function Storage(player){classCallCheck(this,Storage);this.enabled=player.config.storage.enabled;this.key=player.config.storage.key;}
createClass(Storage,[{key:'get',value:function get(key){if(!Storage.supported||!this.enabled){return null;}
var store=window.localStorage.getItem(this.key);if(is$1.empty(store)){return null;}
var json=JSON.parse(store);return is$1.string(key)&&key.length?json[key]:json;}},{key:'set',value:function set(object){if(!Storage.supported||!this.enabled){return;}
if(!is$1.object(object)){return;}
var storage=this.get();if(is$1.empty(storage)){storage={};}
extend(storage,object);window.localStorage.setItem(this.key,JSON.stringify(storage));}}],[{key:'supported',get:function get(){try{if(!('localStorage'in window)){return false;}
var test='___test';window.localStorage.setItem(test,test);window.localStorage.removeItem(test);return true;}catch(e){return false;}}}]);return Storage;}();function fetch(url){var responseType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'text';return new Promise(function(resolve,reject){try{var request=new XMLHttpRequest();if(!('withCredentials'in request)){return;}
request.addEventListener('load',function(){if(responseType==='text'){try{resolve(JSON.parse(request.responseText));}catch(e){resolve(request.responseText);}}else{resolve(request.response);}});request.addEventListener('error',function(){throw new Error(request.status);});request.open('GET',url,true);request.responseType=responseType;request.send();}catch(e){reject(e);}});}
function loadSprite(url,id){if(!is$1.string(url)){return;}
var prefix='cache';var hasId=is$1.string(id);var isCached=false;var exists=function exists(){return document.getElementById(id)!==null;};var update=function update(container,data){container.innerHTML=data;if(hasId&&exists()){return;}
document.body.insertAdjacentElement('afterbegin',container);};if(!hasId||!exists()){var useStorage=Storage.supported;var container=document.createElement('div');container.setAttribute('hidden','');if(hasId){container.setAttribute('id',id);}
if(useStorage){var cached=window.localStorage.getItem(prefix+'-'+id);isCached=cached!==null;if(isCached){var data=JSON.parse(cached);update(container,data.content);}}
fetch(url).then(function(result){if(is$1.empty(result)){return;}
if(useStorage){window.localStorage.setItem(prefix+'-'+id,JSON.stringify({content:result}));}
update(container,result);}).catch(function(){});}}
var getHours=function getHours(value){return parseInt(value/60/60%60,10);};var getMinutes=function getMinutes(value){return parseInt(value/60%60,10);};var getSeconds=function getSeconds(value){return parseInt(value%60,10);};function formatTime(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var displayHours=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var inverted=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!is$1.number(time)){return formatTime(null,displayHours,inverted);}
var format=function format(value){return('0'+value).slice(-2);};var hours=getHours(time);var mins=getMinutes(time);var secs=getSeconds(time);if(displayHours||hours>0){hours=hours+':';}else{hours='';}
return''+(inverted&&time>0?'-':'')+hours+format(mins)+':'+format(secs);}
var controls={getIconUrl:function getIconUrl(){var url=new URL(this.config.iconUrl,window.location);var cors=url.host!==window.location.host||browser.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:cors};},findElements:function findElements(){try{this.elements.controls=getElement.call(this,this.config.selectors.controls.wrapper);this.elements.buttons={play:getElements.call(this,this.config.selectors.buttons.play),pause:getElement.call(this,this.config.selectors.buttons.pause),restart:getElement.call(this,this.config.selectors.buttons.restart),rewind:getElement.call(this,this.config.selectors.buttons.rewind),fastForward:getElement.call(this,this.config.selectors.buttons.fastForward),mute:getElement.call(this,this.config.selectors.buttons.mute),pip:getElement.call(this,this.config.selectors.buttons.pip),airplay:getElement.call(this,this.config.selectors.buttons.airplay),settings:getElement.call(this,this.config.selectors.buttons.settings),captions:getElement.call(this,this.config.selectors.buttons.captions),fullscreen:getElement.call(this,this.config.selectors.buttons.fullscreen)};this.elements.progress=getElement.call(this,this.config.selectors.progress);this.elements.inputs={seek:getElement.call(this,this.config.selectors.inputs.seek),volume:getElement.call(this,this.config.selectors.inputs.volume)};this.elements.display={buffer:getElement.call(this,this.config.selectors.display.buffer),currentTime:getElement.call(this,this.config.selectors.display.currentTime),duration:getElement.call(this,this.config.selectors.display.duration)};if(is$1.element(this.elements.progress)){this.elements.display.seekTooltip=this.elements.progress.querySelector('.'+this.config.classNames.tooltip);}
return true;}catch(error){this.debug.warn('It looks like there is a problem with your custom controls HTML',error);this.toggleNativeControls(true);return false;}},createIcon:function createIcon(type,attributes){var namespace='http://www.w3.org/2000/svg';var iconUrl=controls.getIconUrl.call(this);var iconPath=(!iconUrl.cors?iconUrl.url:'')+'#'+this.config.iconPrefix;var icon=document.createElementNS(namespace,'svg');setAttributes(icon,extend(attributes,{role:'presentation',focusable:'false'}));var use=document.createElementNS(namespace,'use');var path=iconPath+'-'+type;if('href'in use){use.setAttributeNS('http://www.w3.org/1999/xlink','href',path);}else{use.setAttributeNS('http://www.w3.org/1999/xlink','xlink:href',path);}
icon.appendChild(use);return icon;},createLabel:function createLabel(type){var attr=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var universals={pip:'PIP',airplay:'AirPlay'};var text=universals[type]||i18n.get(type,this.config);var attributes=Object.assign({},attr,{class:[attr.class,this.config.classNames.hidden].filter(Boolean).join(' ')});return createElement('span',attributes,text);},createBadge:function createBadge(text){if(is$1.empty(text)){return null;}
var badge=createElement('span',{class:this.config.classNames.menu.value});badge.appendChild(createElement('span',{class:this.config.classNames.menu.badge},text));return badge;},createButton:function createButton(buttonType,attr){var button=createElement('button');var attributes=Object.assign({},attr);var type=toCamelCase(buttonType);var toggle=false;var label=void 0;var icon=void 0;var labelPressed=void 0;var iconPressed=void 0;if(!('type'in attributes)){attributes.type='button';}
if('class'in attributes){if(!attributes.class.includes(this.config.classNames.control)){attributes.class+=' '+this.config.classNames.control;}}else{attributes.class=this.config.classNames.control;}
switch(buttonType){case'play':toggle=true;label='play';labelPressed='pause';icon='play';iconPressed='pause';break;case'mute':toggle=true;label='mute';labelPressed='unmute';icon='volume';iconPressed='muted';break;case'captions':toggle=true;label='enableCaptions';labelPressed='disableCaptions';icon='captions-off';iconPressed='captions-on';break;case'fullscreen':toggle=true;label='enterFullscreen';labelPressed='exitFullscreen';icon='enter-fullscreen';iconPressed='exit-fullscreen';break;case'play-large':attributes.class+=' '+this.config.classNames.control+'--overlaid';type='play';label='play';icon='play';break;default:label=type;icon=buttonType;}
if(toggle){button.appendChild(controls.createIcon.call(this,iconPressed,{class:'icon--pressed'}));button.appendChild(controls.createIcon.call(this,icon,{class:'icon--not-pressed'}));button.appendChild(controls.createLabel.call(this,labelPressed,{class:'label--pressed'}));button.appendChild(controls.createLabel.call(this,label,{class:'label--not-pressed'}));}else{button.appendChild(controls.createIcon.call(this,icon));button.appendChild(controls.createLabel.call(this,label));}
extend(attributes,getAttributesFromSelector(this.config.selectors.buttons[type],attributes));setAttributes(button,attributes);if(type==='play'){if(!is$1.array(this.elements.buttons[type])){this.elements.buttons[type]=[];}
this.elements.buttons[type].push(button);}else{this.elements.buttons[type]=button;}
return button;},createRange:function createRange(type,attributes){var input=createElement('input',extend(getAttributesFromSelector(this.config.selectors.inputs[type]),{type:'range',min:0,max:100,step:0.01,value:0,autocomplete:'off',role:'slider','aria-label':i18n.get(type,this.config),'aria-valuemin':0,'aria-valuemax':100,'aria-valuenow':0},attributes));this.elements.inputs[type]=input;controls.updateRangeFill.call(this,input);return input;},createProgress:function createProgress(type,attributes){var progress=createElement('progress',extend(getAttributesFromSelector(this.config.selectors.display[type]),{min:0,max:100,value:0,role:'presentation','aria-hidden':true},attributes));if(type!=='volume'){progress.appendChild(createElement('span',null,'0'));var suffixKey={played:'played',buffer:'buffered'}[type];var suffix=suffixKey?i18n.get(suffixKey,this.config):'';progress.innerText='% '+suffix.toLowerCase();}
this.elements.display[type]=progress;return progress;},createTime:function createTime(type){var attributes=getAttributesFromSelector(this.config.selectors.display[type]);var container=createElement('div',extend(attributes,{class:(this.config.classNames.display.time+' '+(attributes.class?attributes.class:'')).trim(),'aria-label':i18n.get(type,this.config)}),'00:00');this.elements.display[type]=container;return container;},bindMenuItemShortcuts:function bindMenuItemShortcuts(menuItem,type){var _this=this;on(menuItem,'keydown keyup',function(event){if(![32,38,39,40].includes(event.which)){return;}
event.preventDefault();event.stopPropagation();if(event.type==='keydown'){return;}
var isRadioButton=matches(menuItem,'[role="menuitemradio"]');if(!isRadioButton&&[32,39].includes(event.which)){controls.showMenuPanel.call(_this,type,true);}else{var target=void 0;if(event.which!==32){if(event.which===40||isRadioButton&&event.which===39){target=menuItem.nextElementSibling;if(!is$1.element(target)){target=menuItem.parentNode.firstElementChild;}}else{target=menuItem.previousElementSibling;if(!is$1.element(target)){target=menuItem.parentNode.lastElementChild;}}
setFocus.call(_this,target,true);}}},false);on(menuItem,'keyup',function(event){if(event.which!==13){return;}
controls.focusFirstMenuItem.call(_this,null,true);});},createMenuItem:function createMenuItem(_ref){var _this2=this;var value=_ref.value,list=_ref.list,type=_ref.type,title=_ref.title,_ref$badge=_ref.badge,badge=_ref$badge===undefined?null:_ref$badge,_ref$checked=_ref.checked,checked=_ref$checked===undefined?false:_ref$checked;var attributes=getAttributesFromSelector(this.config.selectors.inputs[type]);var menuItem=createElement('button',extend(attributes,{type:'button',role:'menuitemradio',class:(this.config.classNames.control+' '+(attributes.class?attributes.class:'')).trim(),'aria-checked':checked,value:value}));var flex=createElement('span');flex.innerHTML=title;if(is$1.element(badge)){flex.appendChild(badge);}
menuItem.appendChild(flex);Object.defineProperty(menuItem,'checked',{enumerable:true,get:function get(){return menuItem.getAttribute('aria-checked')==='true';},set:function set(checked){if(checked){Array.from(menuItem.parentNode.children).filter(function(node){return matches(node,'[role="menuitemradio"]');}).forEach(function(node){return node.setAttribute('aria-checked','false');});}
menuItem.setAttribute('aria-checked',checked?'true':'false');}});this.listeners.bind(menuItem,'click keyup',function(event){if(is$1.keyboardEvent(event)&&event.which!==32){return;}
event.preventDefault();event.stopPropagation();menuItem.checked=true;switch(type){case'language':_this2.currentTrack=Number(value);break;case'quality':_this2.quality=value;break;case'speed':_this2.speed=parseFloat(value);break;default:break;}
controls.showMenuPanel.call(_this2,'home',is$1.keyboardEvent(event));},type,false);controls.bindMenuItemShortcuts.call(this,menuItem,type);list.appendChild(menuItem);},formatTime:function formatTime$$1(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var inverted=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!is$1.number(time)){return time;}
var forceHours=getHours(this.duration)>0;return formatTime(time,forceHours,inverted);},updateTimeDisplay:function updateTimeDisplay(){var target=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var time=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var inverted=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!is$1.element(target)||!is$1.number(time)){return;}
target.innerText=controls.formatTime(time,inverted);},updateVolume:function updateVolume(){if(!this.supported.ui){return;}
if(is$1.element(this.elements.inputs.volume)){controls.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume);}
if(is$1.element(this.elements.buttons.mute)){this.elements.buttons.mute.pressed=this.muted||this.volume===0;}},setRange:function setRange(target){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(!is$1.element(target)){return;}
target.value=value;controls.updateRangeFill.call(this,target);},updateProgress:function updateProgress(event){var _this3=this;if(!this.supported.ui||!is$1.event(event)){return;}
var value=0;var setProgress=function setProgress(target,input){var value=is$1.number(input)?input:0;var progress=is$1.element(target)?target:_this3.elements.display.buffer;if(is$1.element(progress)){progress.value=value;var label=progress.getElementsByTagName('span')[0];if(is$1.element(label)){label.childNodes[0].nodeValue=value;}}};if(event){switch(event.type){case'timeupdate':case'seeking':case'seeked':value=getPercentage(this.currentTime,this.duration);if(event.type==='timeupdate'){controls.setRange.call(this,this.elements.inputs.seek,value);}
break;case'playing':case'progress':setProgress(this.elements.display.buffer,this.buffered*100);break;default:break;}}},updateRangeFill:function updateRangeFill(target){var range=is$1.event(target)?target.target:target;if(!is$1.element(range)||range.getAttribute('type')!=='range'){return;}
if(matches(range,this.config.selectors.inputs.seek)){range.setAttribute('aria-valuenow',this.currentTime);var currentTime=controls.formatTime(this.currentTime);var duration=controls.formatTime(this.duration);var format$$1=i18n.get('seekLabel',this.config);range.setAttribute('aria-valuetext',format$$1.replace('{currentTime}',currentTime).replace('{duration}',duration));}else if(matches(range,this.config.selectors.inputs.volume)){var percent=range.value*100;range.setAttribute('aria-valuenow',percent);range.setAttribute('aria-valuetext',percent.toFixed(1)+'%');}else{range.setAttribute('aria-valuenow',range.value);}
if(!browser.isWebkit){return;}
range.style.setProperty('--value',range.value/range.max*100+'%');},updateSeekTooltip:function updateSeekTooltip(event){var _this4=this;if(!this.config.tooltips.seek||!is$1.element(this.elements.inputs.seek)||!is$1.element(this.elements.display.seekTooltip)||this.duration===0){return;}
var percent=0;var clientRect=this.elements.progress.getBoundingClientRect();var visible=this.config.classNames.tooltip+'--visible';var toggle=function toggle(_toggle){toggleClass(_this4.elements.display.seekTooltip,visible,_toggle);};if(this.touch){toggle(false);return;}
if(is$1.event(event)){percent=100/clientRect.width*(event.pageX-clientRect.left);}else if(hasClass(this.elements.display.seekTooltip,visible)){percent=parseFloat(this.elements.display.seekTooltip.style.left,10);}else{return;}
if(percent<0){percent=0;}else if(percent>100){percent=100;}
controls.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*percent);this.elements.display.seekTooltip.style.left=percent+'%';if(is$1.event(event)&&['mouseenter','mouseleave'].includes(event.type)){toggle(event.type==='mouseenter');}},timeUpdate:function timeUpdate(event){var invert=!is$1.element(this.elements.display.duration)&&this.config.invertTime;controls.updateTimeDisplay.call(this,this.elements.display.currentTime,invert?this.duration-this.currentTime:this.currentTime,invert);if(event&&event.type==='timeupdate'&&this.media.seeking){return;}
controls.updateProgress.call(this,event);},durationUpdate:function durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime){return;}
if(this.duration>=Math.pow(2,32)){toggleHidden(this.elements.display.currentTime,true);toggleHidden(this.elements.progress,true);return;}
if(is$1.element(this.elements.inputs.seek)){this.elements.inputs.seek.setAttribute('aria-valuemax',this.duration);}
var hasDuration=is$1.element(this.elements.display.duration);if(!hasDuration&&this.config.displayDuration&&this.paused){controls.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration);}
if(hasDuration){controls.updateTimeDisplay.call(this,this.elements.display.duration,this.duration);}
controls.updateSeekTooltip.call(this);},toggleMenuButton:function toggleMenuButton(setting,toggle){toggleHidden(this.elements.settings.buttons[setting],!toggle);},updateSetting:function updateSetting(setting,container,input){var pane=this.elements.settings.panels[setting];var value=null;var list=container;if(setting==='captions'){value=this.currentTrack;}else{value=!is$1.empty(input)?input:this[setting];if(is$1.empty(value)){value=this.config[setting].default;}
if(!is$1.empty(this.options[setting])&&!this.options[setting].includes(value)){this.debug.warn('Unsupported value of \''+value+'\' for '+setting);return;}
if(!this.config[setting].options.includes(value)){this.debug.warn('Disabled value of \''+value+'\' for '+setting);return;}}
if(!is$1.element(list)){list=pane&&pane.querySelector('[role="menu"]');}
if(!is$1.element(list)){return;}
var label=this.elements.settings.buttons[setting].querySelector('.'+this.config.classNames.menu.value);label.innerHTML=controls.getLabel.call(this,setting,value);var target=list&&list.querySelector('[value="'+value+'"]');if(is$1.element(target)){target.checked=true;}},getLabel:function getLabel(setting,value){switch(setting){case'speed':return value===1?i18n.get('normal',this.config):value+'&times;';case'quality':if(is$1.number(value)){var label=i18n.get('qualityLabel.'+value,this.config);if(!label.length){return value+'p';}
return label;}
return toTitleCase(value);case'captions':return captions.getLabel.call(this);default:return null;}},setQualityMenu:function setQualityMenu(options){var _this5=this;if(!is$1.element(this.elements.settings.panels.quality)){return;}
var type='quality';var list=this.elements.settings.panels.quality.querySelector('[role="menu"]');if(is$1.array(options)){this.options.quality=dedupe(options).filter(function(quality){return _this5.config.quality.options.includes(quality);});}
var toggle=!is$1.empty(this.options.quality)&&this.options.quality.length>1;controls.toggleMenuButton.call(this,type,toggle);emptyElement(list);controls.checkMenu.call(this);if(!toggle){return;}
var getBadge=function getBadge(quality){var label=i18n.get('qualityBadge.'+quality,_this5.config);if(!label.length){return null;}
return controls.createBadge.call(_this5,label);};this.options.quality.sort(function(a,b){var sorting=_this5.config.quality.options;return sorting.indexOf(a)>sorting.indexOf(b)?1:-1;}).forEach(function(quality){controls.createMenuItem.call(_this5,{value:quality,list:list,type:type,title:controls.getLabel.call(_this5,'quality',quality),badge:getBadge(quality)});});controls.updateSetting.call(this,type,list);},setCaptionsMenu:function setCaptionsMenu(){var _this6=this;if(!is$1.element(this.elements.settings.panels.captions)){return;}
var type='captions';var list=this.elements.settings.panels.captions.querySelector('[role="menu"]');var tracks=captions.getTracks.call(this);var toggle=Boolean(tracks.length);controls.toggleMenuButton.call(this,type,toggle);emptyElement(list);controls.checkMenu.call(this);if(!toggle){return;}
var options=tracks.map(function(track,value){return{value:value,checked:_this6.captions.toggled&&_this6.currentTrack===value,title:captions.getLabel.call(_this6,track),badge:track.language&&controls.createBadge.call(_this6,track.language.toUpperCase()),list:list,type:'language'};});options.unshift({value:-1,checked:!this.captions.toggled,title:i18n.get('disabled',this.config),list:list,type:'language'});options.forEach(controls.createMenuItem.bind(this));controls.updateSetting.call(this,type,list);},setSpeedMenu:function setSpeedMenu(options){var _this7=this;if(!is$1.element(this.elements.settings.panels.speed)){return;}
var type='speed';var list=this.elements.settings.panels.speed.querySelector('[role="menu"]');if(is$1.array(options)){this.options.speed=options;}else if(this.isHTML5||this.isVimeo){this.options.speed=[0.5,0.75,1,1.25,1.5,1.75,2];}
this.options.speed=this.options.speed.filter(function(speed){return _this7.config.speed.options.includes(speed);});var toggle=!is$1.empty(this.options.speed)&&this.options.speed.length>1;controls.toggleMenuButton.call(this,type,toggle);emptyElement(list);controls.checkMenu.call(this);if(!toggle){return;}
this.options.speed.forEach(function(speed){controls.createMenuItem.call(_this7,{value:speed,list:list,type:type,title:controls.getLabel.call(_this7,'speed',speed)});});controls.updateSetting.call(this,type,list);},checkMenu:function checkMenu(){var buttons=this.elements.settings.buttons;var visible=!is$1.empty(buttons)&&Object.values(buttons).some(function(button){return!button.hidden;});toggleHidden(this.elements.settings.menu,!visible);},focusFirstMenuItem:function focusFirstMenuItem(pane){var tabFocus=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.elements.settings.popup.hidden){return;}
var target=pane;if(!is$1.element(target)){target=Object.values(this.elements.settings.panels).find(function(pane){return!pane.hidden;});}
var firstItem=target.querySelector('[role^="menuitem"]');setFocus.call(this,firstItem,tabFocus);},toggleMenu:function toggleMenu(input){var popup=this.elements.settings.popup;var button=this.elements.buttons.settings;if(!is$1.element(popup)||!is$1.element(button)){return;}
var hidden=popup.hidden;var show=hidden;if(is$1.boolean(input)){show=input;}else if(is$1.keyboardEvent(input)&&input.which===27){show=false;}else if(is$1.event(input)){var isMenuItem=popup.contains(input.target);if(isMenuItem||!isMenuItem&&input.target!==button&&show){return;}}
button.setAttribute('aria-expanded',show);toggleHidden(popup,!show);toggleClass(this.elements.container,this.config.classNames.menu.open,show);if(show&&is$1.keyboardEvent(input)){controls.focusFirstMenuItem.call(this,null,true);}else if(!show&&!hidden){setFocus.call(this,button,is$1.keyboardEvent(input));}},getMenuSize:function getMenuSize(tab){var clone=tab.cloneNode(true);clone.style.position='absolute';clone.style.opacity=0;clone.removeAttribute('hidden');tab.parentNode.appendChild(clone);var width=clone.scrollWidth;var height=clone.scrollHeight;removeElement(clone);return{width:width,height:height};},showMenuPanel:function showMenuPanel(){var _this8=this;var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var tabFocus=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var target=document.getElementById('plyr-settings-'+this.id+'-'+type);if(!is$1.element(target)){return;}
var container=target.parentNode;var current=Array.from(container.children).find(function(node){return!node.hidden;});if(support.transitions&&!support.reducedMotion){container.style.width=current.scrollWidth+'px';container.style.height=current.scrollHeight+'px';var size=controls.getMenuSize.call(this,target);var restore=function restore(event){if(event.target!==container||!['width','height'].includes(event.propertyName)){return;}
container.style.width='';container.style.height='';off.call(_this8,container,transitionEndEvent,restore);};on.call(this,container,transitionEndEvent,restore);container.style.width=size.width+'px';container.style.height=size.height+'px';}
toggleHidden(current,true);toggleHidden(target,false);controls.focusFirstMenuItem.call(this,target,tabFocus);},create:function create(data){var _this9=this;var container=createElement('div',getAttributesFromSelector(this.config.selectors.controls.wrapper));if(this.config.controls.includes('restart')){container.appendChild(controls.createButton.call(this,'restart'));}
if(this.config.controls.includes('rewind')){container.appendChild(controls.createButton.call(this,'rewind'));}
if(this.config.controls.includes('play')){container.appendChild(controls.createButton.call(this,'play'));}
if(this.config.controls.includes('fast-forward')){container.appendChild(controls.createButton.call(this,'fast-forward'));}
if(this.config.controls.includes('progress')){var progress=createElement('div',getAttributesFromSelector(this.config.selectors.progress));progress.appendChild(controls.createRange.call(this,'seek',{id:'plyr-seek-'+data.id}));progress.appendChild(controls.createProgress.call(this,'buffer'));if(this.config.tooltips.seek){var tooltip=createElement('span',{class:this.config.classNames.tooltip},'00:00');progress.appendChild(tooltip);this.elements.display.seekTooltip=tooltip;}
this.elements.progress=progress;container.appendChild(this.elements.progress);}
if(this.config.controls.includes('current-time')){container.appendChild(controls.createTime.call(this,'currentTime'));}
if(this.config.controls.includes('duration')){container.appendChild(controls.createTime.call(this,'duration'));}
if(this.config.controls.includes('mute')||this.config.controls.includes('volume')){var volume=createElement('div',{class:'plyr__volume'});if(this.config.controls.includes('mute')){volume.appendChild(controls.createButton.call(this,'mute'));}
if(this.config.controls.includes('volume')){var attributes={max:1,step:0.05,value:this.config.volume};volume.appendChild(controls.createRange.call(this,'volume',extend(attributes,{id:'plyr-volume-'+data.id})));this.elements.volume=volume;}
container.appendChild(volume);}
if(this.config.controls.includes('captions')){container.appendChild(controls.createButton.call(this,'captions'));}
if(this.config.controls.includes('settings')&&!is$1.empty(this.config.settings)){var control=createElement('div',{class:'plyr__menu',hidden:''});control.appendChild(controls.createButton.call(this,'settings',{'aria-haspopup':true,'aria-controls':'plyr-settings-'+data.id,'aria-expanded':false}));var popup=createElement('div',{class:'plyr__menu__container',id:'plyr-settings-'+data.id,hidden:''});var inner=createElement('div');var home=createElement('div',{id:'plyr-settings-'+data.id+'-home'});var menu=createElement('div',{role:'menu'});home.appendChild(menu);inner.appendChild(home);this.elements.settings.panels.home=home;this.config.settings.forEach(function(type){var menuItem=createElement('button',extend(getAttributesFromSelector(_this9.config.selectors.buttons.settings),{type:'button',class:_this9.config.classNames.control+' '+_this9.config.classNames.control+'--forward',role:'menuitem','aria-haspopup':true,hidden:''}));controls.bindMenuItemShortcuts.call(_this9,menuItem,type);on(menuItem,'click',function(){controls.showMenuPanel.call(_this9,type,false);});var flex=createElement('span',null,i18n.get(type,_this9.config));var value=createElement('span',{class:_this9.config.classNames.menu.value});value.innerHTML=data[type];flex.appendChild(value);menuItem.appendChild(flex);menu.appendChild(menuItem);var pane=createElement('div',{id:'plyr-settings-'+data.id+'-'+type,hidden:''});var backButton=createElement('button',{type:'button',class:_this9.config.classNames.control+' '+_this9.config.classNames.control+'--back'});backButton.appendChild(createElement('span',{'aria-hidden':true},i18n.get(type,_this9.config)));backButton.appendChild(createElement('span',{class:_this9.config.classNames.hidden},i18n.get('menuBack',_this9.config)));on(pane,'keydown',function(event){if(event.which!==37){return;}
event.preventDefault();event.stopPropagation();controls.showMenuPanel.call(_this9,'home',true);},false);on(backButton,'click',function(){controls.showMenuPanel.call(_this9,'home',false);});pane.appendChild(backButton);pane.appendChild(createElement('div',{role:'menu'}));inner.appendChild(pane);_this9.elements.settings.buttons[type]=menuItem;_this9.elements.settings.panels[type]=pane;});popup.appendChild(inner);control.appendChild(popup);container.appendChild(control);this.elements.settings.popup=popup;this.elements.settings.menu=control;}
if(this.config.controls.includes('pip')&&support.pip){container.appendChild(controls.createButton.call(this,'pip'));}
if(this.config.controls.includes('airplay')&&support.airplay){container.appendChild(controls.createButton.call(this,'airplay'));}
if(this.config.controls.includes('fullscreen')){container.appendChild(controls.createButton.call(this,'fullscreen'));}
if(this.config.controls.includes('play-large')){this.elements.container.appendChild(controls.createButton.call(this,'play-large'));}
this.elements.controls=container;if(this.isHTML5){controls.setQualityMenu.call(this,html5.getQualityOptions.call(this));}
controls.setSpeedMenu.call(this);return container;},inject:function inject(){var _this10=this;if(this.config.loadSprite){var icon=controls.getIconUrl.call(this);if(icon.cors){loadSprite(icon.url,'sprite-plyr');}}
this.id=Math.floor(Math.random()*10000);var container=null;this.elements.controls=null;var props={id:this.id,seektime:this.config.seekTime,title:this.config.title};var update=true;if(is$1.function(this.config.controls)){this.config.controls=this.config.controls.call(this.props);}
if(!this.config.controls){this.config.controls=[];}
if(is$1.element(this.config.controls)||is$1.string(this.config.controls)){container=this.config.controls;}else{container=controls.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:captions.getLabel.call(this)});update=false;}
var replace=function replace(input){var result=input;Object.entries(props).forEach(function(_ref2){var _ref3=slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];result=replaceAll(result,'{'+key+'}',value);});return result;};if(update){if(is$1.string(this.config.controls)){container=replace(container);}else if(is$1.element(container)){container.innerHTML=replace(container.innerHTML);}}
var target=void 0;if(is$1.string(this.config.selectors.controls.container)){target=document.querySelector(this.config.selectors.controls.container);}
if(!is$1.element(target)){target=this.elements.container;}
var insertMethod=is$1.element(container)?'insertAdjacentElement':'insertAdjacentHTML';target[insertMethod]('afterbegin',container);if(!is$1.element(this.elements.controls)){controls.findElements.call(this);}
if(!is$1.empty(this.elements.buttons)){var addProperty=function addProperty(button){var className=_this10.config.classNames.controlPressed;Object.defineProperty(button,'pressed',{enumerable:true,get:function get(){return hasClass(button,className);},set:function set(){var pressed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;toggleClass(button,className,pressed);}});};Object.values(this.elements.buttons).filter(Boolean).forEach(function(button){if(is$1.array(button)||is$1.nodeList(button)){Array.from(button).filter(Boolean).forEach(addProperty);}else{addProperty(button);}});}
if(window.navigator.userAgent.includes('Edge')){repaint(target);}
if(this.config.tooltips.controls){var _config=this.config,classNames=_config.classNames,selectors=_config.selectors;var selector=selectors.controls.wrapper+' '+selectors.labels+' .'+classNames.hidden;var labels=getElements.call(this,selector);Array.from(labels).forEach(function(label){toggleClass(label,_this10.config.classNames.hidden,false);toggleClass(label,_this10.config.classNames.tooltip,true);});}}};function parseUrl(input){var safe=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var url=input;if(safe){var parser=document.createElement('a');parser.href=url;url=parser.href;}
try{return new URL(url);}catch(e){return null;}}
function buildUrlParams(input){var params=new URLSearchParams();if(is$1.object(input)){Object.entries(input).forEach(function(_ref){var _ref2=slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];params.set(key,value);});}
return params;}
var captions={setup:function setup(){if(!this.supported.ui){return;}
if(!this.isVideo||this.isYouTube||this.isHTML5&&!support.textTracks){if(is$1.array(this.config.controls)&&this.config.controls.includes('settings')&&this.config.settings.includes('captions')){controls.setCaptionsMenu.call(this);}
return;}
if(!is$1.element(this.elements.captions)){this.elements.captions=createElement('div',getAttributesFromSelector(this.config.selectors.captions));insertAfter(this.elements.captions,this.elements.wrapper);}
if(browser.isIE&&window.URL){var elements=this.media.querySelectorAll('track');Array.from(elements).forEach(function(track){var src=track.getAttribute('src');var url=parseUrl(src);if(url!==null&&url.hostname!==window.location.href.hostname&&['http:','https:'].includes(url.protocol)){fetch(src,'blob').then(function(blob){track.setAttribute('src',window.URL.createObjectURL(blob));}).catch(function(){removeElement(track);});}});}
var browserLanguages=navigator.languages||[navigator.language||navigator.userLanguage||'en'];var languages=dedupe(browserLanguages.map(function(language){return language.split('-')[0];}));var language=(this.storage.get('language')||this.config.captions.language||'auto').toLowerCase();if(language==='auto'){var _languages=slicedToArray(languages,1);language=_languages[0];}
var active=this.storage.get('captions');if(!is$1.boolean(active)){active=this.config.captions.active;}
Object.assign(this.captions,{toggled:false,active:active,language:language,languages:languages});if(this.isHTML5){var trackEvents=this.config.captions.update?'addtrack removetrack':'removetrack';on.call(this,this.media.textTracks,trackEvents,captions.update.bind(this));}
setTimeout(captions.update.bind(this),0);},update:function update(){var _this=this;var tracks=captions.getTracks.call(this,true);var _captions=this.captions,active=_captions.active,language=_captions.language,meta=_captions.meta,currentTrackNode=_captions.currentTrackNode;var languageExists=Boolean(tracks.find(function(track){return track.language===language;}));if(this.isHTML5&&this.isVideo){tracks.filter(function(track){return!meta.get(track);}).forEach(function(track){_this.debug.log('Track added',track);meta.set(track,{default:track.mode==='showing'});track.mode='hidden';on.call(_this,track,'cuechange',function(){return captions.updateCues.call(_this);});});}
if(languageExists&&this.language!==language||!tracks.includes(currentTrackNode)){captions.setLanguage.call(this,language);captions.toggle.call(this,active&&languageExists);}
toggleClass(this.elements.container,this.config.classNames.captions.enabled,!is$1.empty(tracks));if((this.config.controls||[]).includes('settings')&&this.config.settings.includes('captions')){controls.setCaptionsMenu.call(this);}},toggle:function toggle(input){var passive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!this.supported.ui){return;}
var toggled=this.captions.toggled;var activeClass=this.config.classNames.captions.active;var active=is$1.nullOrUndefined(input)?!toggled:input;if(active!==toggled){if(!passive){this.captions.active=active;this.storage.set({captions:active});}
if(!this.language&&active&&!passive){var tracks=captions.getTracks.call(this);var track=captions.findTrack.call(this,[this.captions.language].concat(toConsumableArray(this.captions.languages)),true);this.captions.language=track.language;captions.set.call(this,tracks.indexOf(track));return;}
if(this.elements.buttons.captions){this.elements.buttons.captions.pressed=active;}
toggleClass(this.elements.container,activeClass,active);this.captions.toggled=active;controls.updateSetting.call(this,'captions');triggerEvent.call(this,this.media,active?'captionsenabled':'captionsdisabled');}},set:function set(index){var passive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var tracks=captions.getTracks.call(this);if(index===-1){captions.toggle.call(this,false,passive);return;}
if(!is$1.number(index)){this.debug.warn('Invalid caption argument',index);return;}
if(!(index in tracks)){this.debug.warn('Track not found',index);return;}
if(this.captions.currentTrack!==index){this.captions.currentTrack=index;var track=tracks[index];var _ref=track||{},language=_ref.language;this.captions.currentTrackNode=track;controls.updateSetting.call(this,'captions');if(!passive){this.captions.language=language;this.storage.set({language:language});}
if(this.isVimeo){this.embed.enableTextTrack(language);}
triggerEvent.call(this,this.media,'languagechange');}
captions.toggle.call(this,true,passive);if(this.isHTML5&&this.isVideo){captions.updateCues.call(this);}},setLanguage:function setLanguage(input){var passive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!is$1.string(input)){this.debug.warn('Invalid language argument',input);return;}
var language=input.toLowerCase();this.captions.language=language;var tracks=captions.getTracks.call(this);var track=captions.findTrack.call(this,[language]);captions.set.call(this,tracks.indexOf(track),passive);},getTracks:function getTracks(){var _this2=this;var update=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var tracks=Array.from((this.media||{}).textTracks||[]);return tracks.filter(function(track){return!_this2.isHTML5||update||_this2.captions.meta.has(track);}).filter(function(track){return['captions','subtitles'].includes(track.kind);});},findTrack:function findTrack(languages){var _this3=this;var force=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var tracks=captions.getTracks.call(this);var sortIsDefault=function sortIsDefault(track){return Number((_this3.captions.meta.get(track)||{}).default);};var sorted=Array.from(tracks).sort(function(a,b){return sortIsDefault(b)-sortIsDefault(a);});var track=void 0;languages.every(function(language){track=sorted.find(function(track){return track.language===language;});return!track;});return track||(force?sorted[0]:undefined);},getCurrentTrack:function getCurrentTrack(){return captions.getTracks.call(this)[this.currentTrack];},getLabel:function getLabel(track){var currentTrack=track;if(!is$1.track(currentTrack)&&support.textTracks&&this.captions.toggled){currentTrack=captions.getCurrentTrack.call(this);}
if(is$1.track(currentTrack)){if(!is$1.empty(currentTrack.label)){return currentTrack.label;}
if(!is$1.empty(currentTrack.language)){return track.language.toUpperCase();}
return i18n.get('enabled',this.config);}
return i18n.get('disabled',this.config);},updateCues:function updateCues(input){if(!this.supported.ui){return;}
if(!is$1.element(this.elements.captions)){this.debug.warn('No captions element to render to');return;}
if(!is$1.nullOrUndefined(input)&&!Array.isArray(input)){this.debug.warn('updateCues: Invalid input',input);return;}
var cues=input;if(!cues){var track=captions.getCurrentTrack.call(this);cues=Array.from((track||{}).activeCues||[]).map(function(cue){return cue.getCueAsHTML();}).map(getHTML);}
var content=cues.map(function(cueText){return cueText.trim();}).join('\n');var changed=content!==this.elements.captions.innerHTML;if(changed){emptyElement(this.elements.captions);var caption=createElement('span',getAttributesFromSelector(this.config.selectors.caption));caption.innerHTML=content;this.elements.captions.appendChild(caption);triggerEvent.call(this,this.media,'cuechange');}}};var defaults$1={enabled:true,title:'',debug:false,autoplay:false,autopause:true,playsinline:true,seekTime:10,volume:1,muted:false,duration:null,displayDuration:true,invertTime:true,toggleInvert:true,ratio:'16:9',clickToPlay:true,hideControls:true,resetOnEnd:false,disableContextMenu:true,loadSprite:true,iconPrefix:'plyr',iconUrl:'https://cdn.plyr.io/3.3.12/plyr.svg',blankVideo:'https://cdn.plyr.io/static/blank.mp4',quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:false},speed:{selected:1,options:[0.5,0.75,1,1.25,1.5,1.75,2]},keyboard:{focused:true,global:false},tooltips:{controls:false,seek:true},captions:{active:false,language:'auto',update:false},fullscreen:{enabled:true,fallback:true,iosNative:false},storage:{enabled:true,key:'plyr'},controls:['play-large','play','progress','current-time','mute','volume','captions','settings','pip','airplay','fullscreen'],settings:['captions','quality','speed'],i18n:{restart:'Restart',rewind:'Rewind {seektime}s',play:'Play',pause:'Pause',fastForward:'Forward {seektime}s',seek:'Seek',seekLabel:'{currentTime} of {duration}',played:'Played',buffered:'Buffered',currentTime:'Current time',duration:'Duration',volume:'Volume',mute:'Mute',unmute:'Unmute',enableCaptions:'Enable captions',disableCaptions:'Disable captions',enterFullscreen:'Enter fullscreen',exitFullscreen:'Exit fullscreen',frameTitle:'Player for {title}',captions:'Captions',settings:'Settings',menuBack:'Go back to previous menu',speed:'Speed',normal:'Normal',quality:'Quality',loop:'Loop',start:'Start',end:'End',all:'All',reset:'Reset',disabled:'Disabled',enabled:'Enabled',advertisement:'Ad',qualityBadge:{2160:'4K',1440:'HD',1080:'HD',720:'HD',576:'SD',480:'SD'}},urls:{vimeo:{sdk:'https://player.vimeo.com/api/player.js',iframe:'https://player.vimeo.com/video/{0}?{1}',api:'https://vimeo.com/api/v2/video/{0}.json'},youtube:{sdk:'https://www.youtube.com/iframe_api',api:'https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet'},googleIMA:{sdk:'https://imasdk.googleapis.com/js/sdkloader/ima3.js'}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:['ended','progress','stalled','playing','waiting','canplay','canplaythrough','loadstart','loadeddata','loadedmetadata','timeupdate','volumechange','play','pause','error','seeking','seeked','emptied','ratechange','cuechange','enterfullscreen','exitfullscreen','captionsenabled','captionsdisabled','languagechange','controlshidden','controlsshown','ready','statechange','qualitychange','adsloaded','adscontentpause','adscontentresume','adstarted','adsmidpoint','adscomplete','adsallcomplete','adsimpression','adsclick'],selectors:{editable:'input, textarea, select, [contenteditable]',container:'.plyr',controls:{container:null,wrapper:'.plyr__controls'},labels:'[data-plyr]',buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:'.plyr__time--current',duration:'.plyr__time--duration',buffer:'.plyr__progress__buffer',loop:'.plyr__progress__loop',volume:'.plyr__volume--display'},progress:'.plyr__progress',captions:'.plyr__captions',caption:'.plyr__caption',menu:{quality:'.js-plyr__menu__list--quality'}},classNames:{type:'plyr--{0}',provider:'plyr--{0}',video:'plyr__video-wrapper',embed:'plyr__video-embed',embedContainer:'plyr__video-embed__container',poster:'plyr__poster',posterEnabled:'plyr__poster-enabled',ads:'plyr__ads',control:'plyr__control',controlPressed:'plyr__control--pressed',playing:'plyr--playing',paused:'plyr--paused',stopped:'plyr--stopped',loading:'plyr--loading',hover:'plyr--hover',tooltip:'plyr__tooltip',cues:'plyr__cues',hidden:'plyr__sr-only',hideControls:'plyr--hide-controls',isIos:'plyr--is-ios',isTouch:'plyr--is-touch',uiSupported:'plyr--full-ui',noTransition:'plyr--no-transition',display:{time:'plyr__time'},menu:{value:'plyr__menu__value',badge:'plyr__badge',open:'plyr--menu-open'},captions:{enabled:'plyr--captions-enabled',active:'plyr--captions-active'},fullscreen:{enabled:'plyr--fullscreen-enabled',fallback:'plyr--fullscreen-fallback'},pip:{supported:'plyr--pip-supported',active:'plyr--pip-active'},airplay:{supported:'plyr--airplay-supported',active:'plyr--airplay-active'},tabFocus:'plyr__tab-focus'},attributes:{embed:{provider:'data-plyr-provider',id:'data-plyr-embed-id'}},keys:{google:null},ads:{enabled:false,publisherId:''}};var providers={html5:'html5',youtube:'youtube',vimeo:'vimeo'};var types={audio:'audio',video:'video'};function getProviderByUrl(url){if(/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(url)){return providers.youtube;}
if(/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(url)){return providers.vimeo;}
return null;}
var noop=function noop(){};var Console=function(){function Console(){var enabled=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;classCallCheck(this,Console);this.enabled=window.console&&enabled;if(this.enabled){this.log('Debugging enabled');}}
createClass(Console,[{key:'log',get:function get(){return this.enabled?Function.prototype.bind.call(console.log,console):noop;}},{key:'warn',get:function get(){return this.enabled?Function.prototype.bind.call(console.warn,console):noop;}},{key:'error',get:function get(){return this.enabled?Function.prototype.bind.call(console.error,console):noop;}}]);return Console;}();function onChange(){if(!this.enabled){return;}
var button=this.player.elements.buttons.fullscreen;if(is$1.element(button)){button.pressed=this.active;}
triggerEvent.call(this.player,this.target,this.active?'enterfullscreen':'exitfullscreen',true);if(!browser.isIos){trapFocus.call(this.player,this.target,this.active);}}
function toggleFallback(){var toggle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(toggle){this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0};}else{window.scrollTo(this.scrollPosition.x,this.scrollPosition.y);}
document.body.style.overflow=toggle?'hidden':'';toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,toggle);onChange.call(this);}
var Fullscreen=function(){function Fullscreen(player){var _this=this;classCallCheck(this,Fullscreen);this.player=player;this.prefix=Fullscreen.prefix;this.property=Fullscreen.property;this.scrollPosition={x:0,y:0};on.call(this.player,document,this.prefix==='ms'?'MSFullscreenChange':this.prefix+'fullscreenchange',function(){onChange.call(_this);});on.call(this.player,this.player.elements.container,'dblclick',function(event){if(is$1.element(_this.player.elements.controls)&&_this.player.elements.controls.contains(event.target)){return;}
_this.toggle();});this.update();}
createClass(Fullscreen,[{key:'update',value:function update(){if(this.enabled){this.player.debug.log((Fullscreen.native?'Native':'Fallback')+' fullscreen enabled');}else{this.player.debug.log('Fullscreen not supported and fallback disabled');}
toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled);}},{key:'enter',value:function enter(){if(!this.enabled){return;}
if(browser.isIos&&this.player.config.fullscreen.iosNative){this.target.webkitEnterFullscreen();}else if(!Fullscreen.native){toggleFallback.call(this,true);}else if(!this.prefix){this.target.requestFullscreen();}else if(!is$1.empty(this.prefix)){this.target[this.prefix+'Request'+this.property]();}}},{key:'exit',value:function exit(){if(!this.enabled){return;}
if(browser.isIos&&this.player.config.fullscreen.iosNative){this.target.webkitExitFullscreen();this.player.play();}else if(!Fullscreen.native){toggleFallback.call(this,false);}else if(!this.prefix){(document.cancelFullScreen||document.exitFullscreen).call(document);}else if(!is$1.empty(this.prefix)){var action=this.prefix==='moz'?'Cancel':'Exit';document[''+this.prefix+action+this.property]();}}},{key:'toggle',value:function toggle(){if(!this.active){this.enter();}else{this.exit();}}},{key:'enabled',get:function get(){return(Fullscreen.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo;}},{key:'active',get:function get(){if(!this.enabled){return false;}
if(!Fullscreen.native){return hasClass(this.target,this.player.config.classNames.fullscreen.fallback);}
var element=!this.prefix?document.fullscreenElement:document[''+this.prefix+this.property+'Element'];return element===this.target;}},{key:'target',get:function get(){return browser.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container;}}],[{key:'native',get:function get(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled);}},{key:'prefix',get:function get(){if(is$1.function(document.exitFullscreen)){return'';}
var value='';var prefixes=['webkit','moz','ms'];prefixes.some(function(pre){if(is$1.function(document[pre+'ExitFullscreen'])||is$1.function(document[pre+'CancelFullScreen'])){value=pre;return true;}
return false;});return value;}},{key:'property',get:function get(){return this.prefix==='moz'?'FullScreen':'Fullscreen';}}]);return Fullscreen;}();function loadImage(src){var minWidth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return new Promise(function(resolve,reject){var image=new Image();var handler=function handler(){delete image.onload;delete image.onerror;(image.naturalWidth>=minWidth?resolve:reject)(image);};Object.assign(image,{onload:handler,onerror:handler,src:src});});}
var ui={addStyleHook:function addStyleHook(){toggleClass(this.elements.container,this.config.selectors.container.replace('.',''),true);toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui);},toggleNativeControls:function toggleNativeControls(){var toggle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(toggle&&this.isHTML5){this.media.setAttribute('controls','');}else{this.media.removeAttribute('controls');}},build:function build(){var _this=this;this.listeners.media();if(!this.supported.ui){this.debug.warn('Basic support only for '+this.provider+' '+this.type);ui.toggleNativeControls.call(this,true);return;}
if(!is$1.element(this.elements.controls)){controls.inject.call(this);this.listeners.controls();}
ui.toggleNativeControls.call(this);if(this.isHTML5){captions.setup.call(this);}
this.volume=null;this.muted=null;this.speed=null;this.loop=null;this.quality=null;controls.updateVolume.call(this);controls.timeUpdate.call(this);ui.checkPlaying.call(this);toggleClass(this.elements.container,this.config.classNames.pip.supported,support.pip&&this.isHTML5&&this.isVideo);toggleClass(this.elements.container,this.config.classNames.airplay.supported,support.airplay&&this.isHTML5);toggleClass(this.elements.container,this.config.classNames.isIos,browser.isIos);toggleClass(this.elements.container,this.config.classNames.isTouch,this.touch);this.ready=true;setTimeout(function(){triggerEvent.call(_this,_this.media,'ready');},0);ui.setTitle.call(this);if(this.poster){ui.setPoster.call(this,this.poster,false).catch(function(){});}
if(this.config.duration){controls.durationUpdate.call(this);}},setTitle:function setTitle(){var label=i18n.get('play',this.config);if(is$1.string(this.config.title)&&!is$1.empty(this.config.title)){label+=', '+this.config.title;}
Array.from(this.elements.buttons.play||[]).forEach(function(button){button.setAttribute('aria-label',label);});if(this.isEmbed){var iframe=getElement.call(this,'iframe');if(!is$1.element(iframe)){return;}
var title=!is$1.empty(this.config.title)?this.config.title:'video';var format=i18n.get('frameTitle',this.config);iframe.setAttribute('title',format.replace('{title}',title));}},togglePoster:function togglePoster(enable){toggleClass(this.elements.container,this.config.classNames.posterEnabled,enable);},setPoster:function setPoster(poster){var _this2=this;var passive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(passive&&this.poster){return Promise.reject(new Error('Poster already set'));}
this.media.setAttribute('poster',poster);return ready.call(this).then(function(){return loadImage(poster);}).catch(function(err){if(poster===_this2.poster){ui.togglePoster.call(_this2,false);}
throw err;}).then(function(){if(poster!==_this2.poster){throw new Error('setPoster cancelled by later call to setPoster');}}).then(function(){Object.assign(_this2.elements.poster.style,{backgroundImage:'url(\''+poster+'\')',backgroundSize:''});ui.togglePoster.call(_this2,true);return poster;});},checkPlaying:function checkPlaying(event){var _this3=this;toggleClass(this.elements.container,this.config.classNames.playing,this.playing);toggleClass(this.elements.container,this.config.classNames.paused,this.paused);toggleClass(this.elements.container,this.config.classNames.stopped,this.stopped);Array.from(this.elements.buttons.play||[]).forEach(function(target){target.pressed=_this3.playing;});if(is$1.event(event)&&event.type==='timeupdate'){return;}
ui.toggleControls.call(this);},checkLoading:function checkLoading(event){var _this4=this;this.loading=['stalled','waiting'].includes(event.type);clearTimeout(this.timers.loading);this.timers.loading=setTimeout(function(){toggleClass(_this4.elements.container,_this4.config.classNames.loading,_this4.loading);ui.toggleControls.call(_this4);},this.loading?250:0);},toggleControls:function toggleControls(force){var controls$$1=this.elements.controls;if(controls$$1&&this.config.hideControls){this.toggleControls(Boolean(force||this.loading||this.paused||controls$$1.pressed||controls$$1.hover));}}};var Listeners=function(){function Listeners(player){classCallCheck(this,Listeners);this.player=player;this.lastKey=null;this.focusTimer=null;this.lastKeyDown=null;this.handleKey=this.handleKey.bind(this);this.toggleMenu=this.toggleMenu.bind(this);this.setTabFocus=this.setTabFocus.bind(this);this.firstTouch=this.firstTouch.bind(this);}
createClass(Listeners,[{key:'handleKey',value:function handleKey(event){var player=this.player;var elements=player.elements;var code=event.keyCode?event.keyCode:event.which;var pressed=event.type==='keydown';var repeat=pressed&&code===this.lastKey;if(event.altKey||event.ctrlKey||event.metaKey||event.shiftKey){return;}
if(!is$1.number(code)){return;}
var seekByKey=function seekByKey(){player.currentTime=player.duration/10*(code-48);};if(pressed){var focused=document.activeElement;if(is$1.element(focused)){var editable=player.config.selectors.editable;var seek=elements.inputs.seek;if(focused!==seek&&matches(focused,editable)){return;}
if(event.which===32&&matches(focused,'button, [role^="menuitem"]')){return;}}
var preventDefault=[32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79];if(preventDefault.includes(code)){event.preventDefault();event.stopPropagation();}
switch(code){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(!repeat){seekByKey();}
break;case 32:case 75:if(!repeat){player.togglePlay();}
break;case 38:player.increaseVolume(0.1);break;case 40:player.decreaseVolume(0.1);break;case 77:if(!repeat){player.muted=!player.muted;}
break;case 39:player.forward();break;case 37:player.rewind();break;case 70:player.fullscreen.toggle();break;case 67:if(!repeat){player.toggleCaptions();}
break;case 76:player.loop=!player.loop;break;default:break;}
if(!player.fullscreen.enabled&&player.fullscreen.active&&code===27){player.fullscreen.toggle();}
this.lastKey=code;}else{this.lastKey=null;}}},{key:'toggleMenu',value:function toggleMenu(event){controls.toggleMenu.call(this.player,event);}},{key:'firstTouch',value:function firstTouch(){var player=this.player;var elements=player.elements;player.touch=true;toggleClass(elements.container,player.config.classNames.isTouch,true);}},{key:'setTabFocus',value:function setTabFocus(event){var player=this.player;var elements=player.elements;clearTimeout(this.focusTimer);if(event.type==='keydown'&&event.which!==9){return;}
if(event.type==='keydown'){this.lastKeyDown=event.timeStamp;}
var removeCurrent=function removeCurrent(){var className=player.config.classNames.tabFocus;var current=getElements.call(player,'.'+className);toggleClass(current,className,false);};var wasKeyDown=event.timeStamp-this.lastKeyDown<=20;if(event.type==='focus'&&!wasKeyDown){return;}
removeCurrent();this.focusTimer=setTimeout(function(){var focused=document.activeElement;if(!elements.container.contains(focused)){return;}
toggleClass(document.activeElement,player.config.classNames.tabFocus,true);},10);}},{key:'global',value:function global(){var toggle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var player=this.player;if(player.config.keyboard.global){toggleListener.call(player,window,'keydown keyup',this.handleKey,toggle,false);}
toggleListener.call(player,document.body,'click',this.toggleMenu,toggle);once.call(player,document.body,'touchstart',this.firstTouch);toggleListener.call(player,document.body,'keydown focus blur',this.setTabFocus,toggle,false,true);}},{key:'container',value:function container(){var player=this.player;var elements=player.elements;if(!player.config.keyboard.global&&player.config.keyboard.focused){on.call(player,elements.container,'keydown keyup',this.handleKey,false);}
on.call(player,elements.container,'mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen',function(event){var controls$$1=elements.controls;if(controls$$1&&event.type==='enterfullscreen'){controls$$1.pressed=false;controls$$1.hover=false;}
var show=['touchstart','touchmove','mousemove'].includes(event.type);var delay=0;if(show){ui.toggleControls.call(player,true);delay=player.touch?3000:2000;}
clearTimeout(player.timers.controls);player.timers.controls=setTimeout(function(){return ui.toggleControls.call(player,false);},delay);});}},{key:'media',value:function media(){var player=this.player;var elements=player.elements;on.call(player,player.media,'timeupdate seeking seeked',function(event){return controls.timeUpdate.call(player,event);});on.call(player,player.media,'durationchange loadeddata loadedmetadata',function(event){return controls.durationUpdate.call(player,event);});on.call(player,player.media,'canplay',function(){toggleHidden(elements.volume,!player.hasAudio);toggleHidden(elements.buttons.mute,!player.hasAudio);});on.call(player,player.media,'ended',function(){if(player.isHTML5&&player.isVideo&&player.config.resetOnEnd){player.restart();}});on.call(player,player.media,'progress playing seeking seeked',function(event){return controls.updateProgress.call(player,event);});on.call(player,player.media,'volumechange',function(event){return controls.updateVolume.call(player,event);});on.call(player,player.media,'playing play pause ended emptied timeupdate',function(event){return ui.checkPlaying.call(player,event);});on.call(player,player.media,'waiting canplay seeked playing',function(event){return ui.checkLoading.call(player,event);});on.call(player,player.media,'playing',function(){if(!player.ads){return;}
if(player.ads.enabled&&!player.ads.initialized){player.ads.managerPromise.then(function(){return player.ads.play();}).catch(function(){return player.play();});}});if(player.supported.ui&&player.config.clickToPlay&&!player.isAudio){var wrapper=getElement.call(player,'.'+player.config.classNames.video);if(!is$1.element(wrapper)){return;}
on.call(player,elements.container,'click touchstart',function(event){var targets=[elements.container,wrapper];if(!targets.includes(event.target)&&!wrapper.contains(event.target)){return;}
if(player.config.hideControls&&player.touch&&hasClass(elements.container,player.config.classNames.hideControls)){return;}
if(player.ended){player.restart();player.play();}else{player.togglePlay();}});}
if(player.supported.ui&&player.config.disableContextMenu){on.call(player,elements.wrapper,'contextmenu',function(event){event.preventDefault();},false);}
on.call(player,player.media,'volumechange',function(){player.storage.set({volume:player.volume,muted:player.muted});});on.call(player,player.media,'ratechange',function(){controls.updateSetting.call(player,'speed');player.storage.set({speed:player.speed});});on.call(player,player.media,'qualitychange',function(event){controls.updateSetting.call(player,'quality',null,event.detail.quality);});var proxyEvents=player.config.events.concat(['keyup','keydown']).join(' ');on.call(player,player.media,proxyEvents,function(event){var _event$detail=event.detail,detail=_event$detail===undefined?{}:_event$detail;if(event.type==='error'){detail=player.media.error;}
triggerEvent.call(player,elements.container,event.type,true,detail);});}},{key:'proxy',value:function proxy(event,defaultHandler,customHandlerKey){var player=this.player;var customHandler=player.config.listeners[customHandlerKey];var hasCustomHandler=is$1.function(customHandler);var returned=true;if(hasCustomHandler){returned=customHandler.call(player,event);}
if(returned&&is$1.function(defaultHandler)){defaultHandler.call(player,event);}}},{key:'bind',value:function bind(element,type,defaultHandler,customHandlerKey){var _this=this;var passive=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var player=this.player;var customHandler=player.config.listeners[customHandlerKey];var hasCustomHandler=is$1.function(customHandler);on.call(player,element,type,function(event){return _this.proxy(event,defaultHandler,customHandlerKey);},passive&&!hasCustomHandler);}},{key:'controls',value:function controls$$1(){var _this2=this;var player=this.player;var elements=player.elements;var inputEvent=browser.isIE?'change':'input';if(elements.buttons.play){Array.from(elements.buttons.play).forEach(function(button){_this2.bind(button,'click',player.togglePlay,'play');});}
this.bind(elements.buttons.restart,'click',player.restart,'restart');this.bind(elements.buttons.rewind,'click',player.rewind,'rewind');this.bind(elements.buttons.fastForward,'click',player.forward,'fastForward');this.bind(elements.buttons.mute,'click',function(){player.muted=!player.muted;},'mute');this.bind(elements.buttons.captions,'click',function(){return player.toggleCaptions();});this.bind(elements.buttons.fullscreen,'click',function(){player.fullscreen.toggle();},'fullscreen');this.bind(elements.buttons.pip,'click',function(){player.pip='toggle';},'pip');this.bind(elements.buttons.airplay,'click',player.airplay,'airplay');this.bind(elements.buttons.settings,'click',function(event){event.stopPropagation();controls.toggleMenu.call(player,event);});this.bind(elements.buttons.settings,'keyup',function(event){var code=event.which;if(![13,32].includes(code)){return;}
if(code===13){controls.focusFirstMenuItem.call(player,null,true);return;}
event.preventDefault();event.stopPropagation();controls.toggleMenu.call(player,event);},null,false);this.bind(elements.settings.menu,'keydown',function(event){if(event.which===27){controls.toggleMenu.call(player,event);}});this.bind(elements.inputs.seek,'mousedown mousemove',function(event){var rect=elements.progress.getBoundingClientRect();var percent=100/rect.width*(event.pageX-rect.left);event.currentTarget.setAttribute('seek-value',percent);});this.bind(elements.inputs.seek,'mousedown mouseup keydown keyup touchstart touchend',function(event){var seek=event.currentTarget;var code=event.keyCode?event.keyCode:event.which;var attribute='play-on-seeked';if(is$1.keyboardEvent(event)&&code!==39&&code!==37){return;}
var play=seek.hasAttribute(attribute);var done=['mouseup','touchend','keyup'].includes(event.type);if(play&&done){seek.removeAttribute(attribute);player.play();}else if(!done&&player.playing){seek.setAttribute(attribute,'');player.pause();}});if(browser.isIos){var inputs=getElements.call(player,'input[type="range"]');Array.from(inputs).forEach(function(input){return _this2.bind(input,inputEvent,function(event){return repaint(event.target);});});}
this.bind(elements.inputs.seek,inputEvent,function(event){var seek=event.currentTarget;var seekTo=seek.getAttribute('seek-value');if(is$1.empty(seekTo)){seekTo=seek.value;}
seek.removeAttribute('seek-value');player.currentTime=seekTo/seek.max*player.duration;},'seek');this.bind(elements.progress,'mouseenter mouseleave mousemove',function(event){return controls.updateSeekTooltip.call(player,event);});if(browser.isWebkit){Array.from(getElements.call(player,'input[type="range"]')).forEach(function(element){_this2.bind(element,'input',function(event){return controls.updateRangeFill.call(player,event.target);});});}
if(player.config.toggleInvert&&!is$1.element(elements.display.duration)){this.bind(elements.display.currentTime,'click',function(){if(player.currentTime===0){return;}
player.config.invertTime=!player.config.invertTime;controls.timeUpdate.call(player);});}
this.bind(elements.inputs.volume,inputEvent,function(event){player.volume=event.target.value;},'volume');this.bind(elements.controls,'mouseenter mouseleave',function(event){elements.controls.hover=!player.touch&&event.type==='mouseenter';});this.bind(elements.controls,'mousedown mouseup touchstart touchend touchcancel',function(event){elements.controls.pressed=['mousedown','touchstart'].includes(event.type);});this.bind(elements.controls,'focusin focusout',function(event){var config=player.config,elements=player.elements,timers=player.timers;var isFocusIn=event.type==='focusin';toggleClass(elements.controls,config.classNames.noTransition,isFocusIn);ui.toggleControls.call(player,isFocusIn);if(isFocusIn){setTimeout(function(){toggleClass(elements.controls,config.classNames.noTransition,false);},0);var delay=_this2.touch?3000:4000;clearTimeout(timers.controls);timers.controls=setTimeout(function(){return ui.toggleControls.call(player,false);},delay);}});this.bind(elements.inputs.volume,'wheel',function(event){var inverted=event.webkitDirectionInvertedFromDevice;var _map=[event.deltaX,-event.deltaY].map(function(value){return inverted?-value:value;}),_map2=slicedToArray(_map,2),x=_map2[0],y=_map2[1];var direction=Math.sign(Math.abs(x)>Math.abs(y)?x:y);player.increaseVolume(direction/50);var volume=player.media.volume;if(direction===1&&volume<1||direction===-1&&volume>0){event.preventDefault();}},'volume',false);}}]);return Listeners;}();var loadjs_umd=createCommonjsModule(function(module,exports){(function(root,factory){if(typeof undefined==='function'&&undefined.amd){undefined([],factory);}else{module.exports=factory();}}(commonjsGlobal,function(){var devnull=function(){},bundleIdCache={},bundleResultCache={},bundleCallbackQueue={};function subscribe(bundleIds,callbackFn){bundleIds=bundleIds.push?bundleIds:[bundleIds];var depsNotFound=[],i=bundleIds.length,numWaiting=i,fn,bundleId,r,q;fn=function(bundleId,pathsNotFound){if(pathsNotFound.length)depsNotFound.push(bundleId);numWaiting--;if(!numWaiting)callbackFn(depsNotFound);};while(i--){bundleId=bundleIds[i];r=bundleResultCache[bundleId];if(r){fn(bundleId,r);continue;}
q=bundleCallbackQueue[bundleId]=bundleCallbackQueue[bundleId]||[];q.push(fn);}}
function publish(bundleId,pathsNotFound){if(!bundleId)return;var q=bundleCallbackQueue[bundleId];bundleResultCache[bundleId]=pathsNotFound;if(!q)return;while(q.length){q[0](bundleId,pathsNotFound);q.splice(0,1);}}
function executeCallbacks(args,depsNotFound){if(args.call)args={success:args};if(depsNotFound.length)(args.error||devnull)(depsNotFound);else(args.success||devnull)(args);}
function loadFile(path,callbackFn,args,numTries){var doc=document,async=args.async,maxTries=(args.numRetries||0)+1,beforeCallbackFn=args.before||devnull,pathStripped=path.replace(/^(css|img)!/,''),isCss,e;numTries=numTries||0;if(/(^css!|\.css$)/.test(path)){isCss=true;e=doc.createElement('link');e.rel='stylesheet';e.href=pathStripped;}else if(/(^img!|\.(png|gif|jpg|svg)$)/.test(path)){e=doc.createElement('img');e.src=pathStripped;}else{e=doc.createElement('script');e.src=path;e.async=async===undefined?true:async;}
e.onload=e.onerror=e.onbeforeload=function(ev){var result=ev.type[0];if(isCss&&'hideFocus'in e){try{if(!e.sheet.cssText.length)result='e';}catch(x){result='e';}}
if(result=='e'){numTries+=1;if(numTries<maxTries){return loadFile(path,callbackFn,args,numTries);}}
callbackFn(path,result,ev.defaultPrevented);};if(beforeCallbackFn(path,e)!==false)doc.head.appendChild(e);}
function loadFiles(paths,callbackFn,args){paths=paths.push?paths:[paths];var numWaiting=paths.length,x=numWaiting,pathsNotFound=[],fn,i;fn=function(path,result,defaultPrevented){if(result=='e')pathsNotFound.push(path);if(result=='b'){if(defaultPrevented)pathsNotFound.push(path);else return;}
numWaiting--;if(!numWaiting)callbackFn(pathsNotFound);};for(i=0;i<x;i++)loadFile(paths[i],fn,args);}
function loadjs(paths,arg1,arg2){var bundleId,args;if(arg1&&arg1.trim)bundleId=arg1;args=(bundleId?arg2:arg1)||{};if(bundleId){if(bundleId in bundleIdCache){throw"LoadJS";}else{bundleIdCache[bundleId]=true;}}
loadFiles(paths,function(pathsNotFound){executeCallbacks(args,pathsNotFound);publish(bundleId,pathsNotFound);},args);}
loadjs.ready=function ready(deps,args){subscribe(deps,function(depsNotFound){executeCallbacks(args,depsNotFound);});return loadjs;};loadjs.done=function done(bundleId){publish(bundleId,[]);};loadjs.reset=function reset(){bundleIdCache={};bundleResultCache={};bundleCallbackQueue={};};loadjs.isDefined=function isDefined(bundleId){return bundleId in bundleIdCache;};return loadjs;}));});function loadScript(url){return new Promise(function(resolve,reject){loadjs_umd(url,{success:resolve,error:reject});});}
function parseId(url){if(is$1.empty(url)){return null;}
if(is$1.number(Number(url))){return url;}
var regex=/^.*(vimeo.com\/|video\/)(\d+).*/;return url.match(regex)?RegExp.$2:url;}
function getAspectRatio(width,height){var getRatio=function getRatio(w,h){return h===0?w:getRatio(h,w%h);};var ratio=getRatio(width,height);return width/ratio+':'+height/ratio;}
function assurePlaybackState(play){if(play&&!this.embed.hasPlayed){this.embed.hasPlayed=true;}
if(this.media.paused===play){this.media.paused=!play;triggerEvent.call(this,this.media,play?'play':'pause');}}
var vimeo={setup:function setup(){var _this=this;toggleClass(this.elements.wrapper,this.config.classNames.embed,true);vimeo.setAspectRatio.call(this);if(!is$1.object(window.Vimeo)){loadScript(this.config.urls.vimeo.sdk).then(function(){vimeo.ready.call(_this);}).catch(function(error){_this.debug.warn('Vimeo API failed to load',error);});}else{vimeo.ready.call(this);}},setAspectRatio:function setAspectRatio(input){var _split=(is$1.string(input)?input:this.config.ratio).split(':'),_split2=slicedToArray(_split,2),x=_split2[0],y=_split2[1];var padding=100/x*y;this.elements.wrapper.style.paddingBottom=padding+'%';if(this.supported.ui){var height=240;var offset=(height-padding)/(height/50);this.media.style.transform='translateY(-'+offset+'%)';}},ready:function ready$$1(){var _this2=this;var player=this;var options={loop:player.config.loop.active,autoplay:player.autoplay,byline:false,portrait:false,title:false,speed:true,transparent:0,gesture:'media',playsinline:!this.config.fullscreen.iosNative};var params=buildUrlParams(options);var source=player.media.getAttribute('src');if(is$1.empty(source)){source=player.media.getAttribute(player.config.attributes.embed.id);}
var id=parseId(source);var iframe=createElement('iframe');var src=format(player.config.urls.vimeo.iframe,id,params);iframe.setAttribute('src',src);iframe.setAttribute('allowfullscreen','');iframe.setAttribute('allowtransparency','');iframe.setAttribute('allow','autoplay');var poster=player.poster;var wrapper=createElement('div',{poster:poster,class:player.config.classNames.embedContainer});wrapper.appendChild(iframe);player.media=replaceElement(wrapper,player.media);fetch(format(player.config.urls.vimeo.api,id),'json').then(function(response){if(is$1.empty(response)){return;}
var url=new URL(response[0].thumbnail_large);url.pathname=url.pathname.split('_')[0]+'.jpg';ui.setPoster.call(player,url.href).catch(function(){});});player.embed=new window.Vimeo.Player(iframe,{autopause:player.config.autopause,muted:player.muted});player.media.paused=true;player.media.currentTime=0;if(player.supported.ui){player.embed.disableTextTrack();}
player.media.play=function(){assurePlaybackState.call(player,true);return player.embed.play();};player.media.pause=function(){assurePlaybackState.call(player,false);return player.embed.pause();};player.media.stop=function(){player.pause();player.currentTime=0;};var currentTime=player.media.currentTime;Object.defineProperty(player.media,'currentTime',{get:function get(){return currentTime;},set:function set(time){var embed=player.embed,media=player.media,paused=player.paused,volume=player.volume;var restorePause=paused&&!embed.hasPlayed;media.seeking=true;triggerEvent.call(player,media,'seeking');Promise.resolve(restorePause&&embed.setVolume(0)).then(function(){return embed.setCurrentTime(time);}).then(function(){return restorePause&&embed.pause();}).then(function(){return restorePause&&embed.setVolume(volume);}).catch(function(){});}});var speed=player.config.speed.selected;Object.defineProperty(player.media,'playbackRate',{get:function get(){return speed;},set:function set(input){player.embed.setPlaybackRate(input).then(function(){speed=input;triggerEvent.call(player,player.media,'ratechange');}).catch(function(error){if(error.name==='Error'){controls.setSpeedMenu.call(player,[]);}});}});var volume=player.config.volume;Object.defineProperty(player.media,'volume',{get:function get(){return volume;},set:function set(input){player.embed.setVolume(input).then(function(){volume=input;triggerEvent.call(player,player.media,'volumechange');});}});var muted=player.config.muted;Object.defineProperty(player.media,'muted',{get:function get(){return muted;},set:function set(input){var toggle=is$1.boolean(input)?input:false;player.embed.setVolume(toggle?0:player.config.volume).then(function(){muted=toggle;triggerEvent.call(player,player.media,'volumechange');});}});var loop=player.config.loop;Object.defineProperty(player.media,'loop',{get:function get(){return loop;},set:function set(input){var toggle=is$1.boolean(input)?input:player.config.loop.active;player.embed.setLoop(toggle).then(function(){loop=toggle;});}});var currentSrc=void 0;player.embed.getVideoUrl().then(function(value){currentSrc=value;}).catch(function(error){_this2.debug.warn(error);});Object.defineProperty(player.media,'currentSrc',{get:function get(){return currentSrc;}});Object.defineProperty(player.media,'ended',{get:function get(){return player.currentTime===player.duration;}});Promise.all([player.embed.getVideoWidth(),player.embed.getVideoHeight()]).then(function(dimensions){var ratio=getAspectRatio(dimensions[0],dimensions[1]);vimeo.setAspectRatio.call(_this2,ratio);});player.embed.setAutopause(player.config.autopause).then(function(state){player.config.autopause=state;});player.embed.getVideoTitle().then(function(title){player.config.title=title;ui.setTitle.call(_this2);});player.embed.getCurrentTime().then(function(value){currentTime=value;triggerEvent.call(player,player.media,'timeupdate');});player.embed.getDuration().then(function(value){player.media.duration=value;triggerEvent.call(player,player.media,'durationchange');});player.embed.getTextTracks().then(function(tracks){player.media.textTracks=tracks;captions.setup.call(player);});player.embed.on('cuechange',function(_ref){var _ref$cues=_ref.cues,cues=_ref$cues===undefined?[]:_ref$cues;var strippedCues=cues.map(function(cue){return stripHTML(cue.text);});captions.updateCues.call(player,strippedCues);});player.embed.on('loaded',function(){player.embed.getPaused().then(function(paused){assurePlaybackState.call(player,!paused);if(!paused){triggerEvent.call(player,player.media,'playing');}});if(is$1.element(player.embed.element)&&player.supported.ui){var frame=player.embed.element;frame.setAttribute('tabindex',-1);}});player.embed.on('play',function(){assurePlaybackState.call(player,true);triggerEvent.call(player,player.media,'playing');});player.embed.on('pause',function(){assurePlaybackState.call(player,false);});player.embed.on('timeupdate',function(data){player.media.seeking=false;currentTime=data.seconds;triggerEvent.call(player,player.media,'timeupdate');});player.embed.on('progress',function(data){player.media.buffered=data.percent;triggerEvent.call(player,player.media,'progress');if(parseInt(data.percent,10)===1){triggerEvent.call(player,player.media,'canplaythrough');}
player.embed.getDuration().then(function(value){if(value!==player.media.duration){player.media.duration=value;triggerEvent.call(player,player.media,'durationchange');}});});player.embed.on('seeked',function(){player.media.seeking=false;triggerEvent.call(player,player.media,'seeked');});player.embed.on('ended',function(){player.media.paused=true;triggerEvent.call(player,player.media,'ended');});player.embed.on('error',function(detail){player.media.error=detail;triggerEvent.call(player,player.media,'error');});setTimeout(function(){return ui.build.call(player);},0);}};function parseId$1(url){if(is$1.empty(url)){return null;}
var regex=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return url.match(regex)?RegExp.$2:url;}
function assurePlaybackState$1(play){if(play&&!this.embed.hasPlayed){this.embed.hasPlayed=true;}
if(this.media.paused===play){this.media.paused=!play;triggerEvent.call(this,this.media,play?'play':'pause');}}
var youtube={setup:function setup(){var _this=this;toggleClass(this.elements.wrapper,this.config.classNames.embed,true);youtube.setAspectRatio.call(this);if(is$1.object(window.YT)&&is$1.function(window.YT.Player)){youtube.ready.call(this);}else{loadScript(this.config.urls.youtube.sdk).catch(function(error){_this.debug.warn('YouTube API failed to load',error);});window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[];window.onYouTubeReadyCallbacks.push(function(){youtube.ready.call(_this);});window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(callback){callback();});};}},getTitle:function getTitle(videoId){var _this2=this;if(is$1.function(this.embed.getVideoData)){var _embed$getVideoData=this.embed.getVideoData(),title=_embed$getVideoData.title;if(is$1.empty(title)){this.config.title=title;ui.setTitle.call(this);return;}}
var key=this.config.keys.google;if(is$1.string(key)&&!is$1.empty(key)){var url=format(this.config.urls.youtube.api,videoId,key);fetch(url).then(function(result){if(is$1.object(result)){_this2.config.title=result.items[0].snippet.title;ui.setTitle.call(_this2);}}).catch(function(){});}},setAspectRatio:function setAspectRatio(){var ratio=this.config.ratio.split(':');this.elements.wrapper.style.paddingBottom=100/ratio[0]*ratio[1]+'%';},ready:function ready$$1(){var player=this;var currentId=player.media.getAttribute('id');if(!is$1.empty(currentId)&&currentId.startsWith('youtube-')){return;}
var source=player.media.getAttribute('src');if(is$1.empty(source)){source=player.media.getAttribute(this.config.attributes.embed.id);}
var videoId=parseId$1(source);var id=generateId(player.provider);var poster=player.poster;var container=createElement('div',{id:id,poster:poster});player.media=replaceElement(container,player.media);var posterSrc=function posterSrc(format$$1){return'https://img.youtube.com/vi/'+videoId+'/'+format$$1+'default.jpg';};loadImage(posterSrc('maxres'),121).catch(function(){return loadImage(posterSrc('sd'),121);}).catch(function(){return loadImage(posterSrc('hq'));}).then(function(image){return ui.setPoster.call(player,image.src);}).then(function(posterSrc){if(!posterSrc.includes('maxres')){player.elements.poster.style.backgroundSize='cover';}}).catch(function(){});player.embed=new window.YT.Player(id,{videoId:videoId,playerVars:{autoplay:player.config.autoplay?1:0,hl:player.config.hl,controls:player.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:player.captions.active?1:0,cc_lang_pref:player.config.captions.language},events:{onError:function onError(event){if(!player.media.error){var code=event.data;var message={2:'The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.',5:'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.',100:'The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.',101:'The owner of the requested video does not allow it to be played in embedded players.',150:'The owner of the requested video does not allow it to be played in embedded players.'}[code]||'An unknown error occured';player.media.error={code:code,message:message};triggerEvent.call(player,player.media,'error');}},onPlaybackRateChange:function onPlaybackRateChange(event){var instance=event.target;player.media.playbackRate=instance.getPlaybackRate();triggerEvent.call(player,player.media,'ratechange');},onReady:function onReady(event){if(is$1.function(player.media.play)){return;}
var instance=event.target;youtube.getTitle.call(player,videoId);player.media.play=function(){assurePlaybackState$1.call(player,true);instance.playVideo();};player.media.pause=function(){assurePlaybackState$1.call(player,false);instance.pauseVideo();};player.media.stop=function(){instance.stopVideo();};player.media.duration=instance.getDuration();player.media.paused=true;player.media.currentTime=0;Object.defineProperty(player.media,'currentTime',{get:function get(){return Number(instance.getCurrentTime());},set:function set(time){if(player.paused&&!player.embed.hasPlayed){player.embed.mute();}
player.media.seeking=true;triggerEvent.call(player,player.media,'seeking');instance.seekTo(time);}});Object.defineProperty(player.media,'playbackRate',{get:function get(){return instance.getPlaybackRate();},set:function set(input){instance.setPlaybackRate(input);}});var volume=player.config.volume;Object.defineProperty(player.media,'volume',{get:function get(){return volume;},set:function set(input){volume=input;instance.setVolume(volume*100);triggerEvent.call(player,player.media,'volumechange');}});var muted=player.config.muted;Object.defineProperty(player.media,'muted',{get:function get(){return muted;},set:function set(input){var toggle=is$1.boolean(input)?input:muted;muted=toggle;instance[toggle?'mute':'unMute']();triggerEvent.call(player,player.media,'volumechange');}});Object.defineProperty(player.media,'currentSrc',{get:function get(){return instance.getVideoUrl();}});Object.defineProperty(player.media,'ended',{get:function get(){return player.currentTime===player.duration;}});player.options.speed=instance.getAvailablePlaybackRates();if(player.supported.ui){player.media.setAttribute('tabindex',-1);}
triggerEvent.call(player,player.media,'timeupdate');triggerEvent.call(player,player.media,'durationchange');clearInterval(player.timers.buffering);player.timers.buffering=setInterval(function(){player.media.buffered=instance.getVideoLoadedFraction();if(player.media.lastBuffered===null||player.media.lastBuffered<player.media.buffered){triggerEvent.call(player,player.media,'progress');}
player.media.lastBuffered=player.media.buffered;if(player.media.buffered===1){clearInterval(player.timers.buffering);triggerEvent.call(player,player.media,'canplaythrough');}},200);setTimeout(function(){return ui.build.call(player);},50);},onStateChange:function onStateChange(event){var instance=event.target;clearInterval(player.timers.playing);var seeked=player.media.seeking&&[1,2].includes(event.data);if(seeked){player.media.seeking=false;triggerEvent.call(player,player.media,'seeked');}
switch(event.data){case-1:triggerEvent.call(player,player.media,'timeupdate');player.media.buffered=instance.getVideoLoadedFraction();triggerEvent.call(player,player.media,'progress');break;case 0:assurePlaybackState$1.call(player,false);if(player.media.loop){instance.stopVideo();instance.playVideo();}else{triggerEvent.call(player,player.media,'ended');}
break;case 1:if(player.media.paused&&!player.embed.hasPlayed){player.media.pause();}else{assurePlaybackState$1.call(player,true);triggerEvent.call(player,player.media,'playing');player.timers.playing=setInterval(function(){triggerEvent.call(player,player.media,'timeupdate');},50);if(player.media.duration!==instance.getDuration()){player.media.duration=instance.getDuration();triggerEvent.call(player,player.media,'durationchange');}}
break;case 2:if(!player.muted){player.embed.unMute();}
assurePlaybackState$1.call(player,false);break;default:break;}
triggerEvent.call(player,player.elements.container,'statechange',false,{code:event.data});}}});}};var media={setup:function setup(){if(!this.media){this.debug.warn('No media element found!');return;}
toggleClass(this.elements.container,this.config.classNames.type.replace('{0}',this.type),true);toggleClass(this.elements.container,this.config.classNames.provider.replace('{0}',this.provider),true);if(this.isEmbed){toggleClass(this.elements.container,this.config.classNames.type.replace('{0}','video'),true);}
if(this.isVideo){this.elements.wrapper=createElement('div',{class:this.config.classNames.video});wrap$2(this.media,this.elements.wrapper);this.elements.poster=createElement('div',{class:this.config.classNames.poster});this.elements.wrapper.appendChild(this.elements.poster);}
if(this.isHTML5){html5.extend.call(this);}else if(this.isYouTube){youtube.setup.call(this);}else if(this.isVimeo){vimeo.setup.call(this);}}};var Ads=function(){function Ads(player){var _this=this;classCallCheck(this,Ads);this.player=player;this.publisherId=player.config.ads.publisherId;this.playing=false;this.initialized=false;this.elements={container:null,displayContainer:null};this.manager=null;this.loader=null;this.cuePoints=null;this.events={};this.safetyTimer=null;this.countdownTimer=null;this.managerPromise=new Promise(function(resolve,reject){_this.on('loaded',resolve);_this.on('error',reject);});this.load();}
createClass(Ads,[{key:'load',value:function load(){var _this2=this;if(this.enabled){if(!is$1.object(window.google)||!is$1.object(window.google.ima)){loadScript(this.player.config.urls.googleIMA.sdk).then(function(){_this2.ready();}).catch(function(){_this2.trigger('error',new Error('Google IMA SDK failed to load'));});}else{this.ready();}}}},{key:'ready',value:function ready$$1(){var _this3=this;this.startSafetyTimer(12000,'ready()');this.managerPromise.then(function(){_this3.clearSafetyTimer('onAdsManagerLoaded()');});this.listeners();this.setupIMA();}},{key:'setupIMA',value:function setupIMA(){this.elements.container=createElement('div',{class:this.player.config.classNames.ads});this.player.elements.container.appendChild(this.elements.container);google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);google.ima.settings.setLocale(this.player.config.ads.language);this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container);this.requestAds();}},{key:'requestAds',value:function requestAds(){var _this4=this;var container=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer);this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(event){return _this4.onAdsManagerLoaded(event);},false);this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(error){return _this4.onAdError(error);},false);var request=new google.ima.AdsRequest();request.adTagUrl=this.tagUrl;request.linearAdSlotWidth=container.offsetWidth;request.linearAdSlotHeight=container.offsetHeight;request.nonLinearAdSlotWidth=container.offsetWidth;request.nonLinearAdSlotHeight=container.offsetHeight;request.forceNonLinearFullSlot=false;request.setAdWillPlayMuted(!this.player.muted);this.loader.requestAds(request);}catch(e){this.onAdError(e);}}},{key:'pollCountdown',value:function pollCountdown(){var _this5=this;var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!start){clearInterval(this.countdownTimer);this.elements.container.removeAttribute('data-badge-text');return;}
var update=function update(){var time=formatTime(Math.max(_this5.manager.getRemainingTime(),0));var label=i18n.get('advertisement',_this5.player.config)+' - '+time;_this5.elements.container.setAttribute('data-badge-text',label);};this.countdownTimer=setInterval(update,100);}},{key:'onAdsManagerLoaded',value:function onAdsManagerLoaded(event){var _this6=this;if(!this.enabled){return;}
var settings=new google.ima.AdsRenderingSettings();settings.restoreCustomPlaybackStateOnAdBreakComplete=true;settings.enablePreloading=true;this.manager=event.getAdsManager(this.player,settings);this.cuePoints=this.manager.getCuePoints();if(!is$1.empty(this.cuePoints)){this.cuePoints.forEach(function(cuePoint){if(cuePoint!==0&&cuePoint!==-1&&cuePoint<_this6.player.duration){var seekElement=_this6.player.elements.progress;if(is$1.element(seekElement)){var cuePercentage=100/_this6.player.duration*cuePoint;var cue=createElement('span',{class:_this6.player.config.classNames.cues});cue.style.left=cuePercentage.toString()+'%';seekElement.appendChild(cue);}}});}
this.manager.setVolume(this.player.volume);this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(error){return _this6.onAdError(error);});Object.keys(google.ima.AdEvent.Type).forEach(function(type){_this6.manager.addEventListener(google.ima.AdEvent.Type[type],function(event){return _this6.onAdEvent(event);});});this.trigger('loaded');}},{key:'onAdEvent',value:function onAdEvent(event){var _this7=this;var container=this.player.elements.container;var ad=event.getAd();var dispatchEvent=function dispatchEvent(type){var event='ads'+type.replace(/_/g,'').toLowerCase();triggerEvent.call(_this7.player,_this7.player.media,event);};switch(event.type){case google.ima.AdEvent.Type.LOADED:this.trigger('loaded');dispatchEvent(event.type);this.pollCountdown(true);if(!ad.isLinear()){ad.width=container.offsetWidth;ad.height=container.offsetHeight;}
break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:dispatchEvent(event.type);this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:dispatchEvent(event.type);this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:dispatchEvent(event.type);this.pollCountdown();this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:dispatchEvent(event.type);break;default:break;}}},{key:'onAdError',value:function onAdError(event){this.cancel();this.player.debug.warn('Ads error',event);}},{key:'listeners',value:function listeners(){var _this8=this;var container=this.player.elements.container;var time=void 0;this.player.on('ended',function(){_this8.loader.contentComplete();});this.player.on('seeking',function(){time=_this8.player.currentTime;return time;});this.player.on('seeked',function(){var seekedTime=_this8.player.currentTime;if(is$1.empty(_this8.cuePoints)){return;}
_this8.cuePoints.forEach(function(cuePoint,index){if(time<cuePoint&&cuePoint<seekedTime){_this8.manager.discardAdBreak();_this8.cuePoints.splice(index,1);}});});window.addEventListener('resize',function(){if(_this8.manager){_this8.manager.resize(container.offsetWidth,container.offsetHeight,google.ima.ViewMode.NORMAL);}});}},{key:'play',value:function play(){var _this9=this;var container=this.player.elements.container;if(!this.managerPromise){this.resumeContent();}
this.managerPromise.then(function(){_this9.elements.displayContainer.initialize();try{if(!_this9.initialized){_this9.manager.init(container.offsetWidth,container.offsetHeight,google.ima.ViewMode.NORMAL);_this9.manager.start();}
_this9.initialized=true;}catch(adError){_this9.onAdError(adError);}}).catch(function(){});}},{key:'resumeContent',value:function resumeContent(){this.elements.container.style.zIndex='';this.playing=false;if(this.player.currentTime<this.player.duration){this.player.play();}}},{key:'pauseContent',value:function pauseContent(){this.elements.container.style.zIndex=3;this.playing=true;this.player.pause();}},{key:'cancel',value:function cancel(){if(this.initialized){this.resumeContent();}
this.trigger('error');this.loadAds();}},{key:'loadAds',value:function loadAds(){var _this10=this;this.managerPromise.then(function(){if(_this10.manager){_this10.manager.destroy();}
_this10.managerPromise=new Promise(function(resolve){_this10.on('loaded',resolve);_this10.player.debug.log(_this10.manager);});_this10.requestAds();}).catch(function(){});}},{key:'trigger',value:function trigger(event){var _this11=this;for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
var handlers=this.events[event];if(is$1.array(handlers)){handlers.forEach(function(handler){if(is$1.function(handler)){handler.apply(_this11,args);}});}}},{key:'on',value:function on$$1(event,callback){if(!is$1.array(this.events[event])){this.events[event]=[];}
this.events[event].push(callback);return this;}},{key:'startSafetyTimer',value:function startSafetyTimer(time,from){var _this12=this;this.player.debug.log('Safety timer invoked from: '+from);this.safetyTimer=setTimeout(function(){_this12.cancel();_this12.clearSafetyTimer('startSafetyTimer()');},time);}},{key:'clearSafetyTimer',value:function clearSafetyTimer(from){if(!is$1.nullOrUndefined(this.safetyTimer)){this.player.debug.log('Safety timer cleared from: '+from);clearTimeout(this.safetyTimer);this.safetyTimer=null;}}},{key:'enabled',get:function get(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.ads.enabled&&!is$1.empty(this.publisherId);}},{key:'tagUrl',get:function get(){var params={AV_PUBLISHERID:'58c25bb0073ef448b1087ad6',AV_CHANNELID:'5a0458dc28a06145e4519d21',AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};var base='https://go.aniview.com/api/adserver6/vast/';return base+'?'+buildUrlParams(params);}}]);return Ads;}();var source={insertElements:function insertElements(type,attributes){var _this=this;if(is$1.string(attributes)){insertElement(type,this.media,{src:attributes});}else if(is$1.array(attributes)){attributes.forEach(function(attribute){insertElement(type,_this.media,attribute);});}},change:function change(input){var _this2=this;if(!getDeep(input,'sources.length')){this.debug.warn('Invalid source format');return;}
html5.cancelRequests.call(this);this.destroy.call(this,function(){_this2.options.quality=[];removeElement(_this2.media);_this2.media=null;if(is$1.element(_this2.elements.container)){_this2.elements.container.removeAttribute('class');}
var sources=input.sources,type=input.type;var _sources=slicedToArray(sources,1),_sources$=_sources[0],_sources$$provider=_sources$.provider,provider=_sources$$provider===undefined?providers.html5:_sources$$provider,src=_sources$.src;var tagName=provider==='html5'?type:'div';var attributes=provider==='html5'?{}:{src:src};Object.assign(_this2,{provider:provider,type:type,supported:support.check(type,provider,_this2.config.playsinline),media:createElement(tagName,attributes)});_this2.elements.container.appendChild(_this2.media);if(is$1.boolean(input.autoplay)){_this2.config.autoplay=input.autoplay;}
if(_this2.isHTML5){if(_this2.config.crossorigin){_this2.media.setAttribute('crossorigin','');}
if(_this2.config.autoplay){_this2.media.setAttribute('autoplay','');}
if(!is$1.empty(input.poster)){_this2.poster=input.poster;}
if(_this2.config.loop.active){_this2.media.setAttribute('loop','');}
if(_this2.config.muted){_this2.media.setAttribute('muted','');}
if(_this2.config.playsinline){_this2.media.setAttribute('playsinline','');}}
ui.addStyleHook.call(_this2);if(_this2.isHTML5){source.insertElements.call(_this2,'source',sources);}
_this2.config.title=input.title;media.setup.call(_this2);if(_this2.isHTML5){if('tracks'in input){source.insertElements.call(_this2,'track',input.tracks);}
_this2.media.load();}
if(_this2.isHTML5||_this2.isEmbed&&!_this2.supported.ui){ui.build.call(_this2);}
_this2.fullscreen.update();},true);}};var Plyr=function(){function Plyr(target,options){var _this=this;classCallCheck(this,Plyr);this.timers={};this.ready=false;this.loading=false;this.failed=false;this.touch=support.touch;this.media=target;if(is$1.string(this.media)){this.media=document.querySelectorAll(this.media);}
if(window.jQuery&&this.media instanceof jQuery||is$1.nodeList(this.media)||is$1.array(this.media)){this.media=this.media[0];}
this.config=extend({},defaults$1,Plyr.defaults,options||{},function(){try{return JSON.parse(_this.media.getAttribute('data-plyr-config'));}catch(e){return{};}}());this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}};this.captions={active:null,currentTrack:-1,meta:new WeakMap()};this.fullscreen={active:false};this.options={speed:[],quality:[]};this.debug=new Console(this.config.debug);this.debug.log('Config',this.config);this.debug.log('Support',support);if(is$1.nullOrUndefined(this.media)||!is$1.element(this.media)){this.debug.error('Setup failed: no suitable element passed');return;}
if(this.media.plyr){this.debug.warn('Target already setup');return;}
if(!this.config.enabled){this.debug.error('Setup failed: disabled by config');return;}
if(!support.check().api){this.debug.error('Setup failed: no support');return;}
var clone=this.media.cloneNode(true);clone.autoplay=false;this.elements.original=clone;var type=this.media.tagName.toLowerCase();var iframe=null;var url=null;switch(type){case'div':iframe=this.media.querySelector('iframe');if(is$1.element(iframe)){url=parseUrl(iframe.getAttribute('src'));this.provider=getProviderByUrl(url.toString());this.elements.container=this.media;this.media=iframe;this.elements.container.className='';if(url.search.length){var truthy=['1','true'];if(truthy.includes(url.searchParams.get('autoplay'))){this.config.autoplay=true;}
if(truthy.includes(url.searchParams.get('loop'))){this.config.loop.active=true;}
if(this.isYouTube){this.config.playsinline=truthy.includes(url.searchParams.get('playsinline'));this.config.hl=url.searchParams.get('hl');}else{this.config.playsinline=true;}}}else{this.provider=this.media.getAttribute(this.config.attributes.embed.provider);this.media.removeAttribute(this.config.attributes.embed.provider);}
if(is$1.empty(this.provider)||!Object.keys(providers).includes(this.provider)){this.debug.error('Setup failed: Invalid provider');return;}
this.type=types.video;break;case'video':case'audio':this.type=type;this.provider=providers.html5;if(this.media.hasAttribute('crossorigin')){this.config.crossorigin=true;}
if(this.media.hasAttribute('autoplay')){this.config.autoplay=true;}
if(this.media.hasAttribute('playsinline')||this.media.hasAttribute('webkit-playsinline')){this.config.playsinline=true;}
if(this.media.hasAttribute('muted')){this.config.muted=true;}
if(this.media.hasAttribute('loop')){this.config.loop.active=true;}
break;default:this.debug.error('Setup failed: unsupported type');return;}
this.supported=support.check(this.type,this.provider,this.config.playsinline);if(!this.supported.api){this.debug.error('Setup failed: no support');return;}
this.eventListeners=[];this.listeners=new Listeners(this);this.storage=new Storage(this);this.media.plyr=this;if(!is$1.element(this.elements.container)){this.elements.container=createElement('div');wrap$2(this.media,this.elements.container);}
ui.addStyleHook.call(this);media.setup.call(this);if(this.config.debug){on.call(this,this.elements.container,this.config.events.join(' '),function(event){_this.debug.log('event: '+event.type);});}
if(this.isHTML5||this.isEmbed&&!this.supported.ui){ui.build.call(this);}
this.listeners.container();this.listeners.global();this.fullscreen=new Fullscreen(this);if(this.config.ads.enabled){this.ads=new Ads(this);}
if(this.config.autoplay){this.play();}}
createClass(Plyr,[{key:'play',value:function play(){if(!is$1.function(this.media.play)){return null;}
return this.media.play();}},{key:'pause',value:function pause(){if(!this.playing||!is$1.function(this.media.pause)){return;}
this.media.pause();}},{key:'togglePlay',value:function togglePlay(input){var toggle=is$1.boolean(input)?input:!this.playing;if(toggle){this.play();}else{this.pause();}}},{key:'stop',value:function stop(){if(this.isHTML5){this.pause();this.restart();}else if(is$1.function(this.media.stop)){this.media.stop();}}},{key:'restart',value:function restart(){this.currentTime=0;}},{key:'rewind',value:function rewind(seekTime){this.currentTime=this.currentTime-(is$1.number(seekTime)?seekTime:this.config.seekTime);}},{key:'forward',value:function forward(seekTime){this.currentTime=this.currentTime+(is$1.number(seekTime)?seekTime:this.config.seekTime);}},{key:'increaseVolume',value:function increaseVolume(step){var volume=this.media.muted?0:this.volume;this.volume=volume+(is$1.number(step)?step:0);}},{key:'decreaseVolume',value:function decreaseVolume(step){this.increaseVolume(-step);}},{key:'toggleCaptions',value:function toggleCaptions(input){captions.toggle.call(this,input,false);}},{key:'airplay',value:function airplay(){if(support.airplay){this.media.webkitShowPlaybackTargetPicker();}}},{key:'toggleControls',value:function toggleControls(toggle){if(this.supported.ui&&!this.isAudio){var isHidden=hasClass(this.elements.container,this.config.classNames.hideControls);var force=typeof toggle==='undefined'?undefined:!toggle;var hiding=toggleClass(this.elements.container,this.config.classNames.hideControls,force);if(hiding&&this.config.controls.includes('settings')&&!is$1.empty(this.config.settings)){controls.toggleMenu.call(this,false);}
if(hiding!==isHidden){var eventName=hiding?'controlshidden':'controlsshown';triggerEvent.call(this,this.media,eventName);}
return!hiding;}
return false;}},{key:'on',value:function on$$1(event,callback){on.call(this,this.elements.container,event,callback);}},{key:'once',value:function once$$1(event,callback){once.call(this,this.elements.container,event,callback);}},{key:'off',value:function off$$1(event,callback){off(this.elements.container,event,callback);}},{key:'destroy',value:function destroy(callback){var _this2=this;var soft=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this.ready){return;}
var done=function done(){document.body.style.overflow='';_this2.embed=null;if(soft){if(Object.keys(_this2.elements).length){removeElement(_this2.elements.buttons.play);removeElement(_this2.elements.captions);removeElement(_this2.elements.controls);removeElement(_this2.elements.wrapper);_this2.elements.buttons.play=null;_this2.elements.captions=null;_this2.elements.controls=null;_this2.elements.wrapper=null;}
if(is$1.function(callback)){callback();}}else{unbindListeners.call(_this2);replaceElement(_this2.elements.original,_this2.elements.container);triggerEvent.call(_this2,_this2.elements.original,'destroyed',true);if(is$1.function(callback)){callback.call(_this2.elements.original);}
_this2.ready=false;setTimeout(function(){_this2.elements=null;_this2.media=null;},200);}};this.stop();if(this.isHTML5){clearTimeout(this.timers.loading);ui.toggleNativeControls.call(this,true);done();}else if(this.isYouTube){clearInterval(this.timers.buffering);clearInterval(this.timers.playing);if(this.embed!==null&&is$1.function(this.embed.destroy)){this.embed.destroy();}
done();}else if(this.isVimeo){if(this.embed!==null){this.embed.unload().then(done);}
setTimeout(done,200);}}},{key:'supports',value:function supports(type){return support.mime.call(this,type);}},{key:'isHTML5',get:function get(){return Boolean(this.provider===providers.html5);}},{key:'isEmbed',get:function get(){return Boolean(this.isYouTube||this.isVimeo);}},{key:'isYouTube',get:function get(){return Boolean(this.provider===providers.youtube);}},{key:'isVimeo',get:function get(){return Boolean(this.provider===providers.vimeo);}},{key:'isVideo',get:function get(){return Boolean(this.type===types.video);}},{key:'isAudio',get:function get(){return Boolean(this.type===types.audio);}},{key:'playing',get:function get(){return Boolean(this.ready&&!this.paused&&!this.ended);}},{key:'paused',get:function get(){return Boolean(this.media.paused);}},{key:'stopped',get:function get(){return Boolean(this.paused&&this.currentTime===0);}},{key:'ended',get:function get(){return Boolean(this.media.ended);}},{key:'currentTime',set:function set(input){if(!this.duration){return;}
var inputIsValid=is$1.number(input)&&input>0;this.media.currentTime=inputIsValid?Math.min(input,this.duration):0;this.debug.log('Seeking to '+this.currentTime+' seconds');},get:function get(){return Number(this.media.currentTime);}},{key:'buffered',get:function get(){var buffered=this.media.buffered;if(is$1.number(buffered)){return buffered;}
if(buffered&&buffered.length&&this.duration>0){return buffered.end(0)/this.duration;}
return 0;}},{key:'seeking',get:function get(){return Boolean(this.media.seeking);}},{key:'duration',get:function get(){var fauxDuration=parseFloat(this.config.duration);var realDuration=(this.media||{}).duration;var duration=!is$1.number(realDuration)||realDuration===Infinity?0:realDuration;return fauxDuration||duration;}},{key:'volume',set:function set(value){var volume=value;var max=1;var min=0;if(is$1.string(volume)){volume=Number(volume);}
if(!is$1.number(volume)){volume=this.storage.get('volume');}
if(!is$1.number(volume)){volume=this.config.volume;}
if(volume>max){volume=max;}
if(volume<min){volume=min;}
this.config.volume=volume;this.media.volume=volume;if(!is$1.empty(value)&&this.muted&&volume>0){this.muted=false;}},get:function get(){return Number(this.media.volume);}},{key:'muted',set:function set(mute){var toggle=mute;if(!is$1.boolean(toggle)){toggle=this.storage.get('muted');}
if(!is$1.boolean(toggle)){toggle=this.config.muted;}
this.config.muted=toggle;this.media.muted=toggle;},get:function get(){return Boolean(this.media.muted);}},{key:'hasAudio',get:function get(){if(!this.isHTML5){return true;}
if(this.isAudio){return true;}
return Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length);}},{key:'speed',set:function set(input){var speed=null;if(is$1.number(input)){speed=input;}
if(!is$1.number(speed)){speed=this.storage.get('speed');}
if(!is$1.number(speed)){speed=this.config.speed.selected;}
if(speed<0.1){speed=0.1;}
if(speed>2.0){speed=2.0;}
if(!this.config.speed.options.includes(speed)){this.debug.warn('Unsupported speed ('+speed+')');return;}
this.config.speed.selected=speed;this.media.playbackRate=speed;},get:function get(){return Number(this.media.playbackRate);}},{key:'quality',set:function set(input){var config=this.config.quality;var options=this.options.quality;if(!options.length){return;}
var quality=[!is$1.empty(input)&&Number(input),this.storage.get('quality'),config.selected,config.default].find(is$1.number);if(!options.includes(quality)){var value=closest(options,quality);this.debug.warn('Unsupported quality option: '+quality+', using '+value+' instead');quality=value;}
config.selected=quality;this.media.quality=quality;},get:function get(){return this.media.quality;}},{key:'loop',set:function set(input){var toggle=is$1.boolean(input)?input:this.config.loop.active;this.config.loop.active=toggle;this.media.loop=toggle;},get:function get(){return Boolean(this.media.loop);}},{key:'source',set:function set(input){source.change.call(this,input);},get:function get(){return this.media.currentSrc;}},{key:'poster',set:function set(input){if(!this.isVideo){this.debug.warn('Poster can only be set for video');return;}
ui.setPoster.call(this,input,false).catch(function(){});},get:function get(){if(!this.isVideo){return null;}
return this.media.getAttribute('poster');}},{key:'autoplay',set:function set(input){var toggle=is$1.boolean(input)?input:this.config.autoplay;this.config.autoplay=toggle;},get:function get(){return Boolean(this.config.autoplay);}},{key:'currentTrack',set:function set(input){captions.set.call(this,input,false);},get:function get(){var _captions=this.captions,toggled=_captions.toggled,currentTrack=_captions.currentTrack;return toggled?currentTrack:-1;}},{key:'language',set:function set(input){captions.setLanguage.call(this,input,false);},get:function get(){return(captions.getCurrentTrack.call(this)||{}).language;}},{key:'pip',set:function set(input){var states={pip:'picture-in-picture',inline:'inline'};if(!support.pip){return;}
var toggle=is$1.boolean(input)?input:this.pip===states.inline;this.media.webkitSetPresentationMode(toggle?states.pip:states.inline);},get:function get(){if(!support.pip){return null;}
return this.media.webkitPresentationMode;}}],[{key:'supported',value:function supported(type,provider,inline){return support.check(type,provider,inline);}},{key:'loadSprite',value:function loadSprite$$1(url,id){return loadSprite(url,id);}},{key:'setup',value:function setup(selector){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var targets=null;if(is$1.string(selector)){targets=Array.from(document.querySelectorAll(selector));}else if(is$1.nodeList(selector)){targets=Array.from(selector);}else if(is$1.array(selector)){targets=selector.filter(is$1.element);}
if(is$1.empty(targets)){return null;}
return targets.map(function(t){return new Plyr(t,options);});}}]);return Plyr;}();Plyr.defaults=cloneDeep(defaults$1);return Plyr;})));
/*!
Waypoints - 4.0.1
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
(function(){'use strict'
var keyCounter=0
var allWaypoints={}
function Waypoint(options){if(!options){throw new Error('No options passed to Waypoint constructor')}
if(!options.element){throw new Error('No element option passed to Waypoint constructor')}
if(!options.handler){throw new Error('No handler option passed to Waypoint constructor')}
this.key='waypoint-'+keyCounter
this.options=Waypoint.Adapter.extend({},Waypoint.defaults,options)
this.element=this.options.element
this.adapter=new Waypoint.Adapter(this.element)
this.callback=options.handler
this.axis=this.options.horizontal?'horizontal':'vertical'
this.enabled=this.options.enabled
this.triggerPoint=null
this.group=Waypoint.Group.findOrCreate({name:this.options.group,axis:this.axis})
this.context=Waypoint.Context.findOrCreateByElement(this.options.context)
if(Waypoint.offsetAliases[this.options.offset]){this.options.offset=Waypoint.offsetAliases[this.options.offset]}
this.group.add(this)
this.context.add(this)
allWaypoints[this.key]=this
keyCounter+=1}
Waypoint.prototype.queueTrigger=function(direction){this.group.queueTrigger(this,direction)}
Waypoint.prototype.trigger=function(args){if(!this.enabled){return}
if(this.callback){this.callback.apply(this,args)}}
Waypoint.prototype.destroy=function(){this.context.remove(this)
this.group.remove(this)
delete allWaypoints[this.key]}
Waypoint.prototype.disable=function(){this.enabled=false
return this}
Waypoint.prototype.enable=function(){this.context.refresh()
this.enabled=true
return this}
Waypoint.prototype.next=function(){return this.group.next(this)}
Waypoint.prototype.previous=function(){return this.group.previous(this)}
Waypoint.invokeAll=function(method){var allWaypointsArray=[]
for(var waypointKey in allWaypoints){allWaypointsArray.push(allWaypoints[waypointKey])}
for(var i=0,end=allWaypointsArray.length;i<end;i++){allWaypointsArray[i][method]()}}
Waypoint.destroyAll=function(){Waypoint.invokeAll('destroy')}
Waypoint.disableAll=function(){Waypoint.invokeAll('disable')}
Waypoint.enableAll=function(){Waypoint.Context.refreshAll()
for(var waypointKey in allWaypoints){allWaypoints[waypointKey].enabled=true}
return this}
Waypoint.refreshAll=function(){Waypoint.Context.refreshAll()}
Waypoint.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight}
Waypoint.viewportWidth=function(){return document.documentElement.clientWidth}
Waypoint.adapters=[]
Waypoint.defaults={context:window,continuous:true,enabled:true,group:'default',horizontal:false,offset:0}
Waypoint.offsetAliases={'bottom-in-view':function(){return this.context.innerHeight()-this.adapter.outerHeight()},'right-in-view':function(){return this.context.innerWidth()-this.adapter.outerWidth()}}
window.Waypoint=Waypoint}());(function(){'use strict'
function requestAnimationFrameShim(callback){window.setTimeout(callback,1000/60)}
var keyCounter=0
var contexts={}
var Waypoint=window.Waypoint
var oldWindowLoad=window.onload
function Context(element){this.element=element
this.Adapter=Waypoint.Adapter
this.adapter=new this.Adapter(element)
this.key='waypoint-context-'+keyCounter
this.didScroll=false
this.didResize=false
this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()}
this.waypoints={vertical:{},horizontal:{}}
element.waypointContextKey=this.key
contexts[element.waypointContextKey]=this
keyCounter+=1
if(!Waypoint.windowContext){Waypoint.windowContext=true
Waypoint.windowContext=new Context(window)}
this.createThrottledScrollHandler()
this.createThrottledResizeHandler()}
Context.prototype.add=function(waypoint){var axis=waypoint.options.horizontal?'horizontal':'vertical'
this.waypoints[axis][waypoint.key]=waypoint
this.refresh()}
Context.prototype.checkEmpty=function(){var horizontalEmpty=this.Adapter.isEmptyObject(this.waypoints.horizontal)
var verticalEmpty=this.Adapter.isEmptyObject(this.waypoints.vertical)
var isWindow=this.element==this.element.window
if(horizontalEmpty&&verticalEmpty&&!isWindow){this.adapter.off('.waypoints')
delete contexts[this.key]}}
Context.prototype.createThrottledResizeHandler=function(){var self=this
function resizeHandler(){self.handleResize()
self.didResize=false}
this.adapter.on('resize.waypoints',function(){if(!self.didResize){self.didResize=true
Waypoint.requestAnimationFrame(resizeHandler)}})}
Context.prototype.createThrottledScrollHandler=function(){var self=this
function scrollHandler(){self.handleScroll()
self.didScroll=false}
this.adapter.on('scroll.waypoints',function(){if(!self.didScroll||Waypoint.isTouch){self.didScroll=true
Waypoint.requestAnimationFrame(scrollHandler)}})}
Context.prototype.handleResize=function(){Waypoint.Context.refreshAll()}
Context.prototype.handleScroll=function(){var triggeredGroups={}
var axes={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:'right',backward:'left'},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:'down',backward:'up'}}
for(var axisKey in axes){var axis=axes[axisKey]
var isForward=axis.newScroll>axis.oldScroll
var direction=isForward?axis.forward:axis.backward
for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey]
if(waypoint.triggerPoint===null){continue}
var wasBeforeTriggerPoint=axis.oldScroll<waypoint.triggerPoint
var nowAfterTriggerPoint=axis.newScroll>=waypoint.triggerPoint
var crossedForward=wasBeforeTriggerPoint&&nowAfterTriggerPoint
var crossedBackward=!wasBeforeTriggerPoint&&!nowAfterTriggerPoint
if(crossedForward||crossedBackward){waypoint.queueTrigger(direction)
triggeredGroups[waypoint.group.id]=waypoint.group}}}
for(var groupKey in triggeredGroups){triggeredGroups[groupKey].flushTriggers()}
this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}}
Context.prototype.innerHeight=function(){if(this.element==this.element.window){return Waypoint.viewportHeight()}
return this.adapter.innerHeight()}
Context.prototype.remove=function(waypoint){delete this.waypoints[waypoint.axis][waypoint.key]
this.checkEmpty()}
Context.prototype.innerWidth=function(){if(this.element==this.element.window){return Waypoint.viewportWidth()}
return this.adapter.innerWidth()}
Context.prototype.destroy=function(){var allWaypoints=[]
for(var axis in this.waypoints){for(var waypointKey in this.waypoints[axis]){allWaypoints.push(this.waypoints[axis][waypointKey])}}
for(var i=0,end=allWaypoints.length;i<end;i++){allWaypoints[i].destroy()}}
Context.prototype.refresh=function(){var isWindow=this.element==this.element.window
var contextOffset=isWindow?undefined:this.adapter.offset()
var triggeredGroups={}
var axes
this.handleScroll()
axes={horizontal:{contextOffset:isWindow?0:contextOffset.left,contextScroll:isWindow?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:'right',backward:'left',offsetProp:'left'},vertical:{contextOffset:isWindow?0:contextOffset.top,contextScroll:isWindow?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:'down',backward:'up',offsetProp:'top'}}
for(var axisKey in axes){var axis=axes[axisKey]
for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey]
var adjustment=waypoint.options.offset
var oldTriggerPoint=waypoint.triggerPoint
var elementOffset=0
var freshWaypoint=oldTriggerPoint==null
var contextModifier,wasBeforeScroll,nowAfterScroll
var triggeredBackward,triggeredForward
if(waypoint.element!==waypoint.element.window){elementOffset=waypoint.adapter.offset()[axis.offsetProp]}
if(typeof adjustment==='function'){adjustment=adjustment.apply(waypoint)}
else if(typeof adjustment==='string'){adjustment=parseFloat(adjustment)
if(waypoint.options.offset.indexOf('%')>-1){adjustment=Math.ceil(axis.contextDimension*adjustment/100)}}
contextModifier=axis.contextScroll-axis.contextOffset
waypoint.triggerPoint=Math.floor(elementOffset+contextModifier-adjustment)
wasBeforeScroll=oldTriggerPoint<axis.oldScroll
nowAfterScroll=waypoint.triggerPoint>=axis.oldScroll
triggeredBackward=wasBeforeScroll&&nowAfterScroll
triggeredForward=!wasBeforeScroll&&!nowAfterScroll
if(!freshWaypoint&&triggeredBackward){waypoint.queueTrigger(axis.backward)
triggeredGroups[waypoint.group.id]=waypoint.group}
else if(!freshWaypoint&&triggeredForward){waypoint.queueTrigger(axis.forward)
triggeredGroups[waypoint.group.id]=waypoint.group}
else if(freshWaypoint&&axis.oldScroll>=waypoint.triggerPoint){waypoint.queueTrigger(axis.forward)
triggeredGroups[waypoint.group.id]=waypoint.group}}}
Waypoint.requestAnimationFrame(function(){for(var groupKey in triggeredGroups){triggeredGroups[groupKey].flushTriggers()}})
return this}
Context.findOrCreateByElement=function(element){return Context.findByElement(element)||new Context(element)}
Context.refreshAll=function(){for(var contextId in contexts){contexts[contextId].refresh()}}
Context.findByElement=function(element){return contexts[element.waypointContextKey]}
window.onload=function(){if(oldWindowLoad){oldWindowLoad()}
Context.refreshAll()}
Waypoint.requestAnimationFrame=function(callback){var requestFn=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||requestAnimationFrameShim
requestFn.call(window,callback)}
Waypoint.Context=Context}());(function(){'use strict'
function byTriggerPoint(a,b){return a.triggerPoint-b.triggerPoint}
function byReverseTriggerPoint(a,b){return b.triggerPoint-a.triggerPoint}
var groups={vertical:{},horizontal:{}}
var Waypoint=window.Waypoint
function Group(options){this.name=options.name
this.axis=options.axis
this.id=this.name+'-'+this.axis
this.waypoints=[]
this.clearTriggerQueues()
groups[this.axis][this.name]=this}
Group.prototype.add=function(waypoint){this.waypoints.push(waypoint)}
Group.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}}
Group.prototype.flushTriggers=function(){for(var direction in this.triggerQueues){var waypoints=this.triggerQueues[direction]
var reverse=direction==='up'||direction==='left'
waypoints.sort(reverse?byReverseTriggerPoint:byTriggerPoint)
for(var i=0,end=waypoints.length;i<end;i+=1){var waypoint=waypoints[i]
if(waypoint.options.continuous||i===waypoints.length-1){waypoint.trigger([direction])}}}
this.clearTriggerQueues()}
Group.prototype.next=function(waypoint){this.waypoints.sort(byTriggerPoint)
var index=Waypoint.Adapter.inArray(waypoint,this.waypoints)
var isLast=index===this.waypoints.length-1
return isLast?null:this.waypoints[index+1]}
Group.prototype.previous=function(waypoint){this.waypoints.sort(byTriggerPoint)
var index=Waypoint.Adapter.inArray(waypoint,this.waypoints)
return index?this.waypoints[index-1]:null}
Group.prototype.queueTrigger=function(waypoint,direction){this.triggerQueues[direction].push(waypoint)}
Group.prototype.remove=function(waypoint){var index=Waypoint.Adapter.inArray(waypoint,this.waypoints)
if(index>-1){this.waypoints.splice(index,1)}}
Group.prototype.first=function(){return this.waypoints[0]}
Group.prototype.last=function(){return this.waypoints[this.waypoints.length-1]}
Group.findOrCreate=function(options){return groups[options.axis][options.name]||new Group(options)}
Waypoint.Group=Group}());(function(){'use strict'
var $=window.jQuery
var Waypoint=window.Waypoint
function JQueryAdapter(element){this.$element=$(element)}
$.each(['innerHeight','innerWidth','off','offset','on','outerHeight','outerWidth','scrollLeft','scrollTop'],function(i,method){JQueryAdapter.prototype[method]=function(){var args=Array.prototype.slice.call(arguments)
return this.$element[method].apply(this.$element,args)}})
$.each(['extend','inArray','isEmptyObject'],function(i,method){JQueryAdapter[method]=$[method]})
Waypoint.adapters.push({name:'jquery',Adapter:JQueryAdapter})
Waypoint.Adapter=JQueryAdapter}());(function(){'use strict'
var Waypoint=window.Waypoint
function createExtension(framework){return function(){var waypoints=[]
var overrides=arguments[0]
if(framework.isFunction(arguments[0])){overrides=framework.extend({},arguments[1])
overrides.handler=arguments[0]}
this.each(function(){var options=framework.extend({},overrides,{element:this})
if(typeof options.context==='string'){options.context=framework(this).closest(options.context)[0]}
waypoints.push(new Waypoint(options))})
return waypoints}}
if(window.jQuery){window.jQuery.fn.waypoint=createExtension(window.jQuery)}
if(window.Zepto){window.Zepto.fn.waypoint=createExtension(window.Zepto)}}());
(function($){'use strict';$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(event){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){event.preventDefault();$('html, body').animate({scrollTop:target.offset().top-185},1000,function(){});}}});$('.sub-menu').each(function(){$(this).prepend('<li class="menu__item menu__item--back">Back</li>');});$('.menu__item--back').on('click',function(e){e.preventDefault();$(this).closest('.is-active').removeClass('is-active');$(this).parents('nav').removeClass('is-active');$('.sub-menu > .menu__item').hide();$('body').removeClass('sub-nav-is-active');});$('.sub-menu > .menu__item').hide();$('.menu__item--has-children > a').on('click',function(e){e.preventDefault();$('.c-nav-primary').addClass('is-active');var parent=$(this).parent(),menu=$(this).closest('ul');menu.find('.menu__item').removeClass('is-active');parent.addClass('is-active');$('body').addClass('sub-nav-is-active');$('.sub-menu > .menu__item').show();$(".menu__item:not(.is-active) > .sub-menu > .menu__item").hide();});$('.c-hero__subheading').each(function(){$(this).html($(this).text().replace(/([^\x80-\xFF]|\w)/g,"<span class='c-hero__heading-letter'>$&</span>"));});anime.timeline().add({targets:'.c-hero__heading-letter',translateX:[40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:1200,autoplay:false,delay:function(el,i){return 1500+40*i;}});if($('html').is(':lang(fr)')){$('.c-booking-bar--arrive .c-booking-bar__date').attr('placeholder','Date dâ€™arrivÃ©e');$('.c-booking-bar--depart .c-booking-bar__date').attr('placeholder','Date de dÃ©part');}})(jQuery);
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
module.exports=factory(require("jquery"));else if(typeof define==='function'&&define.amd)
define(["jquery"],factory);else if(typeof exports==='object')
exports["foundation.core"]=factory(require("jquery"));else
root["__FOUNDATION_EXTERNAL__"]=root["__FOUNDATION_EXTERNAL__"]||{},root["__FOUNDATION_EXTERNAL__"]["foundation.core"]=factory(root["jQuery"]);})(window,function(__WEBPACK_EXTERNAL_MODULE_jquery__){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0);})
({"./js/entries/plugins/foundation.core.js":
/*!***********************************************!*\
  !*** ./js/entries/plugins/foundation.core.js ***!
  \***********************************************/
/*! exports provided: Foundation, Plugin, rtl, GetYoDigits, RegExpEscape, transitionend, onLoad, ignoreMousedisappear */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);var _foundation_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! ../../foundation.core */
"./js/foundation.core.js");__webpack_require__.d(__webpack_exports__,"Foundation",function(){return _foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"];});var _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(
/*! ../../foundation.core.plugin */
"./js/foundation.core.plugin.js");var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(
/*! ../../foundation.core.utils */
"./js/foundation.core.utils.js");__webpack_require__.d(__webpack_exports__,"Plugin",function(){return _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_2__["Plugin"];});__webpack_require__.d(__webpack_exports__,"rtl",function(){return _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["rtl"];});__webpack_require__.d(__webpack_exports__,"GetYoDigits",function(){return _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["GetYoDigits"];});__webpack_require__.d(__webpack_exports__,"RegExpEscape",function(){return _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["RegExpEscape"];});__webpack_require__.d(__webpack_exports__,"transitionend",function(){return _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["transitionend"];});__webpack_require__.d(__webpack_exports__,"onLoad",function(){return _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["onLoad"];});__webpack_require__.d(__webpack_exports__,"ignoreMousedisappear",function(){return _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["ignoreMousedisappear"];});_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].addToJquery(jquery__WEBPACK_IMPORTED_MODULE_0___default.a);_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].Plugin=_foundation_core_plugin__WEBPACK_IMPORTED_MODULE_2__["Plugin"];_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].rtl=_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["rtl"];_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].GetYoDigits=_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["GetYoDigits"];_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].transitionend=_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["transitionend"];_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].RegExpEscape=_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["RegExpEscape"];_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"].onLoad=_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["onLoad"];window.Foundation=_foundation_core__WEBPACK_IMPORTED_MODULE_1__["Foundation"];}),"./js/foundation.core.js":
/*!*******************************!*\
  !*** ./js/foundation.core.js ***!
  \*******************************/
/*! exports provided: Foundation */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Foundation",function(){return Foundation;});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! ./foundation.core.utils */
"./js/foundation.core.utils.js");var _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(
/*! ./foundation.util.mediaQuery */
"./js/foundation.util.mediaQuery.js");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var FOUNDATION_VERSION='6.5.1';var Foundation={version:FOUNDATION_VERSION,_plugins:{},_uuids:[],plugin:function plugin(_plugin,name){var className=name||functionName(_plugin);var attrName=hyphenate(className);this._plugins[attrName]=this[className]=_plugin;},registerPlugin:function registerPlugin(plugin,name){var pluginName=name?hyphenate(name):functionName(plugin.constructor).toLowerCase();plugin.uuid=Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__["GetYoDigits"])(6,pluginName);if(!plugin.$element.attr("data-".concat(pluginName))){plugin.$element.attr("data-".concat(pluginName),plugin.uuid);}
if(!plugin.$element.data('zfPlugin')){plugin.$element.data('zfPlugin',plugin);}
plugin.$element.trigger("init.zf.".concat(pluginName));this._uuids.push(plugin.uuid);return;},unregisterPlugin:function unregisterPlugin(plugin){var pluginName=hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));this._uuids.splice(this._uuids.indexOf(plugin.uuid),1);plugin.$element.removeAttr("data-".concat(pluginName)).removeData('zfPlugin').trigger("destroyed.zf.".concat(pluginName));for(var prop in plugin){plugin[prop]=null;}
return;},reInit:function reInit(plugins){var isJQ=plugins instanceof jquery__WEBPACK_IMPORTED_MODULE_0___default.a;try{if(isJQ){plugins.each(function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('zfPlugin')._init();});}else{var type=_typeof(plugins),_this=this,fns={'object':function object(plgs){plgs.forEach(function(p){p=hyphenate(p);jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-'+p+']').foundation('_init');});},'string':function string(){plugins=hyphenate(plugins);jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-'+plugins+']').foundation('_init');},'undefined':function undefined(){this['object'](Object.keys(_this._plugins));}};fns[type](plugins);}}catch(err){console.error(err);}finally{return plugins;}},reflow:function reflow(elem,plugins){if(typeof plugins==='undefined'){plugins=Object.keys(this._plugins);}
else if(typeof plugins==='string'){plugins=[plugins];}
var _this=this;jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(plugins,function(i,name){var plugin=_this._plugins[name];var $elem=jquery__WEBPACK_IMPORTED_MODULE_0___default()(elem).find('[data-'+name+']').addBack('[data-'+name+']');$elem.each(function(){var $el=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),opts={};if($el.data('zfPlugin')){console.warn("Tried to initialize "+name+" on an element that already has a Foundation plugin.");return;}
if($el.attr('data-options')){var thing=$el.attr('data-options').split(';').forEach(function(e,i){var opt=e.split(':').map(function(el){return el.trim();});if(opt[0])opts[opt[0]]=parseValue(opt[1]);});}
try{$el.data('zfPlugin',new plugin(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),opts));}catch(er){console.error(er);}finally{return;}});});},getFnName:functionName,addToJquery:function addToJquery($){var foundation=function foundation(method){var type=_typeof(method),$noJS=$('.no-js');if($noJS.length){$noJS.removeClass('no-js');}
if(type==='undefined'){_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_2__["MediaQuery"]._init();Foundation.reflow(this);}else if(type==='string'){var args=Array.prototype.slice.call(arguments,1);var plugClass=this.data('zfPlugin');if(typeof plugClass!=='undefined'&&typeof plugClass[method]!=='undefined'){if(this.length===1){plugClass[method].apply(plugClass,args);}else{this.each(function(i,el){plugClass[method].apply($(el).data('zfPlugin'),args);});}}else{throw new ReferenceError("We're sorry, '"+method+"' is not an available method for "+(plugClass?functionName(plugClass):'this element')+'.');}}else{throw new TypeError("We're sorry, ".concat(type," is not a valid parameter. You must use a string representing the method you wish to invoke."));}
return this;};$.fn.foundation=foundation;return $;}};Foundation.util={throttle:function throttle(func,delay){var timer=null;return function(){var context=this,args=arguments;if(timer===null){timer=setTimeout(function(){func.apply(context,args);timer=null;},delay);}};}};window.Foundation=Foundation;(function(){if(!Date.now||!window.Date.now)window.Date.now=Date.now=function(){return new Date().getTime();};var vendors=['webkit','moz'];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vp+'CancelAnimationFrame']||window[vp+'CancelRequestAnimationFrame'];}
if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime);},nextTime-now);};window.cancelAnimationFrame=clearTimeout;}
if(!window.performance||!window.performance.now){window.performance={start:Date.now(),now:function now(){return Date.now()-this.start;}};}})();if(!Function.prototype.bind){Function.prototype.bind=function(oThis){if(typeof this!=='function'){throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');}
var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function fNOP(){},fBound=function fBound(){return fToBind.apply(this instanceof fNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)));};if(this.prototype){fNOP.prototype=this.prototype;}
fBound.prototype=new fNOP();return fBound;};}
function functionName(fn){if(typeof Function.prototype.name==='undefined'){var funcNameRegex=/function\s([^(]{1,})\(/;var results=funcNameRegex.exec(fn.toString());return results&&results.length>1?results[1].trim():"";}else if(typeof fn.prototype==='undefined'){return fn.constructor.name;}else{return fn.prototype.constructor.name;}}
function parseValue(str){if('true'===str)return true;else if('false'===str)return false;else if(!isNaN(str*1))return parseFloat(str);return str;}
function hyphenate(str){return str.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase();}}),"./js/foundation.core.plugin.js":
/*!**************************************!*\
  !*** ./js/foundation.core.plugin.js ***!
  \**************************************/
/*! exports provided: Plugin */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Plugin",function(){return Plugin;});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! ./foundation.core.utils */
"./js/foundation.core.utils.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var Plugin=function(){function Plugin(element,options){_classCallCheck(this,Plugin);this._setup(element,options);var pluginName=getPluginName(this);this.uuid=Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__["GetYoDigits"])(6,pluginName);if(!this.$element.attr("data-".concat(pluginName))){this.$element.attr("data-".concat(pluginName),this.uuid);}
if(!this.$element.data('zfPlugin')){this.$element.data('zfPlugin',this);}
this.$element.trigger("init.zf.".concat(pluginName));}
_createClass(Plugin,[{key:"destroy",value:function destroy(){this._destroy();var pluginName=getPluginName(this);this.$element.removeAttr("data-".concat(pluginName)).removeData('zfPlugin').trigger("destroyed.zf.".concat(pluginName));for(var prop in this){this[prop]=null;}}}]);return Plugin;}();function hyphenate(str){return str.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase();}
function getPluginName(obj){if(typeof obj.constructor.name!=='undefined'){return hyphenate(obj.constructor.name);}else{return hyphenate(obj.className);}}}),"./js/foundation.core.utils.js":
/*!*************************************!*\
  !*** ./js/foundation.core.utils.js ***!
  \*************************************/
/*! exports provided: rtl, GetYoDigits, RegExpEscape, transitionend, onLoad, ignoreMousedisappear */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"rtl",function(){return rtl;});__webpack_require__.d(__webpack_exports__,"GetYoDigits",function(){return GetYoDigits;});__webpack_require__.d(__webpack_exports__,"RegExpEscape",function(){return RegExpEscape;});__webpack_require__.d(__webpack_exports__,"transitionend",function(){return transitionend;});__webpack_require__.d(__webpack_exports__,"onLoad",function(){return onLoad;});__webpack_require__.d(__webpack_exports__,"ignoreMousedisappear",function(){return ignoreMousedisappear;});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);function rtl(){return jquery__WEBPACK_IMPORTED_MODULE_0___default()('html').attr('dir')==='rtl';}
function GetYoDigits(length,namespace){length=length||6;return Math.round(Math.pow(36,length+1)-Math.random()*Math.pow(36,length)).toString(36).slice(1)+(namespace?"-".concat(namespace):'');}
function RegExpEscape(str){return str.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,'\\$&');}
function transitionend($elem){var transitions={'transition':'transitionend','WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'otransitionend'};var elem=document.createElement('div'),end;for(var t in transitions){if(typeof elem.style[t]!=='undefined'){end=transitions[t];}}
if(end){return end;}else{end=setTimeout(function(){$elem.triggerHandler('transitionend',[$elem]);},1);return'transitionend';}}
function onLoad($elem,handler){var didLoad=document.readyState==='complete';var eventType=(didLoad?'_didLoad':'load')+'.zf.util.onLoad';var cb=function cb(){return $elem.triggerHandler(eventType);};if($elem){if(handler)$elem.one(eventType,handler);if(didLoad)setTimeout(cb);else jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).one('load',cb);}
return eventType;}
function ignoreMousedisappear(handler){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$ignoreLeaveWindo=_ref.ignoreLeaveWindow,ignoreLeaveWindow=_ref$ignoreLeaveWindo===void 0?false:_ref$ignoreLeaveWindo,_ref$ignoreReappear=_ref.ignoreReappear,ignoreReappear=_ref$ignoreReappear===void 0?false:_ref$ignoreReappear;return function leaveEventHandler(eLeave){for(var _len=arguments.length,rest=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){rest[_key-1]=arguments[_key];}
var callback=handler.bind.apply(handler,[this,eLeave].concat(rest));if(eLeave.relatedTarget!==null){return callback();}
setTimeout(function leaveEventDebouncer(){if(!ignoreLeaveWindow&&document.hasFocus&&!document.hasFocus()){return callback();}
if(!ignoreReappear){jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).one('mouseenter',function reenterEventHandler(eReenter){if(!jquery__WEBPACK_IMPORTED_MODULE_0___default()(eLeave.currentTarget).has(eReenter.target).length){eLeave.relatedTarget=eReenter.target;callback();}});}},0);};}}),"./js/foundation.util.mediaQuery.js":
/*!******************************************!*\
  !*** ./js/foundation.util.mediaQuery.js ***!
  \******************************************/
/*! exports provided: MediaQuery */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"MediaQuery",function(){return MediaQuery;});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var defaultQueries={'default':'only screen',landscape:'only screen and (orientation: landscape)',portrait:'only screen and (orientation: portrait)',retina:'only screen and (-webkit-min-device-pixel-ratio: 2),'+'only screen and (min--moz-device-pixel-ratio: 2),'+'only screen and (-o-min-device-pixel-ratio: 2/1),'+'only screen and (min-device-pixel-ratio: 2),'+'only screen and (min-resolution: 192dpi),'+'only screen and (min-resolution: 2dppx)'};window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';if(!script){document.head.appendChild(style);}else{script.parentNode.insertBefore(style,script);}
info='getComputedStyle'in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function matchMedium(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}
return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());var MediaQuery={queries:[],current:'',_init:function _init(){var self=this;var $meta=jquery__WEBPACK_IMPORTED_MODULE_0___default()('meta.foundation-mq');if(!$meta.length){jquery__WEBPACK_IMPORTED_MODULE_0___default()('<meta class="foundation-mq">').appendTo(document.head);}
var extractedStyles=jquery__WEBPACK_IMPORTED_MODULE_0___default()('.foundation-mq').css('font-family');var namedQueries;namedQueries=parseStyleToObject(extractedStyles);for(var key in namedQueries){if(namedQueries.hasOwnProperty(key)){self.queries.push({name:key,value:"only screen and (min-width: ".concat(namedQueries[key],")")});}}
this.current=this._getCurrentSize();this._watcher();},atLeast:function atLeast(size){var query=this.get(size);if(query){return window.matchMedia(query).matches;}
return false;},is:function is(size){size=size.trim().split(' ');if(size.length>1&&size[1]==='only'){if(size[0]===this._getCurrentSize())return true;}else{return this.atLeast(size[0]);}
return false;},get:function get(size){for(var i in this.queries){if(this.queries.hasOwnProperty(i)){var query=this.queries[i];if(size===query.name)return query.value;}}
return null;},_getCurrentSize:function _getCurrentSize(){var matched;for(var i=0;i<this.queries.length;i++){var query=this.queries[i];if(window.matchMedia(query.value).matches){matched=query;}}
if(_typeof(matched)==='object'){return matched.name;}else{return matched;}},_watcher:function _watcher(){var _this=this;jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off('resize.zf.mediaquery').on('resize.zf.mediaquery',function(){var newSize=_this._getCurrentSize(),currentSize=_this.current;if(newSize!==currentSize){_this.current=newSize;jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).trigger('changed.zf.mediaquery',[newSize,currentSize]);}});}};function parseStyleToObject(str){var styleObject={};if(typeof str!=='string'){return styleObject;}
str=str.trim().slice(1,-1);if(!str){return styleObject;}
styleObject=str.split('&').reduce(function(ret,param){var parts=param.replace(/\+/g,' ').split('=');var key=parts[0];var val=parts[1];key=decodeURIComponent(key);val=typeof val==='undefined'?null:decodeURIComponent(val);if(!ret.hasOwnProperty(key)){ret[key]=val;}else if(Array.isArray(ret[key])){ret[key].push(val);}else{ret[key]=[ret[key],val];}
return ret;},{});return styleObject;}}),0:
/*!*****************************************************!*\
  !*** multi ./js/entries/plugins/foundation.core.js ***!
  \*****************************************************/
/*! no static exports found */
(function(module,exports,__webpack_require__){module.exports=__webpack_require__(
/*! /Users/ncoden/Documents/Documents/Projects/Programmation/Web/2016/Foundation/foundation-sites/js/entries/plugins/foundation.core.js */
"./js/entries/plugins/foundation.core.js");}),"jquery":
/*!********************************************************************************************!*\
  !*** external {"root":["jQuery"],"amd":"jquery","commonjs":"jquery","commonjs2":"jquery"} ***!
  \********************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_jquery__;})});});
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
module.exports=factory(require("./foundation.core"),require("./foundation.core.plugin"),require("./foundation.core.utils"),require("./foundation.util.imageLoader"),require("./foundation.util.mediaQuery"),require("jquery"));else if(typeof define==='function'&&define.amd)
define(["./foundation.core","./foundation.core.plugin","./foundation.core.utils","./foundation.util.imageLoader","./foundation.util.mediaQuery","jquery"],factory);else if(typeof exports==='object')
exports["foundation.equalizer"]=factory(require("./foundation.core"),require("./foundation.core.plugin"),require("./foundation.core.utils"),require("./foundation.util.imageLoader"),require("./foundation.util.mediaQuery"),require("jquery"));else
root["__FOUNDATION_EXTERNAL__"]=root["__FOUNDATION_EXTERNAL__"]||{},root["__FOUNDATION_EXTERNAL__"]["foundation.equalizer"]=factory(root["__FOUNDATION_EXTERNAL__"]["foundation.core"],root["__FOUNDATION_EXTERNAL__"]["foundation.core"],root["__FOUNDATION_EXTERNAL__"]["foundation.core"],root["__FOUNDATION_EXTERNAL__"]["foundation.util.imageLoader"],root["__FOUNDATION_EXTERNAL__"]["foundation.util.mediaQuery"],root["jQuery"]);})(window,function(__WEBPACK_EXTERNAL_MODULE__foundation_core__,__WEBPACK_EXTERNAL_MODULE__foundation_core_plugin__,__WEBPACK_EXTERNAL_MODULE__foundation_core_utils__,__WEBPACK_EXTERNAL_MODULE__foundation_util_imageLoader__,__WEBPACK_EXTERNAL_MODULE__foundation_util_mediaQuery__,__WEBPACK_EXTERNAL_MODULE_jquery__){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=6);})
({"./foundation.core":
/*!****************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.core"],"amd":"./foundation.core","commonjs":"./foundation.core","commonjs2":"./foundation.core"} ***!
  \****************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_core__;}),"./foundation.core.plugin":
/*!*************************************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.core"],"amd":"./foundation.core.plugin","commonjs":"./foundation.core.plugin","commonjs2":"./foundation.core.plugin"} ***!
  \*************************************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_core_plugin__;}),"./foundation.core.utils":
/*!**********************************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.core"],"amd":"./foundation.core.utils","commonjs":"./foundation.core.utils","commonjs2":"./foundation.core.utils"} ***!
  \**********************************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_core_utils__;}),"./foundation.util.imageLoader":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.util.imageLoader"],"amd":"./foundation.util.imageLoader","commonjs":"./foundation.util.imageLoader","commonjs2":"./foundation.util.imageLoader"} ***!
  \****************************************************************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_util_imageLoader__;}),"./foundation.util.mediaQuery":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.util.mediaQuery"],"amd":"./foundation.util.mediaQuery","commonjs":"./foundation.util.mediaQuery","commonjs2":"./foundation.util.mediaQuery"} ***!
  \************************************************************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_util_mediaQuery__;}),"./js/entries/plugins/foundation.equalizer.js":
/*!****************************************************!*\
  !*** ./js/entries/plugins/foundation.equalizer.js ***!
  \****************************************************/
/*! exports provided: Foundation, Equalizer */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _foundation_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! ./foundation.core */
"./foundation.core");var _foundation_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_foundation_core__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__.d(__webpack_exports__,"Foundation",function(){return _foundation_core__WEBPACK_IMPORTED_MODULE_0__["Foundation"];});var _foundation_equalizer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! ../../foundation.equalizer */
"./js/foundation.equalizer.js");__webpack_require__.d(__webpack_exports__,"Equalizer",function(){return _foundation_equalizer__WEBPACK_IMPORTED_MODULE_1__["Equalizer"];});_foundation_core__WEBPACK_IMPORTED_MODULE_0__["Foundation"].plugin(_foundation_equalizer__WEBPACK_IMPORTED_MODULE_1__["Equalizer"],'Equalizer');}),"./js/foundation.equalizer.js":
/*!************************************!*\
  !*** ./js/foundation.equalizer.js ***!
  \************************************/
/*! exports provided: Equalizer */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Equalizer",function(){return Equalizer;});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);var _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! ./foundation.util.mediaQuery */
"./foundation.util.mediaQuery");var _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__);var _foundation_util_imageLoader__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(
/*! ./foundation.util.imageLoader */
"./foundation.util.imageLoader");var _foundation_util_imageLoader__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_foundation_util_imageLoader__WEBPACK_IMPORTED_MODULE_2__);var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(
/*! ./foundation.core.utils */
"./foundation.core.utils");var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__);var _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(
/*! ./foundation.core.plugin */
"./foundation.core.plugin");var _foundation_core_plugin__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_foundation_core_plugin__WEBPACK_IMPORTED_MODULE_4__);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
var Equalizer=function(_Plugin){_inherits(Equalizer,_Plugin);function Equalizer(){_classCallCheck(this,Equalizer);return _possibleConstructorReturn(this,_getPrototypeOf(Equalizer).apply(this,arguments));}
_createClass(Equalizer,[{key:"_setup",value:function _setup(element,options){this.$element=element;this.options=jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({},Equalizer.defaults,this.$element.data(),options);this.className='Equalizer';this._init();}},{key:"_init",value:function _init(){var eqId=this.$element.attr('data-equalizer')||'';var $watched=this.$element.find("[data-equalizer-watch=\"".concat(eqId,"\"]"));_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__["MediaQuery"]._init();this.$watched=$watched.length?$watched:this.$element.find('[data-equalizer-watch]');this.$element.attr('data-resize',eqId||Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["GetYoDigits"])(6,'eq'));this.$element.attr('data-mutate',eqId||Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_3__["GetYoDigits"])(6,'eq'));this.hasNested=this.$element.find('[data-equalizer]').length>0;this.isNested=this.$element.parentsUntil(document.body,'[data-equalizer]').length>0;this.isOn=false;this._bindHandler={onResizeMeBound:this._onResizeMe.bind(this),onPostEqualizedBound:this._onPostEqualized.bind(this)};var imgs=this.$element.find('img');var tooSmall;if(this.options.equalizeOn){tooSmall=this._checkMQ();jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('changed.zf.mediaquery',this._checkMQ.bind(this));}else{this._events();}
if(typeof tooSmall!=='undefined'&&tooSmall===false||typeof tooSmall==='undefined'){if(imgs.length){Object(_foundation_util_imageLoader__WEBPACK_IMPORTED_MODULE_2__["onImagesLoaded"])(imgs,this._reflow.bind(this));}else{this._reflow();}}}},{key:"_pauseEvents",value:function _pauseEvents(){this.isOn=false;this.$element.off({'.zf.equalizer':this._bindHandler.onPostEqualizedBound,'resizeme.zf.trigger':this._bindHandler.onResizeMeBound,'mutateme.zf.trigger':this._bindHandler.onResizeMeBound});}},{key:"_onResizeMe",value:function _onResizeMe(e){this._reflow();}},{key:"_onPostEqualized",value:function _onPostEqualized(e){if(e.target!==this.$element[0]){this._reflow();}}},{key:"_events",value:function _events(){var _this=this;this._pauseEvents();if(this.hasNested){this.$element.on('postequalized.zf.equalizer',this._bindHandler.onPostEqualizedBound);}else{this.$element.on('resizeme.zf.trigger',this._bindHandler.onResizeMeBound);this.$element.on('mutateme.zf.trigger',this._bindHandler.onResizeMeBound);}
this.isOn=true;}},{key:"_checkMQ",value:function _checkMQ(){var tooSmall=!_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__["MediaQuery"].is(this.options.equalizeOn);if(tooSmall){if(this.isOn){this._pauseEvents();this.$watched.css('height','auto');}}else{if(!this.isOn){this._events();}}
return tooSmall;}},{key:"_killswitch",value:function _killswitch(){return;}},{key:"_reflow",value:function _reflow(){if(!this.options.equalizeOnStack){if(this._isStacked()){this.$watched.css('height','auto');return false;}}
if(this.options.equalizeByRow){this.getHeightsByRow(this.applyHeightByRow.bind(this));}else{this.getHeights(this.applyHeight.bind(this));}}},{key:"_isStacked",value:function _isStacked(){if(!this.$watched[0]||!this.$watched[1]){return true;}
return this.$watched[0].getBoundingClientRect().top!==this.$watched[1].getBoundingClientRect().top;}},{key:"getHeights",value:function getHeights(cb){var heights=[];for(var i=0,len=this.$watched.length;i<len;i++){this.$watched[i].style.height='auto';heights.push(this.$watched[i].offsetHeight);}
cb(heights);}},{key:"getHeightsByRow",value:function getHeightsByRow(cb){var lastElTopOffset=this.$watched.length?this.$watched.first().offset().top:0,groups=[],group=0;groups[group]=[];for(var i=0,len=this.$watched.length;i<len;i++){this.$watched[i].style.height='auto';var elOffsetTop=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this.$watched[i]).offset().top;if(elOffsetTop!=lastElTopOffset){group++;groups[group]=[];lastElTopOffset=elOffsetTop;}
groups[group].push([this.$watched[i],this.$watched[i].offsetHeight]);}
for(var j=0,ln=groups.length;j<ln;j++){var heights=jquery__WEBPACK_IMPORTED_MODULE_0___default()(groups[j]).map(function(){return this[1];}).get();var max=Math.max.apply(null,heights);groups[j].push(max);}
cb(groups);}},{key:"applyHeight",value:function applyHeight(heights){var max=Math.max.apply(null,heights);this.$element.trigger('preequalized.zf.equalizer');this.$watched.css('height',max);this.$element.trigger('postequalized.zf.equalizer');}},{key:"applyHeightByRow",value:function applyHeightByRow(groups){this.$element.trigger('preequalized.zf.equalizer');for(var i=0,len=groups.length;i<len;i++){var groupsILength=groups[i].length,max=groups[i][groupsILength-1];if(groupsILength<=2){jquery__WEBPACK_IMPORTED_MODULE_0___default()(groups[i][0][0]).css({'height':'auto'});continue;}
this.$element.trigger('preequalizedrow.zf.equalizer');for(var j=0,lenJ=groupsILength-1;j<lenJ;j++){jquery__WEBPACK_IMPORTED_MODULE_0___default()(groups[i][j][0]).css({'height':max});}
this.$element.trigger('postequalizedrow.zf.equalizer');}
this.$element.trigger('postequalized.zf.equalizer');}},{key:"_destroy",value:function _destroy(){this._pauseEvents();this.$watched.css('height','auto');}}]);return Equalizer;}(_foundation_core_plugin__WEBPACK_IMPORTED_MODULE_4__["Plugin"]);Equalizer.defaults={equalizeOnStack:false,equalizeByRow:false,equalizeOn:''};}),6:
/*!**********************************************************!*\
  !*** multi ./js/entries/plugins/foundation.equalizer.js ***!
  \**********************************************************/
/*! no static exports found */
(function(module,exports,__webpack_require__){module.exports=__webpack_require__(
/*! /Users/ncoden/Documents/Documents/Projects/Programmation/Web/2016/Foundation/foundation-sites/js/entries/plugins/foundation.equalizer.js */
"./js/entries/plugins/foundation.equalizer.js");}),"jquery":
/*!********************************************************************************************!*\
  !*** external {"root":["jQuery"],"amd":"jquery","commonjs":"jquery","commonjs2":"jquery"} ***!
  \********************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_jquery__;})});});
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
module.exports=factory(require("./foundation.core"),require("jquery"));else if(typeof define==='function'&&define.amd)
define(["./foundation.core","jquery"],factory);else if(typeof exports==='object')
exports["foundation.util.mediaQuery"]=factory(require("./foundation.core"),require("jquery"));else
root["__FOUNDATION_EXTERNAL__"]=root["__FOUNDATION_EXTERNAL__"]||{},root["__FOUNDATION_EXTERNAL__"]["foundation.util.mediaQuery"]=factory(root["__FOUNDATION_EXTERNAL__"]["foundation.core"],root["jQuery"]);})(window,function(__WEBPACK_EXTERNAL_MODULE__foundation_core__,__WEBPACK_EXTERNAL_MODULE_jquery__){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=24);})
({"./foundation.core":
/*!****************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.core"],"amd":"./foundation.core","commonjs":"./foundation.core","commonjs2":"./foundation.core"} ***!
  \****************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_core__;}),"./js/entries/plugins/foundation.util.mediaQuery.js":
/*!**********************************************************!*\
  !*** ./js/entries/plugins/foundation.util.mediaQuery.js ***!
  \**********************************************************/
/*! exports provided: Foundation, MediaQuery */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _foundation_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! ./foundation.core */
"./foundation.core");var _foundation_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_foundation_core__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__.d(__webpack_exports__,"Foundation",function(){return _foundation_core__WEBPACK_IMPORTED_MODULE_0__["Foundation"];});var _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! ../../foundation.util.mediaQuery */
"./js/foundation.util.mediaQuery.js");__webpack_require__.d(__webpack_exports__,"MediaQuery",function(){return _foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__["MediaQuery"];});_foundation_core__WEBPACK_IMPORTED_MODULE_0__["Foundation"].MediaQuery=_foundation_util_mediaQuery__WEBPACK_IMPORTED_MODULE_1__["MediaQuery"];_foundation_core__WEBPACK_IMPORTED_MODULE_0__["Foundation"].MediaQuery._init();}),"./js/foundation.util.mediaQuery.js":
/*!******************************************!*\
  !*** ./js/foundation.util.mediaQuery.js ***!
  \******************************************/
/*! exports provided: MediaQuery */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"MediaQuery",function(){return MediaQuery;});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var defaultQueries={'default':'only screen',landscape:'only screen and (orientation: landscape)',portrait:'only screen and (orientation: portrait)',retina:'only screen and (-webkit-min-device-pixel-ratio: 2),'+'only screen and (min--moz-device-pixel-ratio: 2),'+'only screen and (-o-min-device-pixel-ratio: 2/1),'+'only screen and (min-device-pixel-ratio: 2),'+'only screen and (min-resolution: 192dpi),'+'only screen and (min-resolution: 2dppx)'};window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';if(!script){document.head.appendChild(style);}else{script.parentNode.insertBefore(style,script);}
info='getComputedStyle'in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function matchMedium(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}
return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());var MediaQuery={queries:[],current:'',_init:function _init(){var self=this;var $meta=jquery__WEBPACK_IMPORTED_MODULE_0___default()('meta.foundation-mq');if(!$meta.length){jquery__WEBPACK_IMPORTED_MODULE_0___default()('<meta class="foundation-mq">').appendTo(document.head);}
var extractedStyles=jquery__WEBPACK_IMPORTED_MODULE_0___default()('.foundation-mq').css('font-family');var namedQueries;namedQueries=parseStyleToObject(extractedStyles);for(var key in namedQueries){if(namedQueries.hasOwnProperty(key)){self.queries.push({name:key,value:"only screen and (min-width: ".concat(namedQueries[key],")")});}}
this.current=this._getCurrentSize();this._watcher();},atLeast:function atLeast(size){var query=this.get(size);if(query){return window.matchMedia(query).matches;}
return false;},is:function is(size){size=size.trim().split(' ');if(size.length>1&&size[1]==='only'){if(size[0]===this._getCurrentSize())return true;}else{return this.atLeast(size[0]);}
return false;},get:function get(size){for(var i in this.queries){if(this.queries.hasOwnProperty(i)){var query=this.queries[i];if(size===query.name)return query.value;}}
return null;},_getCurrentSize:function _getCurrentSize(){var matched;for(var i=0;i<this.queries.length;i++){var query=this.queries[i];if(window.matchMedia(query.value).matches){matched=query;}}
if(_typeof(matched)==='object'){return matched.name;}else{return matched;}},_watcher:function _watcher(){var _this=this;jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off('resize.zf.mediaquery').on('resize.zf.mediaquery',function(){var newSize=_this._getCurrentSize(),currentSize=_this.current;if(newSize!==currentSize){_this.current=newSize;jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).trigger('changed.zf.mediaquery',[newSize,currentSize]);}});}};function parseStyleToObject(str){var styleObject={};if(typeof str!=='string'){return styleObject;}
str=str.trim().slice(1,-1);if(!str){return styleObject;}
styleObject=str.split('&').reduce(function(ret,param){var parts=param.replace(/\+/g,' ').split('=');var key=parts[0];var val=parts[1];key=decodeURIComponent(key);val=typeof val==='undefined'?null:decodeURIComponent(val);if(!ret.hasOwnProperty(key)){ret[key]=val;}else if(Array.isArray(ret[key])){ret[key].push(val);}else{ret[key]=[ret[key],val];}
return ret;},{});return styleObject;}}),24:
/*!****************************************************************!*\
  !*** multi ./js/entries/plugins/foundation.util.mediaQuery.js ***!
  \****************************************************************/
/*! no static exports found */
(function(module,exports,__webpack_require__){module.exports=__webpack_require__(
/*! /Users/ncoden/Documents/Documents/Projects/Programmation/Web/2016/Foundation/foundation-sites/js/entries/plugins/foundation.util.mediaQuery.js */
"./js/entries/plugins/foundation.util.mediaQuery.js");}),"jquery":
/*!********************************************************************************************!*\
  !*** external {"root":["jQuery"],"amd":"jquery","commonjs":"jquery","commonjs2":"jquery"} ***!
  \********************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_jquery__;})});});
'use strict';!function($){function Timer(elem,options,cb){var _this=this,duration=options.duration,nameSpace=Object.keys(elem.data())[0]||'timer',remain=-1,start,timer;this.isPaused=false;this.restart=function(){remain=-1;clearTimeout(timer);this.start();};this.start=function(){this.isPaused=false;clearTimeout(timer);remain=remain<=0?duration:remain;elem.data('paused',false);start=Date.now();timer=setTimeout(function(){if(options.infinite){_this.restart();}
if(cb&&typeof cb==='function'){cb();}},remain);elem.trigger('timerstart.zf.'+nameSpace);};this.pause=function(){this.isPaused=true;clearTimeout(timer);elem.data('paused',true);var end=Date.now();remain=remain-(end-start);elem.trigger('timerpaused.zf.'+nameSpace);};}
function onImagesLoaded(images,callback){var self=this,unloaded=images.length;if(unloaded===0){callback();}
images.each(function(){if(this.complete||this.readyState===4||this.readyState==='complete'){singleImageLoaded();}
else{var src=$(this).attr('src');$(this).attr('src',src+(src.indexOf('?')>=0?'&':'?')+new Date().getTime());$(this).one('load',function(){singleImageLoaded();});}});function singleImageLoaded(){unloaded--;if(unloaded===0){callback();}}}
Foundation.Timer=Timer;Foundation.onImagesLoaded=onImagesLoaded;}(jQuery);
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
module.exports=factory(require("./foundation.core"),require("./foundation.core.utils"),require("./foundation.util.motion"),require("jquery"));else if(typeof define==='function'&&define.amd)
define(["./foundation.core","./foundation.core.utils","./foundation.util.motion","jquery"],factory);else if(typeof exports==='object')
exports["foundation.util.triggers"]=factory(require("./foundation.core"),require("./foundation.core.utils"),require("./foundation.util.motion"),require("jquery"));else
root["__FOUNDATION_EXTERNAL__"]=root["__FOUNDATION_EXTERNAL__"]||{},root["__FOUNDATION_EXTERNAL__"]["foundation.util.triggers"]=factory(root["__FOUNDATION_EXTERNAL__"]["foundation.core"],root["__FOUNDATION_EXTERNAL__"]["foundation.core"],root["__FOUNDATION_EXTERNAL__"]["foundation.util.motion"],root["jQuery"]);})(window,function(__WEBPACK_EXTERNAL_MODULE__foundation_core__,__WEBPACK_EXTERNAL_MODULE__foundation_core_utils__,__WEBPACK_EXTERNAL_MODULE__foundation_util_motion__,__WEBPACK_EXTERNAL_MODULE_jquery__){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=29);})
({"./foundation.core":
/*!****************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.core"],"amd":"./foundation.core","commonjs":"./foundation.core","commonjs2":"./foundation.core"} ***!
  \****************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_core__;}),"./foundation.core.utils":
/*!**********************************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.core"],"amd":"./foundation.core.utils","commonjs":"./foundation.core.utils","commonjs2":"./foundation.core.utils"} ***!
  \**********************************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_core_utils__;}),"./foundation.util.motion":
/*!********************************************************************************************************************************************************************************************!*\
  !*** external {"root":["__FOUNDATION_EXTERNAL__","foundation.util.motion"],"amd":"./foundation.util.motion","commonjs":"./foundation.util.motion","commonjs2":"./foundation.util.motion"} ***!
  \********************************************************************************************************************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__foundation_util_motion__;}),"./js/entries/plugins/foundation.util.triggers.js":
/*!********************************************************!*\
  !*** ./js/entries/plugins/foundation.util.triggers.js ***!
  \********************************************************/
/*! exports provided: Foundation, Triggers */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _foundation_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! ./foundation.core */
"./foundation.core");var _foundation_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_foundation_core__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__.d(__webpack_exports__,"Foundation",function(){return _foundation_core__WEBPACK_IMPORTED_MODULE_0__["Foundation"];});var jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);var _foundation_util_triggers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(
/*! ../../foundation.util.triggers */
"./js/foundation.util.triggers.js");__webpack_require__.d(__webpack_exports__,"Triggers",function(){return _foundation_util_triggers__WEBPACK_IMPORTED_MODULE_2__["Triggers"];});_foundation_util_triggers__WEBPACK_IMPORTED_MODULE_2__["Triggers"].init(jquery__WEBPACK_IMPORTED_MODULE_1___default.a,_foundation_core__WEBPACK_IMPORTED_MODULE_0__["Foundation"]);}),"./js/foundation.util.triggers.js":
/*!****************************************!*\
  !*** ./js/foundation.util.triggers.js ***!
  \****************************************/
/*! exports provided: Triggers */
(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Triggers",function(){return Triggers;});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(
/*! jquery */
"jquery");var jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(
/*! ./foundation.core.utils */
"./foundation.core.utils");var _foundation_core_utils__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__);var _foundation_util_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(
/*! ./foundation.util.motion */
"./foundation.util.motion");var _foundation_util_motion__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_foundation_util_motion__WEBPACK_IMPORTED_MODULE_2__);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var MutationObserver=function(){var prefixes=['WebKit','Moz','O','Ms',''];for(var i=0;i<prefixes.length;i++){if("".concat(prefixes[i],"MutationObserver")in window){return window["".concat(prefixes[i],"MutationObserver")];}}
return false;}();var triggers=function triggers(el,type){el.data(type).split(' ').forEach(function(id){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#".concat(id))[type==='close'?'trigger':'triggerHandler']("".concat(type,".zf.trigger"),[el]);});};var Triggers={Listeners:{Basic:{},Global:{}},Initializers:{}};Triggers.Listeners.Basic={openListener:function openListener(){triggers(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),'open');},closeListener:function closeListener(){var id=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('close');if(id){triggers(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),'close');}else{jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).trigger('close.zf.trigger');}},toggleListener:function toggleListener(){var id=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('toggle');if(id){triggers(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),'toggle');}else{jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).trigger('toggle.zf.trigger');}},closeableListener:function closeableListener(e){e.stopPropagation();var animation=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('closable');if(animation!==''){_foundation_util_motion__WEBPACK_IMPORTED_MODULE_2__["Motion"].animateOut(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this),animation,function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).trigger('closed.zf');});}else{jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).fadeOut().trigger('closed.zf');}},toggleFocusListener:function toggleFocusListener(){var id=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('toggle-focus');jquery__WEBPACK_IMPORTED_MODULE_0___default()("#".concat(id)).triggerHandler('toggle.zf.trigger',[jquery__WEBPACK_IMPORTED_MODULE_0___default()(this)]);}};Triggers.Initializers.addOpenListener=function($elem){$elem.off('click.zf.trigger',Triggers.Listeners.Basic.openListener);$elem.on('click.zf.trigger','[data-open]',Triggers.Listeners.Basic.openListener);};Triggers.Initializers.addCloseListener=function($elem){$elem.off('click.zf.trigger',Triggers.Listeners.Basic.closeListener);$elem.on('click.zf.trigger','[data-close]',Triggers.Listeners.Basic.closeListener);};Triggers.Initializers.addToggleListener=function($elem){$elem.off('click.zf.trigger',Triggers.Listeners.Basic.toggleListener);$elem.on('click.zf.trigger','[data-toggle]',Triggers.Listeners.Basic.toggleListener);};Triggers.Initializers.addCloseableListener=function($elem){$elem.off('close.zf.trigger',Triggers.Listeners.Basic.closeableListener);$elem.on('close.zf.trigger','[data-closeable], [data-closable]',Triggers.Listeners.Basic.closeableListener);};Triggers.Initializers.addToggleFocusListener=function($elem){$elem.off('focus.zf.trigger blur.zf.trigger',Triggers.Listeners.Basic.toggleFocusListener);$elem.on('focus.zf.trigger blur.zf.trigger','[data-toggle-focus]',Triggers.Listeners.Basic.toggleFocusListener);};Triggers.Listeners.Global={resizeListener:function resizeListener($nodes){if(!MutationObserver){$nodes.each(function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).triggerHandler('resizeme.zf.trigger');});}
$nodes.attr('data-events',"resize");},scrollListener:function scrollListener($nodes){if(!MutationObserver){$nodes.each(function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).triggerHandler('scrollme.zf.trigger');});}
$nodes.attr('data-events',"scroll");},closeMeListener:function closeMeListener(e,pluginId){var plugin=e.namespace.split('.')[0];var plugins=jquery__WEBPACK_IMPORTED_MODULE_0___default()("[data-".concat(plugin,"]")).not("[data-yeti-box=\"".concat(pluginId,"\"]"));plugins.each(function(){var _this=jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);_this.triggerHandler('close.zf.trigger',[_this]);});}};Triggers.Initializers.addClosemeListener=function(pluginName){var yetiBoxes=jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-yeti-box]'),plugNames=['dropdown','tooltip','reveal'];if(pluginName){if(typeof pluginName==='string'){plugNames.push(pluginName);}else if(_typeof(pluginName)==='object'&&typeof pluginName[0]==='string'){plugNames.concat(pluginName);}else{console.error('Plugin names must be strings');}}
if(yetiBoxes.length){var listeners=plugNames.map(function(name){return"closeme.zf.".concat(name);}).join(' ');jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off(listeners).on(listeners,Triggers.Listeners.Global.closeMeListener);}};function debounceGlobalListener(debounce,trigger,listener){var timer,args=Array.prototype.slice.call(arguments,3);jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off(trigger).on(trigger,function(e){if(timer){clearTimeout(timer);}
timer=setTimeout(function(){listener.apply(null,args);},debounce||10);});}
Triggers.Initializers.addResizeListener=function(debounce){var $nodes=jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-resize]');if($nodes.length){debounceGlobalListener(debounce,'resize.zf.trigger',Triggers.Listeners.Global.resizeListener,$nodes);}};Triggers.Initializers.addScrollListener=function(debounce){var $nodes=jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-scroll]');if($nodes.length){debounceGlobalListener(debounce,'scroll.zf.trigger',Triggers.Listeners.Global.scrollListener,$nodes);}};Triggers.Initializers.addMutationEventsListener=function($elem){if(!MutationObserver){return false;}
var $nodes=$elem.find('[data-resize], [data-scroll], [data-mutate]');var listeningElementsMutation=function listeningElementsMutation(mutationRecordsList){var $target=jquery__WEBPACK_IMPORTED_MODULE_0___default()(mutationRecordsList[0].target);switch(mutationRecordsList[0].type){case"attributes":if($target.attr("data-events")==="scroll"&&mutationRecordsList[0].attributeName==="data-events"){$target.triggerHandler('scrollme.zf.trigger',[$target,window.pageYOffset]);}
if($target.attr("data-events")==="resize"&&mutationRecordsList[0].attributeName==="data-events"){$target.triggerHandler('resizeme.zf.trigger',[$target]);}
if(mutationRecordsList[0].attributeName==="style"){$target.closest("[data-mutate]").attr("data-events","mutate");$target.closest("[data-mutate]").triggerHandler('mutateme.zf.trigger',[$target.closest("[data-mutate]")]);}
break;case"childList":$target.closest("[data-mutate]").attr("data-events","mutate");$target.closest("[data-mutate]").triggerHandler('mutateme.zf.trigger',[$target.closest("[data-mutate]")]);break;default:return false;}};if($nodes.length){for(var i=0;i<=$nodes.length-1;i++){var elementObserver=new MutationObserver(listeningElementsMutation);elementObserver.observe($nodes[i],{attributes:true,childList:true,characterData:false,subtree:true,attributeFilter:["data-events","style"]});}}};Triggers.Initializers.addSimpleListeners=function(){var $document=jquery__WEBPACK_IMPORTED_MODULE_0___default()(document);Triggers.Initializers.addOpenListener($document);Triggers.Initializers.addCloseListener($document);Triggers.Initializers.addToggleListener($document);Triggers.Initializers.addCloseableListener($document);Triggers.Initializers.addToggleFocusListener($document);};Triggers.Initializers.addGlobalListeners=function(){var $document=jquery__WEBPACK_IMPORTED_MODULE_0___default()(document);Triggers.Initializers.addMutationEventsListener($document);Triggers.Initializers.addResizeListener();Triggers.Initializers.addScrollListener();Triggers.Initializers.addClosemeListener();};Triggers.init=function($,Foundation){Object(_foundation_core_utils__WEBPACK_IMPORTED_MODULE_1__["onLoad"])($(window),function(){if($.triggersInitialized!==true){Triggers.Initializers.addSimpleListeners();Triggers.Initializers.addGlobalListeners();$.triggersInitialized=true;}});if(Foundation){Foundation.Triggers=Triggers;Foundation.IHearYou=Triggers.Initializers.addGlobalListeners;}};}),29:
/*!**************************************************************!*\
  !*** multi ./js/entries/plugins/foundation.util.triggers.js ***!
  \**************************************************************/
/*! no static exports found */
(function(module,exports,__webpack_require__){module.exports=__webpack_require__(
/*! /Users/ncoden/Documents/Documents/Projects/Programmation/Web/2016/Foundation/foundation-sites/js/entries/plugins/foundation.util.triggers.js */
"./js/entries/plugins/foundation.util.triggers.js");}),"jquery":
/*!********************************************************************************************!*\
  !*** external {"root":["jQuery"],"amd":"jquery","commonjs":"jquery","commonjs2":"jquery"} ***!
  \********************************************************************************************/
/*! no static exports found */
(function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_jquery__;})});});
!(function(root,factory){if(typeof define==='function'&&define.amd){define(['jquery'],function($){return factory(root,$);});}else if(typeof exports==='object'){factory(root,require('jquery'));}else{factory(root,root.jQuery||root.Zepto);}})(this,function(global,$){'use strict';var PLUGIN_NAME='remodal';var NAMESPACE=global.REMODAL_GLOBALS&&global.REMODAL_GLOBALS.NAMESPACE||PLUGIN_NAME;var ANIMATIONSTART_EVENTS=$.map(['animationstart','webkitAnimationStart','MSAnimationStart','oAnimationStart'],function(eventName){return eventName+'.'+NAMESPACE;}).join(' ');var ANIMATIONEND_EVENTS=$.map(['animationend','webkitAnimationEnd','MSAnimationEnd','oAnimationEnd'],function(eventName){return eventName+'.'+NAMESPACE;}).join(' ');var DEFAULTS=$.extend({hashTracking:true,closeOnConfirm:true,closeOnCancel:true,closeOnEscape:true,closeOnOutsideClick:true,modifier:'',appendTo:null},global.REMODAL_GLOBALS&&global.REMODAL_GLOBALS.DEFAULTS);var STATES={CLOSING:'closing',CLOSED:'closed',OPENING:'opening',OPENED:'opened'};var STATE_CHANGE_REASONS={CONFIRMATION:'confirmation',CANCELLATION:'cancellation'};var IS_ANIMATION=(function(){var style=document.createElement('div').style;return style.animationName!==undefined||style.WebkitAnimationName!==undefined||style.MozAnimationName!==undefined||style.msAnimationName!==undefined||style.OAnimationName!==undefined;})();var IS_IOS=/iPad|iPhone|iPod/.test(navigator.platform);var current;var scrollTop;function getAnimationDuration($elem){if(IS_ANIMATION&&$elem.css('animation-name')==='none'&&$elem.css('-webkit-animation-name')==='none'&&$elem.css('-moz-animation-name')==='none'&&$elem.css('-o-animation-name')==='none'&&$elem.css('-ms-animation-name')==='none'){return 0;}
var duration=$elem.css('animation-duration')||$elem.css('-webkit-animation-duration')||$elem.css('-moz-animation-duration')||$elem.css('-o-animation-duration')||$elem.css('-ms-animation-duration')||'0s';var delay=$elem.css('animation-delay')||$elem.css('-webkit-animation-delay')||$elem.css('-moz-animation-delay')||$elem.css('-o-animation-delay')||$elem.css('-ms-animation-delay')||'0s';var iterationCount=$elem.css('animation-iteration-count')||$elem.css('-webkit-animation-iteration-count')||$elem.css('-moz-animation-iteration-count')||$elem.css('-o-animation-iteration-count')||$elem.css('-ms-animation-iteration-count')||'1';var max;var len;var num;var i;duration=duration.split(', ');delay=delay.split(', ');iterationCount=iterationCount.split(', ');for(i=0,len=duration.length,max=Number.NEGATIVE_INFINITY;i<len;i++){num=parseFloat(duration[i])*parseInt(iterationCount[i],10)+parseFloat(delay[i]);if(num>max){max=num;}}
return max;}
function getScrollbarWidth(){if($(document).height()<=$(window).height()){return 0;}
var outer=document.createElement('div');var inner=document.createElement('div');var widthNoScroll;var widthWithScroll;outer.style.visibility='hidden';outer.style.width='100px';document.body.appendChild(outer);widthNoScroll=outer.offsetWidth;outer.style.overflow='scroll';inner.style.width='100%';outer.appendChild(inner);widthWithScroll=inner.offsetWidth;outer.parentNode.removeChild(outer);return widthNoScroll-widthWithScroll;}
function lockScreen(){if(IS_IOS){return;}
var $html=$('html');var lockedClass=namespacify('is-locked');var paddingRight;var $body;if(!$html.hasClass(lockedClass)){$body=$(document.body);paddingRight=parseInt($body.css('padding-right'),10)+getScrollbarWidth();$body.css('padding-right',paddingRight+'px');$html.addClass(lockedClass);}}
function unlockScreen(){if(IS_IOS){return;}
var $html=$('html');var lockedClass=namespacify('is-locked');var paddingRight;var $body;if($html.hasClass(lockedClass)){$body=$(document.body);paddingRight=parseInt($body.css('padding-right'),10)-getScrollbarWidth();$body.css('padding-right',paddingRight+'px');$html.removeClass(lockedClass);}}
function setState(instance,state,isSilent,reason){var newState=namespacify('is',state);var allStates=[namespacify('is',STATES.CLOSING),namespacify('is',STATES.OPENING),namespacify('is',STATES.CLOSED),namespacify('is',STATES.OPENED)].join(' ');instance.$bg.removeClass(allStates).addClass(newState);instance.$overlay.removeClass(allStates).addClass(newState);instance.$wrapper.removeClass(allStates).addClass(newState);instance.$modal.removeClass(allStates).addClass(newState);instance.state=state;!isSilent&&instance.$modal.trigger({type:state,reason:reason},[{reason:reason}]);}
function syncWithAnimation(doBeforeAnimation,doAfterAnimation,instance){var runningAnimationsCount=0;var handleAnimationStart=function(e){if(e.target!==this){return;}
runningAnimationsCount++;};var handleAnimationEnd=function(e){if(e.target!==this){return;}
if(--runningAnimationsCount===0){$.each(['$bg','$overlay','$wrapper','$modal'],function(index,elemName){instance[elemName].off(ANIMATIONSTART_EVENTS+' '+ANIMATIONEND_EVENTS);});doAfterAnimation();}};$.each(['$bg','$overlay','$wrapper','$modal'],function(index,elemName){instance[elemName].on(ANIMATIONSTART_EVENTS,handleAnimationStart).on(ANIMATIONEND_EVENTS,handleAnimationEnd);});doBeforeAnimation();if(getAnimationDuration(instance.$bg)===0&&getAnimationDuration(instance.$overlay)===0&&getAnimationDuration(instance.$wrapper)===0&&getAnimationDuration(instance.$modal)===0){$.each(['$bg','$overlay','$wrapper','$modal'],function(index,elemName){instance[elemName].off(ANIMATIONSTART_EVENTS+' '+ANIMATIONEND_EVENTS);});doAfterAnimation();}}
function halt(instance){if(instance.state===STATES.CLOSED){return;}
$.each(['$bg','$overlay','$wrapper','$modal'],function(index,elemName){instance[elemName].off(ANIMATIONSTART_EVENTS+' '+ANIMATIONEND_EVENTS);});instance.$bg.removeClass(instance.settings.modifier);instance.$overlay.removeClass(instance.settings.modifier).hide();instance.$wrapper.hide();unlockScreen();setState(instance,STATES.CLOSED,true);}
function parseOptions(str){var obj={};var arr;var len;var val;var i;str=str.replace(/\s*:\s*/g,':').replace(/\s*,\s*/g,',');arr=str.split(',');for(i=0,len=arr.length;i<len;i++){arr[i]=arr[i].split(':');val=arr[i][1];if(typeof val==='string'||val instanceof String){val=val==='true'||(val==='false'?false:val);}
if(typeof val==='string'||val instanceof String){val=!isNaN(val)?+val:val;}
obj[arr[i][0]]=val;}
return obj;}
function namespacify(){var result=NAMESPACE;for(var i=0;i<arguments.length;++i){result+='-'+arguments[i];}
return result;}
function handleHashChangeEvent(){var id=location.hash.replace('#','');var instance;var $elem;if(!id){if(current&&current.state===STATES.OPENED&&current.settings.hashTracking){current.close();}}else{try{$elem=$('[data-'+PLUGIN_NAME+'-id="'+id+'"]');}catch(err){}
if($elem&&$elem.length){instance=$[PLUGIN_NAME].lookup[$elem.data(PLUGIN_NAME)];if(instance&&instance.settings.hashTracking){instance.open();}}}}
function Remodal($modal,options){var $body=$(document.body);var $appendTo=$body;var remodal=this;remodal.settings=$.extend({},DEFAULTS,options);remodal.index=$[PLUGIN_NAME].lookup.push(remodal)-1;remodal.state=STATES.CLOSED;remodal.$overlay=$('.'+namespacify('overlay'));if(remodal.settings.appendTo!==null&&remodal.settings.appendTo.length){$appendTo=$(remodal.settings.appendTo);}
if(!remodal.$overlay.length){remodal.$overlay=$('<div>').addClass(namespacify('overlay')+' '+namespacify('is',STATES.CLOSED)).hide();$appendTo.append(remodal.$overlay);}
remodal.$bg=$('.'+namespacify('bg')).addClass(namespacify('is',STATES.CLOSED));remodal.$modal=$modal.addClass(NAMESPACE+' '+
namespacify('is-initialized')+' '+
remodal.settings.modifier+' '+
namespacify('is',STATES.CLOSED)).attr('tabindex','-1');remodal.$wrapper=$('<div>').addClass(namespacify('wrapper')+' '+
remodal.settings.modifier+' '+
namespacify('is',STATES.CLOSED)).hide().append(remodal.$modal);$appendTo.append(remodal.$wrapper);remodal.$wrapper.on('click.'+NAMESPACE,'[data-'+PLUGIN_NAME+'-action="close"]',function(e){e.preventDefault();remodal.close();});remodal.$wrapper.on('click.'+NAMESPACE,'[data-'+PLUGIN_NAME+'-action="cancel"]',function(e){e.preventDefault();remodal.$modal.trigger(STATE_CHANGE_REASONS.CANCELLATION);if(remodal.settings.closeOnCancel){remodal.close(STATE_CHANGE_REASONS.CANCELLATION);}});remodal.$wrapper.on('click.'+NAMESPACE,'[data-'+PLUGIN_NAME+'-action="confirm"]',function(e){e.preventDefault();remodal.$modal.trigger(STATE_CHANGE_REASONS.CONFIRMATION);if(remodal.settings.closeOnConfirm){remodal.close(STATE_CHANGE_REASONS.CONFIRMATION);}});remodal.$wrapper.on('click.'+NAMESPACE,function(e){var $target=$(e.target);if(!$target.hasClass(namespacify('wrapper'))){return;}
if(remodal.settings.closeOnOutsideClick){remodal.close();}});}
Remodal.prototype.open=function(){var remodal=this;var id;if(remodal.state===STATES.OPENING||remodal.state===STATES.CLOSING){return;}
id=remodal.$modal.attr('data-'+PLUGIN_NAME+'-id');if(id&&remodal.settings.hashTracking){scrollTop=$(window).scrollTop();location.hash=id;}
if(current&&current!==remodal){halt(current);}
current=remodal;lockScreen();remodal.$bg.addClass(remodal.settings.modifier);remodal.$overlay.addClass(remodal.settings.modifier).show();remodal.$wrapper.show().scrollTop(0);remodal.$modal.focus();syncWithAnimation(function(){setState(remodal,STATES.OPENING);},function(){setState(remodal,STATES.OPENED);},remodal);};Remodal.prototype.close=function(reason){var remodal=this;if(remodal.state===STATES.OPENING||remodal.state===STATES.CLOSING||remodal.state===STATES.CLOSED){return;}
if(remodal.settings.hashTracking&&remodal.$modal.attr('data-'+PLUGIN_NAME+'-id')===location.hash.substr(1)){location.hash='';$(window).scrollTop(scrollTop);}
syncWithAnimation(function(){setState(remodal,STATES.CLOSING,false,reason);},function(){remodal.$bg.removeClass(remodal.settings.modifier);remodal.$overlay.removeClass(remodal.settings.modifier).hide();remodal.$wrapper.hide();unlockScreen();setState(remodal,STATES.CLOSED,false,reason);},remodal);};Remodal.prototype.getState=function(){return this.state;};Remodal.prototype.destroy=function(){var lookup=$[PLUGIN_NAME].lookup;var instanceCount;halt(this);this.$wrapper.remove();delete lookup[this.index];instanceCount=$.grep(lookup,function(instance){return!!instance;}).length;if(instanceCount===0){this.$overlay.remove();this.$bg.removeClass(namespacify('is',STATES.CLOSING)+' '+
namespacify('is',STATES.OPENING)+' '+
namespacify('is',STATES.CLOSED)+' '+
namespacify('is',STATES.OPENED));}};$[PLUGIN_NAME]={lookup:[]};$.fn[PLUGIN_NAME]=function(opts){var instance;var $elem;this.each(function(index,elem){$elem=$(elem);if($elem.data(PLUGIN_NAME)==null){instance=new Remodal($elem,opts);$elem.data(PLUGIN_NAME,instance.index);if(instance.settings.hashTracking&&$elem.attr('data-'+PLUGIN_NAME+'-id')===location.hash.substr(1)){instance.open();}}else{instance=$[PLUGIN_NAME].lookup[$elem.data(PLUGIN_NAME)];}});return instance;};$(document).ready(function(){$(document).on('click','[data-'+PLUGIN_NAME+'-target]',function(e){e.preventDefault();var elem=e.currentTarget;var id=elem.getAttribute('data-'+PLUGIN_NAME+'-target');var $target=$('[data-'+PLUGIN_NAME+'-id="'+id+'"]');$[PLUGIN_NAME].lookup[$target.data(PLUGIN_NAME)].open();});$(document).find('.'+NAMESPACE).each(function(i,container){var $container=$(container);var options=$container.data(PLUGIN_NAME+'-options');if(!options){options={};}else if(typeof options==='string'||options instanceof String){options=parseOptions(options);}
$container[PLUGIN_NAME](options);});$(document).on('keydown.'+NAMESPACE,function(e){if(current&&current.settings.closeOnEscape&&current.state===STATES.OPENED&&e.keyCode===27){current.close();}});$(window).on('hashchange.'+NAMESPACE,handleHashChangeEvent);});});
/*!
 * Flickity PACKAGED v2.1.2
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2018 Metafizzy
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('jquery-bridget/jquery-bridget',['jquery'],function(jQuery){return factory(window,jQuery);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('jquery'));}else{window.jQueryBridget=factory(window,window.jQuery);}}(window,function factory(window,jQuery){'use strict';var arraySlice=Array.prototype.slice;var console=window.console;var logError=typeof console=='undefined'?function(){}:function(message){console.error(message);};function jQueryBridget(namespace,PluginClass,$){$=$||jQuery||window.jQuery;if(!$){return;}
if(!PluginClass.prototype.option){PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts)){return;}
this.options=$.extend(true,this.options,opts);};}
$.fn[namespace]=function(arg0){if(typeof arg0=='string'){var args=arraySlice.call(arguments,1);return methodCall(this,arg0,args);}
plainCall(this,arg0);return this;};function methodCall($elems,methodName,args){var returnValue;var pluginMethodStr='$().'+namespace+'("'+methodName+'")';$elems.each(function(i,elem){var instance=$.data(elem,namespace);if(!instance){logError(namespace+' not initialized. Cannot call methods, i.e. '+
pluginMethodStr);return;}
var method=instance[methodName];if(!method||methodName.charAt(0)=='_'){logError(pluginMethodStr+' is not a valid method');return;}
var value=method.apply(instance,args);returnValue=returnValue===undefined?value:returnValue;});return returnValue!==undefined?returnValue:$elems;}
function plainCall($elems,options){$elems.each(function(i,elem){var instance=$.data(elem,namespace);if(instance){instance.option(options);instance._init();}else{instance=new PluginClass(elem,options);$.data(elem,namespace,instance);}});}
updateJQuery($);}
function updateJQuery($){if(!$||($&&$.bridget)){return;}
$.bridget=jQueryBridget;}
updateJQuery(jQuery||window.jQuery);return jQueryBridget;}));(function(global,factory){if(typeof define=='function'&&define.amd){define('ev-emitter/ev-emitter',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{global.EvEmitter=factory();}}(typeof window!='undefined'?window:this,function(){function EvEmitter(){}
var proto=EvEmitter.prototype;proto.on=function(eventName,listener){if(!eventName||!listener){return;}
var events=this._events=this._events||{};var listeners=events[eventName]=events[eventName]||[];if(listeners.indexOf(listener)==-1){listeners.push(listener);}
return this;};proto.once=function(eventName,listener){if(!eventName||!listener){return;}
this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};var onceListeners=onceEvents[eventName]=onceEvents[eventName]||{};onceListeners[listener]=true;return this;};proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
var index=listeners.indexOf(listener);if(index!=-1){listeners.splice(index,1);}
return this;};proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
listeners=listeners.slice(0);args=args||[];var onceListeners=this._onceEvents&&this._onceEvents[eventName];for(var i=0;i<listeners.length;i++){var listener=listeners[i]
var isOnce=onceListeners&&onceListeners[listener];if(isOnce){this.off(eventName,listener);delete onceListeners[listener];}
listener.apply(this,args);}
return this;};proto.allOff=function(){delete this._events;delete this._onceEvents;};return EvEmitter;}));
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('get-size/get-size',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.getSize=factory();}})(window,function factory(){'use strict';function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf('%')==-1&&!isNaN(num);return isValid&&num;}
function noop(){}
var logError=typeof console=='undefined'?noop:function(message){console.error(message);};var measurements=['paddingLeft','paddingRight','paddingTop','paddingBottom','marginLeft','marginRight','marginTop','marginBottom','borderLeftWidth','borderRightWidth','borderTopWidth','borderBottomWidth'];var measurementsLength=measurements.length;function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];size[measurement]=0;}
return size;}
function getStyle(elem){var style=getComputedStyle(elem);if(!style){logError('Style returned '+style+'. Are you running this code in a hidden iframe on Firefox? '+'See https://bit.ly/getsizebug1');}
return style;}
var isSetup=false;var isBoxSizeOuter;function setup(){if(isSetup){return;}
isSetup=true;var div=document.createElement('div');div.style.width='200px';div.style.padding='1px 2px 3px 4px';div.style.borderStyle='solid';div.style.borderWidth='1px 2px 3px 4px';div.style.boxSizing='border-box';var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=Math.round(getStyleSize(style.width))==200;getSize.isBoxSizeOuter=isBoxSizeOuter;body.removeChild(div);}
function getSize(elem){setup();if(typeof elem=='string'){elem=document.querySelector(elem);}
if(!elem||typeof elem!='object'||!elem.nodeType){return;}
var style=getStyle(elem);if(style.display=='none'){return getZeroSize();}
var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=style.boxSizing=='border-box';for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];var value=style[measurement];var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0;}
var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==false){size.width=styleWidth+
(isBorderBoxSizeOuter?0:paddingWidth+borderWidth);}
var styleHeight=getStyleSize(style.height);if(styleHeight!==false){size.height=styleHeight+
(isBorderBoxSizeOuter?0:paddingHeight+borderHeight);}
size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size;}
return getSize;});(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('desandro-matches-selector/matches-selector',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.matchesSelector=factory();}}(window,function factory(){'use strict';var matchesMethod=(function(){var ElemProto=window.Element.prototype;if(ElemProto.matches){return'matches';}
if(ElemProto.matchesSelector){return'matchesSelector';}
var prefixes=['webkit','moz','ms','o'];for(var i=0;i<prefixes.length;i++){var prefix=prefixes[i];var method=prefix+'MatchesSelector';if(ElemProto[method]){return method;}}})();return function matchesSelector(elem,selector){return elem[matchesMethod](selector);};}));(function(window,factory){if(typeof define=='function'&&define.amd){define('fizzy-ui-utils/utils',['desandro-matches-selector/matches-selector'],function(matchesSelector){return factory(window,matchesSelector);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('desandro-matches-selector'));}else{window.fizzyUIUtils=factory(window,window.matchesSelector);}}(window,function factory(window,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b){a[prop]=b[prop];}
return a;};utils.modulo=function(num,div){return((num%div)+div)%div;};var arraySlice=Array.prototype.slice;utils.makeArray=function(obj){if(Array.isArray(obj)){return obj;}
if(obj===null||obj===undefined){return[];}
var isArrayLike=typeof obj=='object'&&typeof obj.length=='number';if(isArrayLike){return arraySlice.call(obj);}
return[obj];};utils.removeFrom=function(ary,obj){var index=ary.indexOf(obj);if(index!=-1){ary.splice(index,1);}};utils.getParent=function(elem,selector){while(elem.parentNode&&elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector)){return elem;}}};utils.getQueryElement=function(elem){if(typeof elem=='string'){return document.querySelector(elem);}
return elem;};utils.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];elems.forEach(function(elem){if(!(elem instanceof HTMLElement)){return;}
if(!selector){ffElems.push(elem);return;}
if(matchesSelector(elem,selector)){ffElems.push(elem);}
var childElems=elem.querySelectorAll(selector);for(var i=0;i<childElems.length;i++){ffElems.push(childElems[i]);}});return ffElems;};utils.debounceMethod=function(_class,methodName,threshold){threshold=threshold||100;var method=_class.prototype[methodName];var timeoutName=methodName+'Timeout';_class.prototype[methodName]=function(){var timeout=this[timeoutName];clearTimeout(timeout);var args=arguments;var _this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args);delete _this[timeoutName];},threshold);};};utils.docReady=function(callback){var readyState=document.readyState;if(readyState=='complete'||readyState=='interactive'){setTimeout(callback);}else{document.addEventListener('DOMContentLoaded',callback);}};utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+'-'+$2;}).toLowerCase();};var console=window.console;utils.htmlInit=function(WidgetClass,namespace){utils.docReady(function(){var dashedNamespace=utils.toDashed(namespace);var dataAttr='data-'+dashedNamespace;var dataAttrElems=document.querySelectorAll('['+dataAttr+']');var jsDashElems=document.querySelectorAll('.js-'+dashedNamespace);var elems=utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));var dataOptionsAttr=dataAttr+'-options';var jQuery=window.jQuery;elems.forEach(function(elem){var attr=elem.getAttribute(dataAttr)||elem.getAttribute(dataOptionsAttr);var options;try{options=attr&&JSON.parse(attr);}catch(error){if(console){console.error('Error parsing '+dataAttr+' on '+elem.className+': '+error);}
return;}
var instance=new WidgetClass(elem,options);if(jQuery){jQuery.data(elem,namespace,instance);}});});};return utils;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/cell',['get-size/get-size'],function(getSize){return factory(window,getSize);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('get-size'));}else{window.Flickity=window.Flickity||{};window.Flickity.Cell=factory(window,window.getSize);}}(window,function factory(window,getSize){function Cell(elem,parent){this.element=elem;this.parent=parent;this.create();}
var proto=Cell.prototype;proto.create=function(){this.element.style.position='absolute';this.element.setAttribute('aria-selected','false');this.x=0;this.shift=0;};proto.destroy=function(){this.element.style.position='';var side=this.parent.originSide;this.element.removeAttribute('aria-selected');this.element.style[side]='';};proto.getSize=function(){this.size=getSize(this.element);};proto.setPosition=function(x){this.x=x;this.updateTarget();this.renderPosition(x);};proto.updateTarget=proto.setDefaultTarget=function(){var marginProperty=this.parent.originSide=='left'?'marginLeft':'marginRight';this.target=this.x+this.size[marginProperty]+
this.size.width*this.parent.cellAlign;};proto.renderPosition=function(x){var side=this.parent.originSide;this.element.style[side]=this.parent.getPositionValue(x);};proto.wrapShift=function(shift){this.shift=shift;this.renderPosition(this.x+this.parent.slideableWidth*shift);};proto.remove=function(){this.element.parentNode.removeChild(this.element);};return Cell;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/slide',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.Flickity=window.Flickity||{};window.Flickity.Slide=factory();}}(window,function factory(){'use strict';function Slide(parent){this.parent=parent;this.isOriginLeft=parent.originSide=='left';this.cells=[];this.outerWidth=0;this.height=0;}
var proto=Slide.prototype;proto.addCell=function(cell){this.cells.push(cell);this.outerWidth+=cell.size.outerWidth;this.height=Math.max(cell.size.outerHeight,this.height);if(this.cells.length==1){this.x=cell.x;var beginMargin=this.isOriginLeft?'marginLeft':'marginRight';this.firstMargin=cell.size[beginMargin];}};proto.updateTarget=function(){var endMargin=this.isOriginLeft?'marginRight':'marginLeft';var lastCell=this.getLastCell();var lastMargin=lastCell?lastCell.size[endMargin]:0;var slideWidth=this.outerWidth-(this.firstMargin+lastMargin);this.target=this.x+this.firstMargin+slideWidth*this.parent.cellAlign;};proto.getLastCell=function(){return this.cells[this.cells.length-1];};proto.select=function(){this.changeSelected(true);};proto.unselect=function(){this.changeSelected(false);};proto.changeSelected=function(isSelected){var classMethod=isSelected?'add':'remove';this.cells.forEach(function(cell){cell.element.classList[classMethod]('is-selected');cell.element.setAttribute('aria-selected',isSelected.toString());});};proto.getCellElements=function(){return this.cells.map(function(cell){return cell.element;});};return Slide;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/animate',['fizzy-ui-utils/utils'],function(utils){return factory(window,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('fizzy-ui-utils'));}else{window.Flickity=window.Flickity||{};window.Flickity.animatePrototype=factory(window,window.fizzyUIUtils);}}(window,function factory(window,utils){var proto={};proto.startAnimation=function(){if(this.isAnimating){return;}
this.isAnimating=true;this.restingFrames=0;this.animate();};proto.animate=function(){this.applyDragForce();this.applySelectedAttraction();var previousX=this.x;this.integratePhysics();this.positionSlider();this.settle(previousX);if(this.isAnimating){var _this=this;requestAnimationFrame(function animateFrame(){_this.animate();});}};proto.positionSlider=function(){var x=this.x;if(this.options.wrapAround&&this.cells.length>1){x=utils.modulo(x,this.slideableWidth);x=x-this.slideableWidth;this.shiftWrapCells(x);}
x=x+this.cursorPosition;x=this.options.rightToLeft?-x:x;var value=this.getPositionValue(x);this.slider.style.transform=this.isAnimating?'translate3d('+value+',0,0)':'translateX('+value+')';var firstSlide=this.slides[0];if(firstSlide){var positionX=-this.x-firstSlide.target;var progress=positionX/this.slidesWidth;this.dispatchEvent('scroll',null,[progress,positionX]);}};proto.positionSliderAtSelected=function(){if(!this.cells.length){return;}
this.x=-this.selectedSlide.target;this.velocity=0;this.positionSlider();};proto.getPositionValue=function(position){if(this.options.percentPosition){return(Math.round((position/this.size.innerWidth)*10000)*0.01)+'%';}else{return Math.round(position)+'px';}};proto.settle=function(previousX){if(!this.isPointerDown&&Math.round(this.x*100)==Math.round(previousX*100)){this.restingFrames++;}
if(this.restingFrames>2){this.isAnimating=false;delete this.isFreeScrolling;this.positionSlider();this.dispatchEvent('settle',null,[this.selectedIndex]);}};proto.shiftWrapCells=function(x){var beforeGap=this.cursorPosition+x;this._shiftCells(this.beforeShiftCells,beforeGap,-1);var afterGap=this.size.innerWidth-(x+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,afterGap,1);};proto._shiftCells=function(cells,gap,shift){for(var i=0;i<cells.length;i++){var cell=cells[i];var cellShift=gap>0?shift:0;cell.wrapShift(cellShift);gap-=cell.size.outerWidth;}};proto._unshiftCells=function(cells){if(!cells||!cells.length){return;}
for(var i=0;i<cells.length;i++){cells[i].wrapShift(0);}};proto.integratePhysics=function(){this.x+=this.velocity;this.velocity*=this.getFrictionFactor();};proto.applyForce=function(force){this.velocity+=force;};proto.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?'freeScrollFriction':'friction'];};proto.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor());};proto.applyDragForce=function(){if(!this.isDraggable||!this.isPointerDown){return;}
var dragVelocity=this.dragX-this.x;var dragForce=dragVelocity-this.velocity;this.applyForce(dragForce);};proto.applySelectedAttraction=function(){var dragDown=this.isDraggable&&this.isPointerDown;if(dragDown||this.isFreeScrolling||!this.slides.length){return;}
var distance=this.selectedSlide.target*-1-this.x;var force=distance*this.options.selectedAttraction;this.applyForce(force);};return proto;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/flickity',['ev-emitter/ev-emitter','get-size/get-size','fizzy-ui-utils/utils','./cell','./slide','./animate'],function(EvEmitter,getSize,utils,Cell,Slide,animatePrototype){return factory(window,EvEmitter,getSize,utils,Cell,Slide,animatePrototype);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'),require('get-size'),require('fizzy-ui-utils'),require('./cell'),require('./slide'),require('./animate'));}else{var _Flickity=window.Flickity;window.Flickity=factory(window,window.EvEmitter,window.getSize,window.fizzyUIUtils,_Flickity.Cell,_Flickity.Slide,_Flickity.animatePrototype);}}(window,function factory(window,EvEmitter,getSize,utils,Cell,Slide,animatePrototype){var jQuery=window.jQuery;var getComputedStyle=window.getComputedStyle;var console=window.console;function moveElements(elems,toElem){elems=utils.makeArray(elems);while(elems.length){toElem.appendChild(elems.shift());}}
var GUID=0;var instances={};function Flickity(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){if(console){console.error('Bad element for Flickity: '+(queryElement||element));}
return;}
this.element=queryElement;if(this.element.flickityGUID){var instance=instances[this.element.flickityGUID];instance.option(options);return instance;}
if(jQuery){this.$element=jQuery(this.element);}
this.options=utils.extend({},this.constructor.defaults);this.option(options);this._create();}
Flickity.defaults={accessibility:true,cellAlign:'center',freeScrollFriction:0.075,friction:0.28,namespaceJQueryEvents:true,percentPosition:true,resize:true,selectedAttraction:0.025,setGallerySize:true};Flickity.createMethods=[];var proto=Flickity.prototype;utils.extend(proto,EvEmitter.prototype);proto._create=function(){var id=this.guid=++GUID;this.element.flickityGUID=id;instances[id]=this;this.selectedIndex=0;this.restingFrames=0;this.x=0;this.velocity=0;this.originSide=this.options.rightToLeft?'right':'left';this.viewport=document.createElement('div');this.viewport.className='flickity-viewport';this._createSlider();if(this.options.resize||this.options.watchCSS){window.addEventListener('resize',this);}
for(var eventName in this.options.on){var listener=this.options.on[eventName];this.on(eventName,listener);}
Flickity.createMethods.forEach(function(method){this[method]();},this);if(this.options.watchCSS){this.watchCSS();}else{this.activate();}};proto.option=function(opts){utils.extend(this.options,opts);};proto.activate=function(){if(this.isActive){return;}
this.isActive=true;this.element.classList.add('flickity-enabled');if(this.options.rightToLeft){this.element.classList.add('flickity-rtl');}
this.getSize();var cellElems=this._filterFindCellElements(this.element.children);moveElements(cellElems,this.slider);this.viewport.appendChild(this.slider);this.element.appendChild(this.viewport);this.reloadCells();if(this.options.accessibility){this.element.tabIndex=0;this.element.addEventListener('keydown',this);}
this.emitEvent('activate');var index;var initialIndex=this.options.initialIndex;if(this.isInitActivated){index=this.selectedIndex;}else if(initialIndex!==undefined){index=this.cells[initialIndex]?initialIndex:0;}else{index=0;}
this.select(index,false,true);this.isInitActivated=true;this.dispatchEvent('ready');};proto._createSlider=function(){var slider=document.createElement('div');slider.className='flickity-slider';slider.style[this.originSide]=0;this.slider=slider;};proto._filterFindCellElements=function(elems){return utils.filterFindElements(elems,this.options.cellSelector);};proto.reloadCells=function(){this.cells=this._makeCells(this.slider.children);this.positionCells();this._getWrapShiftCells();this.setGallerySize();};proto._makeCells=function(elems){var cellElems=this._filterFindCellElements(elems);var cells=cellElems.map(function(cellElem){return new Cell(cellElem,this);},this);return cells;};proto.getLastCell=function(){return this.cells[this.cells.length-1];};proto.getLastSlide=function(){return this.slides[this.slides.length-1];};proto.positionCells=function(){this._sizeCells(this.cells);this._positionCells(0);};proto._positionCells=function(index){index=index||0;this.maxCellHeight=index?this.maxCellHeight||0:0;var cellX=0;if(index>0){var startCell=this.cells[index-1];cellX=startCell.x+startCell.size.outerWidth;}
var len=this.cells.length;for(var i=index;i<len;i++){var cell=this.cells[i];cell.setPosition(cellX);cellX+=cell.size.outerWidth;this.maxCellHeight=Math.max(cell.size.outerHeight,this.maxCellHeight);}
this.slideableWidth=cellX;this.updateSlides();this._containSlides();this.slidesWidth=len?this.getLastSlide().target-this.slides[0].target:0;};proto._sizeCells=function(cells){cells.forEach(function(cell){cell.getSize();});};proto.updateSlides=function(){this.slides=[];if(!this.cells.length){return;}
var slide=new Slide(this);this.slides.push(slide);var isOriginLeft=this.originSide=='left';var nextMargin=isOriginLeft?'marginRight':'marginLeft';var canCellFit=this._getCanCellFit();this.cells.forEach(function(cell,i){if(!slide.cells.length){slide.addCell(cell);return;}
var slideWidth=(slide.outerWidth-slide.firstMargin)+
(cell.size.outerWidth-cell.size[nextMargin]);if(canCellFit.call(this,i,slideWidth)){slide.addCell(cell);}else{slide.updateTarget();slide=new Slide(this);this.slides.push(slide);slide.addCell(cell);}},this);slide.updateTarget();this.updateSelectedSlide();};proto._getCanCellFit=function(){var groupCells=this.options.groupCells;if(!groupCells){return function(){return false;};}else if(typeof groupCells=='number'){var number=parseInt(groupCells,10);return function(i){return(i%number)!==0;};}
var percentMatch=typeof groupCells=='string'&&groupCells.match(/^(\d+)%$/);var percent=percentMatch?parseInt(percentMatch[1],10)/100:1;return function(i,slideWidth){return slideWidth<=(this.size.innerWidth+1)*percent;};};proto._init=proto.reposition=function(){this.positionCells();this.positionSliderAtSelected();};proto.getSize=function(){this.size=getSize(this.element);this.setCellAlign();this.cursorPosition=this.size.innerWidth*this.cellAlign;};var cellAlignShorthands={center:{left:0.5,right:0.5},left:{left:0,right:1},right:{right:0,left:1}};proto.setCellAlign=function(){var shorthand=cellAlignShorthands[this.options.cellAlign];this.cellAlign=shorthand?shorthand[this.originSide]:this.options.cellAlign;};proto.setGallerySize=function(){if(this.options.setGallerySize){var height=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=height+'px';}};proto._getWrapShiftCells=function(){if(!this.options.wrapAround){return;}
this._unshiftCells(this.beforeShiftCells);this._unshiftCells(this.afterShiftCells);var gapX=this.cursorPosition;var cellIndex=this.cells.length-1;this.beforeShiftCells=this._getGapCells(gapX,cellIndex,-1);gapX=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(gapX,0,1);};proto._getGapCells=function(gapX,cellIndex,increment){var cells=[];while(gapX>0){var cell=this.cells[cellIndex];if(!cell){break;}
cells.push(cell);cellIndex+=increment;gapX-=cell.size.outerWidth;}
return cells;};proto._containSlides=function(){if(!this.options.contain||this.options.wrapAround||!this.cells.length){return;}
var isRightToLeft=this.options.rightToLeft;var beginMargin=isRightToLeft?'marginRight':'marginLeft';var endMargin=isRightToLeft?'marginLeft':'marginRight';var contentWidth=this.slideableWidth-this.getLastCell().size[endMargin];var isContentSmaller=contentWidth<this.size.innerWidth;var beginBound=this.cursorPosition+this.cells[0].size[beginMargin];var endBound=contentWidth-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(slide){if(isContentSmaller){slide.target=contentWidth*this.cellAlign;}else{slide.target=Math.max(slide.target,beginBound);slide.target=Math.min(slide.target,endBound);}},this);};proto.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;this.emitEvent(type,emitArgs);if(jQuery&&this.$element){type+=this.options.namespaceJQueryEvents?'.flickity':'';var $event=type;if(event){var jQEvent=jQuery.Event(event);jQEvent.type=type;$event=jQEvent;}
this.$element.trigger($event,args);}};proto.select=function(index,isWrap,isInstant){if(!this.isActive){return;}
index=parseInt(index,10);this._wrapSelect(index);if(this.options.wrapAround||isWrap){index=utils.modulo(index,this.slides.length);}
if(!this.slides[index]){return;}
var prevIndex=this.selectedIndex;this.selectedIndex=index;this.updateSelectedSlide();if(isInstant){this.positionSliderAtSelected();}else{this.startAnimation();}
if(this.options.adaptiveHeight){this.setGallerySize();}
this.dispatchEvent('select',null,[index]);if(index!=prevIndex){this.dispatchEvent('change',null,[index]);}
this.dispatchEvent('cellSelect');};proto._wrapSelect=function(index){var len=this.slides.length;var isWrapping=this.options.wrapAround&&len>1;if(!isWrapping){return index;}
var wrapIndex=utils.modulo(index,len);var delta=Math.abs(wrapIndex-this.selectedIndex);var backWrapDelta=Math.abs((wrapIndex+len)-this.selectedIndex);var forewardWrapDelta=Math.abs((wrapIndex-len)-this.selectedIndex);if(!this.isDragSelect&&backWrapDelta<delta){index+=len;}else if(!this.isDragSelect&&forewardWrapDelta<delta){index-=len;}
if(index<0){this.x-=this.slideableWidth;}else if(index>=len){this.x+=this.slideableWidth;}};proto.previous=function(isWrap,isInstant){this.select(this.selectedIndex-1,isWrap,isInstant);};proto.next=function(isWrap,isInstant){this.select(this.selectedIndex+1,isWrap,isInstant);};proto.updateSelectedSlide=function(){var slide=this.slides[this.selectedIndex];if(!slide){return;}
this.unselectSelectedSlide();this.selectedSlide=slide;slide.select();this.selectedCells=slide.cells;this.selectedElements=slide.getCellElements();this.selectedCell=slide.cells[0];this.selectedElement=this.selectedElements[0];};proto.unselectSelectedSlide=function(){if(this.selectedSlide){this.selectedSlide.unselect();}};proto.selectCell=function(value,isWrap,isInstant){var cell=this.queryCell(value);if(!cell){return;}
var index=this.getCellSlideIndex(cell);this.select(index,isWrap,isInstant);};proto.getCellSlideIndex=function(cell){for(var i=0;i<this.slides.length;i++){var slide=this.slides[i];var index=slide.cells.indexOf(cell);if(index!=-1){return i;}}};proto.getCell=function(elem){for(var i=0;i<this.cells.length;i++){var cell=this.cells[i];if(cell.element==elem){return cell;}}};proto.getCells=function(elems){elems=utils.makeArray(elems);var cells=[];elems.forEach(function(elem){var cell=this.getCell(elem);if(cell){cells.push(cell);}},this);return cells;};proto.getCellElements=function(){return this.cells.map(function(cell){return cell.element;});};proto.getParentCell=function(elem){var cell=this.getCell(elem);if(cell){return cell;}
elem=utils.getParent(elem,'.flickity-slider > *');return this.getCell(elem);};proto.getAdjacentCellElements=function(adjCount,index){if(!adjCount){return this.selectedSlide.getCellElements();}
index=index===undefined?this.selectedIndex:index;var len=this.slides.length;if(1+(adjCount*2)>=len){return this.getCellElements();}
var cellElems=[];for(var i=index-adjCount;i<=index+adjCount;i++){var slideIndex=this.options.wrapAround?utils.modulo(i,len):i;var slide=this.slides[slideIndex];if(slide){cellElems=cellElems.concat(slide.getCellElements());}}
return cellElems;};proto.queryCell=function(selector){if(typeof selector=='number'){return this.cells[selector];}
if(typeof selector=='string'){selector=this.element.querySelector(selector);}
return this.getCell(selector);};proto.uiChange=function(){this.emitEvent('uiChange');};proto.childUIPointerDown=function(event){this.emitEvent('childUIPointerDown',[event]);};proto.onresize=function(){this.watchCSS();this.resize();};utils.debounceMethod(Flickity,'onresize',150);proto.resize=function(){if(!this.isActive){return;}
this.getSize();if(this.options.wrapAround){this.x=utils.modulo(this.x,this.slideableWidth);}
this.positionCells();this._getWrapShiftCells();this.setGallerySize();this.emitEvent('resize');var selectedElement=this.selectedElements&&this.selectedElements[0];this.selectCell(selectedElement,false,true);};proto.watchCSS=function(){var watchOption=this.options.watchCSS;if(!watchOption){return;}
var afterContent=getComputedStyle(this.element,':after').content;if(afterContent.indexOf('flickity')!=-1){this.activate();}else{this.deactivate();}};proto.onkeydown=function(event){var isNotFocused=document.activeElement&&document.activeElement!=this.element;if(!this.options.accessibility||isNotFocused){return;}
var handler=Flickity.keyboardHandlers[event.keyCode];if(handler){handler.call(this);}};Flickity.keyboardHandlers={37:function(){var leftMethod=this.options.rightToLeft?'next':'previous';this.uiChange();this[leftMethod]();},39:function(){var rightMethod=this.options.rightToLeft?'previous':'next';this.uiChange();this[rightMethod]();},};proto.focus=function(){var prevScrollY=window.pageYOffset;this.element.focus({preventScroll:true});if(window.pageYOffset!=prevScrollY){window.scrollTo(window.pageXOffset,prevScrollY);}};proto.deactivate=function(){if(!this.isActive){return;}
this.element.classList.remove('flickity-enabled');this.element.classList.remove('flickity-rtl');this.unselectSelectedSlide();this.cells.forEach(function(cell){cell.destroy();});this.element.removeChild(this.viewport);moveElements(this.slider.children,this.element);if(this.options.accessibility){this.element.removeAttribute('tabIndex');this.element.removeEventListener('keydown',this);}
this.isActive=false;this.emitEvent('deactivate');};proto.destroy=function(){this.deactivate();window.removeEventListener('resize',this);this.emitEvent('destroy');if(jQuery&&this.$element){jQuery.removeData(this.element,'flickity');}
delete this.element.flickityGUID;delete instances[this.guid];};utils.extend(proto,animatePrototype);Flickity.data=function(elem){elem=utils.getQueryElement(elem);var id=elem&&elem.flickityGUID;return id&&instances[id];};utils.htmlInit(Flickity,'flickity');if(jQuery&&jQuery.bridget){jQuery.bridget('flickity',Flickity);}
Flickity.setJQuery=function(jq){jQuery=jq;};Flickity.Cell=Cell;return Flickity;}));
/*!
 * Unipointer v2.3.0
 * base class for doing one thing with pointer event
 * MIT license
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('unipointer/unipointer',['ev-emitter/ev-emitter'],function(EvEmitter){return factory(window,EvEmitter);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'));}else{window.Unipointer=factory(window,window.EvEmitter);}}(window,function factory(window,EvEmitter){function noop(){}
function Unipointer(){}
var proto=Unipointer.prototype=Object.create(EvEmitter.prototype);proto.bindStartEvent=function(elem){this._bindStartEvent(elem,true);};proto.unbindStartEvent=function(elem){this._bindStartEvent(elem,false);};proto._bindStartEvent=function(elem,isAdd){isAdd=isAdd===undefined?true:isAdd;var bindMethod=isAdd?'addEventListener':'removeEventListener';var startEvent='mousedown';if(window.PointerEvent){startEvent='pointerdown';}else if('ontouchstart'in window){startEvent='touchstart';}
elem[bindMethod](startEvent,this);};proto.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};proto.getTouch=function(touches){for(var i=0;i<touches.length;i++){var touch=touches[i];if(touch.identifier==this.pointerIdentifier){return touch;}}};proto.onmousedown=function(event){var button=event.button;if(button&&(button!==0&&button!==1)){return;}
this._pointerDown(event,event);};proto.ontouchstart=function(event){this._pointerDown(event,event.changedTouches[0]);};proto.onpointerdown=function(event){this._pointerDown(event,event);};proto._pointerDown=function(event,pointer){if(event.button||this.isPointerDown){return;}
this.isPointerDown=true;this.pointerIdentifier=pointer.pointerId!==undefined?pointer.pointerId:pointer.identifier;this.pointerDown(event,pointer);};proto.pointerDown=function(event,pointer){this._bindPostStartEvents(event);this.emitEvent('pointerDown',[event,pointer]);};var postStartEvents={mousedown:['mousemove','mouseup'],touchstart:['touchmove','touchend','touchcancel'],pointerdown:['pointermove','pointerup','pointercancel'],};proto._bindPostStartEvents=function(event){if(!event){return;}
var events=postStartEvents[event.type];events.forEach(function(eventName){window.addEventListener(eventName,this);},this);this._boundPointerEvents=events;};proto._unbindPostStartEvents=function(){if(!this._boundPointerEvents){return;}
this._boundPointerEvents.forEach(function(eventName){window.removeEventListener(eventName,this);},this);delete this._boundPointerEvents;};proto.onmousemove=function(event){this._pointerMove(event,event);};proto.onpointermove=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerMove(event,event);}};proto.ontouchmove=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerMove(event,touch);}};proto._pointerMove=function(event,pointer){this.pointerMove(event,pointer);};proto.pointerMove=function(event,pointer){this.emitEvent('pointerMove',[event,pointer]);};proto.onmouseup=function(event){this._pointerUp(event,event);};proto.onpointerup=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerUp(event,event);}};proto.ontouchend=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerUp(event,touch);}};proto._pointerUp=function(event,pointer){this._pointerDone();this.pointerUp(event,pointer);};proto.pointerUp=function(event,pointer){this.emitEvent('pointerUp',[event,pointer]);};proto._pointerDone=function(){this._pointerReset();this._unbindPostStartEvents();this.pointerDone();};proto._pointerReset=function(){this.isPointerDown=false;delete this.pointerIdentifier;};proto.pointerDone=noop;proto.onpointercancel=function(event){if(event.pointerId==this.pointerIdentifier){this._pointerCancel(event,event);}};proto.ontouchcancel=function(event){var touch=this.getTouch(event.changedTouches);if(touch){this._pointerCancel(event,touch);}};proto._pointerCancel=function(event,pointer){this._pointerDone();this.pointerCancel(event,pointer);};proto.pointerCancel=function(event,pointer){this.emitEvent('pointerCancel',[event,pointer]);};Unipointer.getPointerPoint=function(pointer){return{x:pointer.pageX,y:pointer.pageY};};return Unipointer;}));
/*!
 * Unidragger v2.3.0
 * Draggable base class
 * MIT license
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('unidragger/unidragger',['unipointer/unipointer'],function(Unipointer){return factory(window,Unipointer);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('unipointer'));}else{window.Unidragger=factory(window,window.Unipointer);}}(window,function factory(window,Unipointer){function Unidragger(){}
var proto=Unidragger.prototype=Object.create(Unipointer.prototype);proto.bindHandles=function(){this._bindHandles(true);};proto.unbindHandles=function(){this._bindHandles(false);};proto._bindHandles=function(isAdd){isAdd=isAdd===undefined?true:isAdd;var bindMethod=isAdd?'addEventListener':'removeEventListener';var touchAction=isAdd?this._touchActionValue:'';for(var i=0;i<this.handles.length;i++){var handle=this.handles[i];this._bindStartEvent(handle,isAdd);handle[bindMethod]('click',this);if(window.PointerEvent){handle.style.touchAction=touchAction;}}};proto._touchActionValue='none';proto.pointerDown=function(event,pointer){var isOkay=this.okayPointerDown(event);if(!isOkay){return;}
this.pointerDownPointer=pointer;event.preventDefault();this.pointerDownBlur();this._bindPostStartEvents(event);this.emitEvent('pointerDown',[event,pointer]);};var cursorNodes={TEXTAREA:true,INPUT:true,SELECT:true,OPTION:true,};var clickTypes={radio:true,checkbox:true,button:true,submit:true,image:true,file:true,};proto.okayPointerDown=function(event){var isCursorNode=cursorNodes[event.target.nodeName];var isClickType=clickTypes[event.target.type];var isOkay=!isCursorNode||isClickType;if(!isOkay){this._pointerReset();}
return isOkay;};proto.pointerDownBlur=function(){var focused=document.activeElement;var canBlur=focused&&focused.blur&&focused!=document.body;if(canBlur){focused.blur();}};proto.pointerMove=function(event,pointer){var moveVector=this._dragPointerMove(event,pointer);this.emitEvent('pointerMove',[event,pointer,moveVector]);this._dragMove(event,pointer,moveVector);};proto._dragPointerMove=function(event,pointer){var moveVector={x:pointer.pageX-this.pointerDownPointer.pageX,y:pointer.pageY-this.pointerDownPointer.pageY};if(!this.isDragging&&this.hasDragStarted(moveVector)){this._dragStart(event,pointer);}
return moveVector;};proto.hasDragStarted=function(moveVector){return Math.abs(moveVector.x)>3||Math.abs(moveVector.y)>3;};proto.pointerUp=function(event,pointer){this.emitEvent('pointerUp',[event,pointer]);this._dragPointerUp(event,pointer);};proto._dragPointerUp=function(event,pointer){if(this.isDragging){this._dragEnd(event,pointer);}else{this._staticClick(event,pointer);}};proto._dragStart=function(event,pointer){this.isDragging=true;this.isPreventingClicks=true;this.dragStart(event,pointer);};proto.dragStart=function(event,pointer){this.emitEvent('dragStart',[event,pointer]);};proto._dragMove=function(event,pointer,moveVector){if(!this.isDragging){return;}
this.dragMove(event,pointer,moveVector);};proto.dragMove=function(event,pointer,moveVector){event.preventDefault();this.emitEvent('dragMove',[event,pointer,moveVector]);};proto._dragEnd=function(event,pointer){this.isDragging=false;setTimeout(function(){delete this.isPreventingClicks;}.bind(this));this.dragEnd(event,pointer);};proto.dragEnd=function(event,pointer){this.emitEvent('dragEnd',[event,pointer]);};proto.onclick=function(event){if(this.isPreventingClicks){event.preventDefault();}};proto._staticClick=function(event,pointer){if(this.isIgnoringMouseUp&&event.type=='mouseup'){return;}
this.staticClick(event,pointer);if(event.type!='mouseup'){this.isIgnoringMouseUp=true;setTimeout(function(){delete this.isIgnoringMouseUp;}.bind(this),400);}};proto.staticClick=function(event,pointer){this.emitEvent('staticClick',[event,pointer]);};Unidragger.getPointerPoint=Unipointer.getPointerPoint;return Unidragger;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/drag',['./flickity','unidragger/unidragger','fizzy-ui-utils/utils'],function(Flickity,Unidragger,utils){return factory(window,Flickity,Unidragger,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('unidragger'),require('fizzy-ui-utils'));}else{window.Flickity=factory(window,window.Flickity,window.Unidragger,window.fizzyUIUtils);}}(window,function factory(window,Flickity,Unidragger,utils){utils.extend(Flickity.defaults,{draggable:'>1',dragThreshold:3,});Flickity.createMethods.push('_createDrag');var proto=Flickity.prototype;utils.extend(proto,Unidragger.prototype);proto._touchActionValue='pan-y';var isTouch='createTouch'in document;var isTouchmoveScrollCanceled=false;proto._createDrag=function(){this.on('activate',this.onActivateDrag);this.on('uiChange',this._uiChangeDrag);this.on('childUIPointerDown',this._childUIPointerDownDrag);this.on('deactivate',this.onDeactivateDrag);this.on('cellChange',this.updateDraggable);if(isTouch&&!isTouchmoveScrollCanceled){window.addEventListener('touchmove',function(){});isTouchmoveScrollCanceled=true;}};proto.onActivateDrag=function(){this.handles=[this.viewport];this.bindHandles();this.updateDraggable();};proto.onDeactivateDrag=function(){this.unbindHandles();this.element.classList.remove('is-draggable');};proto.updateDraggable=function(){if(this.options.draggable=='>1'){this.isDraggable=this.slides.length>1;}else{this.isDraggable=this.options.draggable;}
if(this.isDraggable){this.element.classList.add('is-draggable');}else{this.element.classList.remove('is-draggable');}};proto.bindDrag=function(){this.options.draggable=true;this.updateDraggable();};proto.unbindDrag=function(){this.options.draggable=false;this.updateDraggable();};proto._uiChangeDrag=function(){delete this.isFreeScrolling;};proto._childUIPointerDownDrag=function(event){event.preventDefault();this.pointerDownFocus(event);};proto.pointerDown=function(event,pointer){if(!this.isDraggable){this._pointerDownDefault(event,pointer);return;}
var isOkay=this.okayPointerDown(event);if(!isOkay){return;}
this._pointerDownPreventDefault(event);this.pointerDownFocus(event);if(document.activeElement!=this.element){this.pointerDownBlur();}
this.dragX=this.x;this.viewport.classList.add('is-pointer-down');this.pointerDownScroll=getScrollPosition();window.addEventListener('scroll',this);this._pointerDownDefault(event,pointer);};proto._pointerDownDefault=function(event,pointer){this.pointerDownPointer=pointer;this._bindPostStartEvents(event);this.dispatchEvent('pointerDown',event,[pointer]);};var focusNodes={INPUT:true,TEXTAREA:true,SELECT:true,};proto.pointerDownFocus=function(event){var isFocusNode=focusNodes[event.target.nodeName];if(!isFocusNode){this.focus();}};proto._pointerDownPreventDefault=function(event){var isTouchStart=event.type=='touchstart';var isTouchPointer=event.pointerType=='touch';var isFocusNode=focusNodes[event.target.nodeName];if(!isTouchStart&&!isTouchPointer&&!isFocusNode){event.preventDefault();}};proto.hasDragStarted=function(moveVector){return Math.abs(moveVector.x)>this.options.dragThreshold;};proto.pointerUp=function(event,pointer){delete this.isTouchScrolling;this.viewport.classList.remove('is-pointer-down');this.dispatchEvent('pointerUp',event,[pointer]);this._dragPointerUp(event,pointer);};proto.pointerDone=function(){window.removeEventListener('scroll',this);delete this.pointerDownScroll;};proto.dragStart=function(event,pointer){if(!this.isDraggable){return;}
this.dragStartPosition=this.x;this.startAnimation();window.removeEventListener('scroll',this);this.dispatchEvent('dragStart',event,[pointer]);};proto.pointerMove=function(event,pointer){var moveVector=this._dragPointerMove(event,pointer);this.dispatchEvent('pointerMove',event,[pointer,moveVector]);this._dragMove(event,pointer,moveVector);};proto.dragMove=function(event,pointer,moveVector){if(!this.isDraggable){return;}
event.preventDefault();this.previousDragX=this.dragX;var direction=this.options.rightToLeft?-1:1;if(this.options.wrapAround){moveVector.x=moveVector.x%this.slideableWidth;}
var dragX=this.dragStartPosition+moveVector.x*direction;if(!this.options.wrapAround&&this.slides.length){var originBound=Math.max(-this.slides[0].target,this.dragStartPosition);dragX=dragX>originBound?(dragX+originBound)*0.5:dragX;var endBound=Math.min(-this.getLastSlide().target,this.dragStartPosition);dragX=dragX<endBound?(dragX+endBound)*0.5:dragX;}
this.dragX=dragX;this.dragMoveTime=new Date();this.dispatchEvent('dragMove',event,[pointer,moveVector]);};proto.dragEnd=function(event,pointer){if(!this.isDraggable){return;}
if(this.options.freeScroll){this.isFreeScrolling=true;}
var index=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var restingX=this.getRestingPosition();this.isFreeScrolling=-restingX>this.slides[0].target&&-restingX<this.getLastSlide().target;}else if(!this.options.freeScroll&&index==this.selectedIndex){index+=this.dragEndBoostSelect();}
delete this.previousDragX;this.isDragSelect=this.options.wrapAround;this.select(index);delete this.isDragSelect;this.dispatchEvent('dragEnd',event,[pointer]);};proto.dragEndRestingSelect=function(){var restingX=this.getRestingPosition();var distance=Math.abs(this.getSlideDistance(-restingX,this.selectedIndex));var positiveResting=this._getClosestResting(restingX,distance,1);var negativeResting=this._getClosestResting(restingX,distance,-1);var index=positiveResting.distance<negativeResting.distance?positiveResting.index:negativeResting.index;return index;};proto._getClosestResting=function(restingX,distance,increment){var index=this.selectedIndex;var minDistance=Infinity;var condition=this.options.contain&&!this.options.wrapAround?function(d,md){return d<=md;}:function(d,md){return d<md;};while(condition(distance,minDistance)){index+=increment;minDistance=distance;distance=this.getSlideDistance(-restingX,index);if(distance===null){break;}
distance=Math.abs(distance);}
return{distance:minDistance,index:index-increment};};proto.getSlideDistance=function(x,index){var len=this.slides.length;var isWrapAround=this.options.wrapAround&&len>1;var slideIndex=isWrapAround?utils.modulo(index,len):index;var slide=this.slides[slideIndex];if(!slide){return null;}
var wrap=isWrapAround?this.slideableWidth*Math.floor(index/len):0;return x-(slide.target+wrap);};proto.dragEndBoostSelect=function(){if(this.previousDragX===undefined||!this.dragMoveTime||new Date()-this.dragMoveTime>100){return 0;}
var distance=this.getSlideDistance(-this.dragX,this.selectedIndex);var delta=this.previousDragX-this.dragX;if(distance>0&&delta>0){return 1;}else if(distance<0&&delta<0){return-1;}
return 0;};proto.staticClick=function(event,pointer){var clickedCell=this.getParentCell(event.target);var cellElem=clickedCell&&clickedCell.element;var cellIndex=clickedCell&&this.cells.indexOf(clickedCell);this.dispatchEvent('staticClick',event,[pointer,cellElem,cellIndex]);};proto.onscroll=function(){var scroll=getScrollPosition();var scrollMoveX=this.pointerDownScroll.x-scroll.x;var scrollMoveY=this.pointerDownScroll.y-scroll.y;if(Math.abs(scrollMoveX)>3||Math.abs(scrollMoveY)>3){this._pointerDone();}};function getScrollPosition(){return{x:window.pageXOffset,y:window.pageYOffset};}
return Flickity;}));
/*!
 * Tap listener v2.0.0
 * listens to taps
 * MIT license
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('tap-listener/tap-listener',['unipointer/unipointer'],function(Unipointer){return factory(window,Unipointer);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('unipointer'));}else{window.TapListener=factory(window,window.Unipointer);}}(window,function factory(window,Unipointer){function TapListener(elem){this.bindTap(elem);}
var proto=TapListener.prototype=Object.create(Unipointer.prototype);proto.bindTap=function(elem){if(!elem){return;}
this.unbindTap();this.tapElement=elem;this._bindStartEvent(elem,true);};proto.unbindTap=function(){if(!this.tapElement){return;}
this._bindStartEvent(this.tapElement,true);delete this.tapElement;};proto.pointerUp=function(event,pointer){if(this.isIgnoringMouseUp&&event.type=='mouseup'){return;}
var pointerPoint=Unipointer.getPointerPoint(pointer);var boundingRect=this.tapElement.getBoundingClientRect();var scrollX=window.pageXOffset;var scrollY=window.pageYOffset;var isInside=pointerPoint.x>=boundingRect.left+scrollX&&pointerPoint.x<=boundingRect.right+scrollX&&pointerPoint.y>=boundingRect.top+scrollY&&pointerPoint.y<=boundingRect.bottom+scrollY;if(isInside){this.emitEvent('tap',[event,pointer]);}
if(event.type!='mouseup'){this.isIgnoringMouseUp=true;var _this=this;setTimeout(function(){delete _this.isIgnoringMouseUp;},400);}};proto.destroy=function(){this.pointerDone();this.unbindTap();};return TapListener;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/prev-next-button',['./flickity','tap-listener/tap-listener','fizzy-ui-utils/utils'],function(Flickity,TapListener,utils){return factory(window,Flickity,TapListener,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('tap-listener'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.TapListener,window.fizzyUIUtils);}}(window,function factory(window,Flickity,TapListener,utils){'use strict';var svgURI='http://www.w3.org/2000/svg';function PrevNextButton(direction,parent){this.direction=direction;this.parent=parent;this._create();}
PrevNextButton.prototype=Object.create(TapListener.prototype);PrevNextButton.prototype._create=function(){this.isEnabled=true;this.isPrevious=this.direction==-1;var leftDirection=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==leftDirection;var element=this.element=document.createElement('button');element.className='flickity-button flickity-prev-next-button';element.className+=this.isPrevious?' previous':' next';element.setAttribute('type','button');this.disable();element.setAttribute('aria-label',this.isPrevious?'Previous':'Next');var svg=this.createSVG();element.appendChild(svg);this.on('tap',this.onTap);this.parent.on('select',this.update.bind(this));this.on('pointerDown',this.parent.childUIPointerDown.bind(this.parent));};PrevNextButton.prototype.activate=function(){this.bindTap(this.element);this.element.addEventListener('click',this);this.parent.element.appendChild(this.element);};PrevNextButton.prototype.deactivate=function(){this.parent.element.removeChild(this.element);TapListener.prototype.destroy.call(this);this.element.removeEventListener('click',this);};PrevNextButton.prototype.createSVG=function(){var svg=document.createElementNS(svgURI,'svg');svg.setAttribute('class','flickity-button-icon');svg.setAttribute('viewBox','0 0 100 100');var path=document.createElementNS(svgURI,'path');var pathMovements=getArrowMovements(this.parent.options.arrowShape);path.setAttribute('d',pathMovements);path.setAttribute('class','arrow');if(!this.isLeft){path.setAttribute('transform','translate(100, 100) rotate(180) ');}
svg.appendChild(path);return svg;};function getArrowMovements(shape){if(typeof shape=='string'){return shape;}
return'M '+shape.x0+',50'+' L '+shape.x1+','+(shape.y1+50)+' L '+shape.x2+','+(shape.y2+50)+' L '+shape.x3+',50 '+' L '+shape.x2+','+(50-shape.y2)+' L '+shape.x1+','+(50-shape.y1)+' Z';}
PrevNextButton.prototype.onTap=function(){if(!this.isEnabled){return;}
this.parent.uiChange();var method=this.isPrevious?'previous':'next';this.parent[method]();};PrevNextButton.prototype.handleEvent=utils.handleEvent;PrevNextButton.prototype.onclick=function(event){var focused=document.activeElement;if(focused&&focused==this.element){this.onTap(event,event);}};PrevNextButton.prototype.enable=function(){if(this.isEnabled){return;}
this.element.disabled=false;this.isEnabled=true;};PrevNextButton.prototype.disable=function(){if(!this.isEnabled){return;}
this.element.disabled=true;this.isEnabled=false;};PrevNextButton.prototype.update=function(){var slides=this.parent.slides;if(this.parent.options.wrapAround&&slides.length>1){this.enable();return;}
var lastIndex=slides.length?slides.length-1:0;var boundIndex=this.isPrevious?0:lastIndex;var method=this.parent.selectedIndex==boundIndex?'disable':'enable';this[method]();};PrevNextButton.prototype.destroy=function(){this.deactivate();};utils.extend(Flickity.defaults,{prevNextButtons:true,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}});Flickity.createMethods.push('_createPrevNextButtons');var proto=Flickity.prototype;proto._createPrevNextButtons=function(){if(!this.options.prevNextButtons){return;}
this.prevButton=new PrevNextButton(-1,this);this.nextButton=new PrevNextButton(1,this);this.on('activate',this.activatePrevNextButtons);};proto.activatePrevNextButtons=function(){this.prevButton.activate();this.nextButton.activate();this.on('deactivate',this.deactivatePrevNextButtons);};proto.deactivatePrevNextButtons=function(){this.prevButton.deactivate();this.nextButton.deactivate();this.off('deactivate',this.deactivatePrevNextButtons);};Flickity.PrevNextButton=PrevNextButton;return Flickity;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/page-dots',['./flickity','tap-listener/tap-listener','fizzy-ui-utils/utils'],function(Flickity,TapListener,utils){return factory(window,Flickity,TapListener,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('tap-listener'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.TapListener,window.fizzyUIUtils);}}(window,function factory(window,Flickity,TapListener,utils){function PageDots(parent){this.parent=parent;this._create();}
PageDots.prototype=new TapListener();PageDots.prototype._create=function(){this.holder=document.createElement('ol');this.holder.className='flickity-page-dots';this.dots=[];this.on('tap',this.onTap);this.on('pointerDown',this.parent.childUIPointerDown.bind(this.parent));};PageDots.prototype.activate=function(){this.setDots();this.bindTap(this.holder);this.parent.element.appendChild(this.holder);};PageDots.prototype.deactivate=function(){this.parent.element.removeChild(this.holder);TapListener.prototype.destroy.call(this);};PageDots.prototype.setDots=function(){var delta=this.parent.slides.length-this.dots.length;if(delta>0){this.addDots(delta);}else if(delta<0){this.removeDots(-delta);}};PageDots.prototype.addDots=function(count){var fragment=document.createDocumentFragment();var newDots=[];var length=this.dots.length;var max=length+count;for(var i=length;i<max;i++){var dot=document.createElement('li');dot.className='dot';dot.setAttribute('aria-label','Page dot '+(i+1));fragment.appendChild(dot);newDots.push(dot);}
this.holder.appendChild(fragment);this.dots=this.dots.concat(newDots);};PageDots.prototype.removeDots=function(count){var removeDots=this.dots.splice(this.dots.length-count,count);removeDots.forEach(function(dot){this.holder.removeChild(dot);},this);};PageDots.prototype.updateSelected=function(){if(this.selectedDot){this.selectedDot.className='dot';this.selectedDot.removeAttribute('aria-current');}
if(!this.dots.length){return;}
this.selectedDot=this.dots[this.parent.selectedIndex];this.selectedDot.className='dot is-selected';this.selectedDot.setAttribute('aria-current','step');};PageDots.prototype.onTap=function(event){var target=event.target;if(target.nodeName!='LI'){return;}
this.parent.uiChange();var index=this.dots.indexOf(target);this.parent.select(index);};PageDots.prototype.destroy=function(){this.deactivate();};Flickity.PageDots=PageDots;utils.extend(Flickity.defaults,{pageDots:true});Flickity.createMethods.push('_createPageDots');var proto=Flickity.prototype;proto._createPageDots=function(){if(!this.options.pageDots){return;}
this.pageDots=new PageDots(this);this.on('activate',this.activatePageDots);this.on('select',this.updateSelectedPageDots);this.on('cellChange',this.updatePageDots);this.on('resize',this.updatePageDots);this.on('deactivate',this.deactivatePageDots);};proto.activatePageDots=function(){this.pageDots.activate();};proto.updateSelectedPageDots=function(){this.pageDots.updateSelected();};proto.updatePageDots=function(){this.pageDots.setDots();};proto.deactivatePageDots=function(){this.pageDots.deactivate();};Flickity.PageDots=PageDots;return Flickity;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/player',['ev-emitter/ev-emitter','fizzy-ui-utils/utils','./flickity'],function(EvEmitter,utils,Flickity){return factory(EvEmitter,utils,Flickity);});}else if(typeof module=='object'&&module.exports){module.exports=factory(require('ev-emitter'),require('fizzy-ui-utils'),require('./flickity'));}else{factory(window.EvEmitter,window.fizzyUIUtils,window.Flickity);}}(window,function factory(EvEmitter,utils,Flickity){function Player(parent){this.parent=parent;this.state='stopped';this.onVisibilityChange=this.visibilityChange.bind(this);this.onVisibilityPlay=this.visibilityPlay.bind(this);}
Player.prototype=Object.create(EvEmitter.prototype);Player.prototype.play=function(){if(this.state=='playing'){return;}
var isPageHidden=document.hidden;if(isPageHidden){document.addEventListener('visibilitychange',this.onVisibilityPlay);return;}
this.state='playing';document.addEventListener('visibilitychange',this.onVisibilityChange);this.tick();};Player.prototype.tick=function(){if(this.state!='playing'){return;}
var time=this.parent.options.autoPlay;time=typeof time=='number'?time:3000;var _this=this;this.clear();this.timeout=setTimeout(function(){_this.parent.next(true);_this.tick();},time);};Player.prototype.stop=function(){this.state='stopped';this.clear();document.removeEventListener('visibilitychange',this.onVisibilityChange);};Player.prototype.clear=function(){clearTimeout(this.timeout);};Player.prototype.pause=function(){if(this.state=='playing'){this.state='paused';this.clear();}};Player.prototype.unpause=function(){if(this.state=='paused'){this.play();}};Player.prototype.visibilityChange=function(){var isPageHidden=document.hidden;this[isPageHidden?'pause':'unpause']();};Player.prototype.visibilityPlay=function(){this.play();document.removeEventListener('visibilitychange',this.onVisibilityPlay);};utils.extend(Flickity.defaults,{pauseAutoPlayOnHover:true});Flickity.createMethods.push('_createPlayer');var proto=Flickity.prototype;proto._createPlayer=function(){this.player=new Player(this);this.on('activate',this.activatePlayer);this.on('uiChange',this.stopPlayer);this.on('pointerDown',this.stopPlayer);this.on('deactivate',this.deactivatePlayer);};proto.activatePlayer=function(){if(!this.options.autoPlay){return;}
this.player.play();this.element.addEventListener('mouseenter',this);};proto.playPlayer=function(){this.player.play();};proto.stopPlayer=function(){this.player.stop();};proto.pausePlayer=function(){this.player.pause();};proto.unpausePlayer=function(){this.player.unpause();};proto.deactivatePlayer=function(){this.player.stop();this.element.removeEventListener('mouseenter',this);};proto.onmouseenter=function(){if(!this.options.pauseAutoPlayOnHover){return;}
this.player.pause();this.element.addEventListener('mouseleave',this);};proto.onmouseleave=function(){this.player.unpause();this.element.removeEventListener('mouseleave',this);};Flickity.Player=Player;return Flickity;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/add-remove-cell',['./flickity','fizzy-ui-utils/utils'],function(Flickity,utils){return factory(window,Flickity,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.fizzyUIUtils);}}(window,function factory(window,Flickity,utils){function getCellsFragment(cells){var fragment=document.createDocumentFragment();cells.forEach(function(cell){fragment.appendChild(cell.element);});return fragment;}
var proto=Flickity.prototype;proto.insert=function(elems,index){var cells=this._makeCells(elems);if(!cells||!cells.length){return;}
var len=this.cells.length;index=index===undefined?len:index;var fragment=getCellsFragment(cells);var isAppend=index==len;if(isAppend){this.slider.appendChild(fragment);}else{var insertCellElement=this.cells[index].element;this.slider.insertBefore(fragment,insertCellElement);}
if(index===0){this.cells=cells.concat(this.cells);}else if(isAppend){this.cells=this.cells.concat(cells);}else{var endCells=this.cells.splice(index,len-index);this.cells=this.cells.concat(cells).concat(endCells);}
this._sizeCells(cells);this.cellChange(index,true);};proto.append=function(elems){this.insert(elems,this.cells.length);};proto.prepend=function(elems){this.insert(elems,0);};proto.remove=function(elems){var cells=this.getCells(elems);if(!cells||!cells.length){return;}
var minCellIndex=this.cells.length-1;cells.forEach(function(cell){cell.remove();var index=this.cells.indexOf(cell);minCellIndex=Math.min(index,minCellIndex);utils.removeFrom(this.cells,cell);},this);this.cellChange(minCellIndex,true);};proto.cellSizeChange=function(elem){var cell=this.getCell(elem);if(!cell){return;}
cell.getSize();var index=this.cells.indexOf(cell);this.cellChange(index);};proto.cellChange=function(changedCellIndex,isPositioningSlider){var prevSelectedElem=this.selectedElement;this._positionCells(changedCellIndex);this._getWrapShiftCells();this.setGallerySize();var cell=this.getCell(prevSelectedElem);if(cell){this.selectedIndex=this.getCellSlideIndex(cell);}
this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex);this.emitEvent('cellChange',[changedCellIndex]);this.select(this.selectedIndex);if(isPositioningSlider){this.positionSliderAtSelected();}};return Flickity;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/lazyload',['./flickity','fizzy-ui-utils/utils'],function(Flickity,utils){return factory(window,Flickity,utils);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('./flickity'),require('fizzy-ui-utils'));}else{factory(window,window.Flickity,window.fizzyUIUtils);}}(window,function factory(window,Flickity,utils){'use strict';Flickity.createMethods.push('_createLazyload');var proto=Flickity.prototype;proto._createLazyload=function(){this.on('select',this.lazyLoad);};proto.lazyLoad=function(){var lazyLoad=this.options.lazyLoad;if(!lazyLoad){return;}
var adjCount=typeof lazyLoad=='number'?lazyLoad:0;var cellElems=this.getAdjacentCellElements(adjCount);var lazyImages=[];cellElems.forEach(function(cellElem){var lazyCellImages=getCellLazyImages(cellElem);lazyImages=lazyImages.concat(lazyCellImages);});lazyImages.forEach(function(img){new LazyLoader(img,this);},this);};function getCellLazyImages(cellElem){if(cellElem.nodeName=='IMG'){var lazyloadAttr=cellElem.getAttribute('data-flickity-lazyload');var srcAttr=cellElem.getAttribute('data-flickity-lazyload-src');var srcsetAttr=cellElem.getAttribute('data-flickity-lazyload-srcset');if(lazyloadAttr||srcAttr||srcsetAttr){return[cellElem];}}
var lazySelector='img[data-flickity-lazyload], '+'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';var imgs=cellElem.querySelectorAll(lazySelector);return utils.makeArray(imgs);}
function LazyLoader(img,flickity){this.img=img;this.flickity=flickity;this.load();}
LazyLoader.prototype.handleEvent=utils.handleEvent;LazyLoader.prototype.load=function(){this.img.addEventListener('load',this);this.img.addEventListener('error',this);var src=this.img.getAttribute('data-flickity-lazyload')||this.img.getAttribute('data-flickity-lazyload-src');var srcset=this.img.getAttribute('data-flickity-lazyload-srcset');this.img.src=src;if(srcset){this.img.setAttribute('srcset',srcset);}
this.img.removeAttribute('data-flickity-lazyload');this.img.removeAttribute('data-flickity-lazyload-src');this.img.removeAttribute('data-flickity-lazyload-srcset');};LazyLoader.prototype.onload=function(event){this.complete(event,'flickity-lazyloaded');};LazyLoader.prototype.onerror=function(event){this.complete(event,'flickity-lazyerror');};LazyLoader.prototype.complete=function(event,className){this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);var cell=this.flickity.getParentCell(this.img);var cellElem=cell&&cell.element;this.flickity.cellSizeChange(cellElem);this.img.classList.add(className);this.flickity.dispatchEvent('lazyLoad',event,cellElem);};Flickity.LazyLoader=LazyLoader;return Flickity;}));
/*!
 * Flickity v2.1.2
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2018 Metafizzy
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity/js/index',['./flickity','./drag','./prev-next-button','./page-dots','./player','./add-remove-cell','./lazyload'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('./flickity'),require('./drag'),require('./prev-next-button'),require('./page-dots'),require('./player'),require('./add-remove-cell'),require('./lazyload'));}})(window,function factory(Flickity){return Flickity;});
/*!
 * Flickity asNavFor v2.0.1
 * enable asNavFor for Flickity
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('flickity-as-nav-for/as-nav-for',['flickity/js/index','fizzy-ui-utils/utils'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('flickity'),require('fizzy-ui-utils'));}else{window.Flickity=factory(window.Flickity,window.fizzyUIUtils);}}(window,function factory(Flickity,utils){Flickity.createMethods.push('_createAsNavFor');var proto=Flickity.prototype;proto._createAsNavFor=function(){this.on('activate',this.activateAsNavFor);this.on('deactivate',this.deactivateAsNavFor);this.on('destroy',this.destroyAsNavFor);var asNavForOption=this.options.asNavFor;if(!asNavForOption){return;}
var _this=this;setTimeout(function initNavCompanion(){_this.setNavCompanion(asNavForOption);});};proto.setNavCompanion=function(elem){elem=utils.getQueryElement(elem);var companion=Flickity.data(elem);if(!companion||companion==this){return;}
this.navCompanion=companion;var _this=this;this.onNavCompanionSelect=function(){_this.navCompanionSelect();};companion.on('select',this.onNavCompanionSelect);this.on('staticClick',this.onNavStaticClick);this.navCompanionSelect(true);};proto.navCompanionSelect=function(isInstant){if(!this.navCompanion){return;}
var selectedCell=this.navCompanion.selectedCells[0];var firstIndex=this.navCompanion.cells.indexOf(selectedCell);var lastIndex=firstIndex+this.navCompanion.selectedCells.length-1;var selectIndex=Math.floor(lerp(firstIndex,lastIndex,this.navCompanion.cellAlign));this.selectCell(selectIndex,false,isInstant);this.removeNavSelectedElements();if(selectIndex>=this.cells.length){return;}
var selectedCells=this.cells.slice(firstIndex,lastIndex+1);this.navSelectedElements=selectedCells.map(function(cell){return cell.element;});this.changeNavSelectedClass('add');};function lerp(a,b,t){return(b-a)*t+a;}
proto.changeNavSelectedClass=function(method){this.navSelectedElements.forEach(function(navElem){navElem.classList[method]('is-nav-selected');});};proto.activateAsNavFor=function(){this.navCompanionSelect(true);};proto.removeNavSelectedElements=function(){if(!this.navSelectedElements){return;}
this.changeNavSelectedClass('remove');delete this.navSelectedElements;};proto.onNavStaticClick=function(event,pointer,cellElement,cellIndex){if(typeof cellIndex=='number'){this.navCompanion.selectCell(cellIndex);}};proto.deactivateAsNavFor=function(){this.removeNavSelectedElements();};proto.destroyAsNavFor=function(){if(!this.navCompanion){return;}
this.navCompanion.off('select',this.onNavCompanionSelect);this.off('staticClick',this.onNavStaticClick);delete this.navCompanion;};return Flickity;}));
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('imagesloaded/imagesloaded',['ev-emitter/ev-emitter'],function(EvEmitter){return factory(window,EvEmitter);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'));}else{window.imagesLoaded=factory(window,window.EvEmitter);}})(typeof window!=='undefined'?window:this,function factory(window,EvEmitter){var $=window.jQuery;var console=window.console;function extend(a,b){for(var prop in b){a[prop]=b[prop];}
return a;}
var arraySlice=Array.prototype.slice;function makeArray(obj){if(Array.isArray(obj)){return obj;}
var isArrayLike=typeof obj=='object'&&typeof obj.length=='number';if(isArrayLike){return arraySlice.call(obj);}
return[obj];}
function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded)){return new ImagesLoaded(elem,options,onAlways);}
var queryElem=elem;if(typeof elem=='string'){queryElem=document.querySelectorAll(elem);}
if(!queryElem){console.error('Bad element for imagesLoaded '+(queryElem||elem));return;}
this.elements=makeArray(queryElem);this.options=extend({},this.options);if(typeof options=='function'){onAlways=options;}else{extend(this.options,options);}
if(onAlways){this.on('always',onAlways);}
this.getImages();if($){this.jqDeferred=new $.Deferred();}
setTimeout(this.check.bind(this));}
ImagesLoaded.prototype=Object.create(EvEmitter.prototype);ImagesLoaded.prototype.options={};ImagesLoaded.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this);};ImagesLoaded.prototype.addElementImages=function(elem){if(elem.nodeName=='IMG'){this.addImage(elem);}
if(this.options.background===true){this.addElementBackgroundImages(elem);}
var nodeType=elem.nodeType;if(!nodeType||!elementNodeTypes[nodeType]){return;}
var childImgs=elem.querySelectorAll('img');for(var i=0;i<childImgs.length;i++){var img=childImgs[i];this.addImage(img);}
if(typeof this.options.background=='string'){var children=elem.querySelectorAll(this.options.background);for(i=0;i<children.length;i++){var child=children[i];this.addElementBackgroundImages(child);}}};var elementNodeTypes={1:true,9:true,11:true};ImagesLoaded.prototype.addElementBackgroundImages=function(elem){var style=getComputedStyle(elem);if(!style){return;}
var reURL=/url\((['"])?(.*?)\1\)/gi;var matches=reURL.exec(style.backgroundImage);while(matches!==null){var url=matches&&matches[2];if(url){this.addBackground(url,elem);}
matches=reURL.exec(style.backgroundImage);}};ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage);};ImagesLoaded.prototype.addBackground=function(url,elem){var background=new Background(url,elem);this.images.push(background);};ImagesLoaded.prototype.check=function(){var _this=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return;}
function onProgress(image,elem,message){setTimeout(function(){_this.progress(image,elem,message);});}
this.images.forEach(function(loadingImage){loadingImage.once('progress',onProgress);loadingImage.check();});};ImagesLoaded.prototype.progress=function(image,elem,message){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded;this.emitEvent('progress',[this,image,elem]);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,image);}
if(this.progressedCount==this.images.length){this.complete();}
if(this.options.debug&&console){console.log('progress: '+message,image,elem);}};ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?'fail':'done';this.isComplete=true;this.emitEvent(eventName,[this]);this.emitEvent('always',[this]);if(this.jqDeferred){var jqMethod=this.hasAnyBroken?'reject':'resolve';this.jqDeferred[jqMethod](this);}};function LoadingImage(img){this.img=img;}
LoadingImage.prototype=Object.create(EvEmitter.prototype);LoadingImage.prototype.check=function(){var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');return;}
this.proxyImage=new Image();this.proxyImage.addEventListener('load',this);this.proxyImage.addEventListener('error',this);this.img.addEventListener('load',this);this.img.addEventListener('error',this);this.proxyImage.src=this.img.src;};LoadingImage.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth;};LoadingImage.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emitEvent('progress',[this,this.img,message]);};LoadingImage.prototype.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};LoadingImage.prototype.onload=function(){this.confirm(true,'onload');this.unbindEvents();};LoadingImage.prototype.onerror=function(){this.confirm(false,'onerror');this.unbindEvents();};LoadingImage.prototype.unbindEvents=function(){this.proxyImage.removeEventListener('load',this);this.proxyImage.removeEventListener('error',this);this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);};function Background(url,element){this.url=url;this.element=element;this.img=new Image();}
Background.prototype=Object.create(LoadingImage.prototype);Background.prototype.check=function(){this.img.addEventListener('load',this);this.img.addEventListener('error',this);this.img.src=this.url;var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');this.unbindEvents();}};Background.prototype.unbindEvents=function(){this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);};Background.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emitEvent('progress',[this,this.element,message]);};ImagesLoaded.makeJQueryPlugin=function(jQuery){jQuery=jQuery||window.jQuery;if(!jQuery){return;}
$=jQuery;$.fn.imagesLoaded=function(options,callback){var instance=new ImagesLoaded(this,options,callback);return instance.jqDeferred.promise($(this));};};ImagesLoaded.makeJQueryPlugin();return ImagesLoaded;});
/*!
 * Flickity imagesLoaded v2.0.0
 * enables imagesLoaded option for Flickity
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define(['flickity/js/index','imagesloaded/imagesloaded'],function(Flickity,imagesLoaded){return factory(window,Flickity,imagesLoaded);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('flickity'),require('imagesloaded'));}else{window.Flickity=factory(window,window.Flickity,window.imagesLoaded);}}(window,function factory(window,Flickity,imagesLoaded){'use strict';Flickity.createMethods.push('_createImagesLoaded');var proto=Flickity.prototype;proto._createImagesLoaded=function(){this.on('activate',this.imagesLoaded);};proto.imagesLoaded=function(){if(!this.options.imagesLoaded){return;}
var _this=this;function onImagesLoadedProgress(instance,image){var cell=_this.getParentCell(image.img);_this.cellSizeChange(cell&&cell.element);if(!_this.options.freeScroll){_this.positionSliderAtSelected();}}
imagesLoaded(this.slider).on('progress',onImagesLoadedProgress);};return Flickity;}));
/*!
 * Flickity hash v1.0.3
 * Enable hash navigation for Flickity
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define(['flickity/js/index',],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('flickity'));}else{factory(window.Flickity);}}(window,function factory(Flickity){'use strict';Flickity.createMethods.push('_createHash');var proto=Flickity.prototype;proto._createHash=function(){if(!this.options.hash){return;}
this.connectedHashLinks=[];this.onHashLinkClick=function(event){event.preventDefault();this.selectCell(event.currentTarget.hash);history.replaceState(null,'',event.currentTarget.hash);}.bind(this);this.on('activate',this.activateHash);this.on('deactivate',this.deactivateHash);};proto.activateHash=function(){this.on('change',this.onChangeHash);if(this.options.initialIndex===undefined&&location.hash){var cell=this.queryCell(location.hash);if(cell){this.options.initialIndex=this.getCellSlideIndex(cell);}}
this.connectHashLinks();};proto.deactivateHash=function(){this.off('change',this.onChangeHash);this.disconnectHashLinks();};proto.onChangeHash=function(){var id=this.selectedElement.id;if(id){var url='#'+id;history.replaceState(null,'',url);}};proto.connectHashLinks=function(){var links=document.querySelectorAll('a');for(var i=0;i<links.length;i++){this.connectHashLink(links[i]);}};var proxyLink=document.createElement('a');proto.connectHashLink=function(link){if(!link.hash){return;}
proxyLink.href=link.href;if(proxyLink.pathname!=location.pathname){return;}
var cell=this.queryCell(link.hash);if(!cell){return;}
link.addEventListener('click',this.onHashLinkClick);this.connectedHashLinks.push(link);};proto.disconnectHashLinks=function(){this.connectedHashLinks.forEach(function(link){link.removeEventListener('click',this.onHashLinkClick);},this);this.connectedHashLinks=[];};return Flickity;}));
/*! http://www.imgix.com imgix.js - v2.2.4 - 2016-07-11 
 _                    _             _
(_)                  (_)           (_)
 _  _ __ ___    __ _  _ __  __      _  ___
| || '_ ` _ \  / _` || |\ \/ /     | |/ __|
| || | | | | || (_| || | >  <  _   | |\__ \
|_||_| |_| |_| \__, ||_|/_/\_\(_)  | ||___/
                __/ |             _/ |
               |___/             |__/

*/
(function(){function initPolyfills(){if(!Object.freeze){Object.freeze=function freeze(object){return object;};}
if(!Array.prototype.filter||Array.prototype.filter.name=='findAll'){Array.prototype.filter=function(fun){if(this===void 0||this===null){throw new TypeError();}
var t=Object(this);var len=t.length>>>0;if(typeof fun!=='function'){throw new TypeError();}
var res=[];var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisArg,val,i,t)){res.push(val);}}}
return res;};}
if(!Array.prototype.map){Array.prototype.map=function(callback,thisArg){var T,A,k;if(this==null){throw new TypeError(" this is null or not defined");}
var O=Object(this);var len=O.length>>>0;if(typeof callback!=="function"){throw new TypeError(callback+" is not a function");}
if(arguments.length>1){T=thisArg;}
A=new Array(len);k=0;while(k<len){var kValue,mappedValue;if(k in O){kValue=O[k];mappedValue=callback.call(T,kValue,k,O);A[k]=mappedValue;}
k++;}
return A;};}
if(!document.querySelectorAll){document.querySelectorAll=function(selectors){var style=document.createElement('style'),elements=[],element;document.documentElement.firstChild.appendChild(style);document._qsa=[];style.styleSheet.cssText=selectors+'{x-qsa:expression(document._qsa && document._qsa.push(this))}';window.scrollBy(0,0);style.parentNode.removeChild(style);while(document._qsa.length){element=document._qsa.shift();element.style.removeAttribute('x-qsa');elements.push(element);}
document._qsa=null;return elements;};}
if(!document.querySelector){document.querySelector=function(selectors){var elements=document.querySelectorAll(selectors);return(elements.length)?elements[0]:null;};}
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(needle){for(var i=0;i<this.length;i++){if(this[i]===needle){return i;}}
return-1;};}
if(!Array.isArray){Array.isArray=function(arg){return Object.prototype.toString.call(arg)==='[object Array]';};}
if(!Object.keys){Object.keys=(function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object');}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
return result;};}());}
!('getComputedStyle'in window)&&(window.getComputedStyle=(function(){function getPixelSize(element,style,property,fontSize){var
sizeWithSuffix=style[property],size=parseFloat(sizeWithSuffix),suffix=sizeWithSuffix.split(/\d/)[0],rootSize;fontSize=fontSize!=null?fontSize:/%|em/.test(suffix)&&element.parentElement?getPixelSize(element.parentElement,element.parentElement.currentStyle,'fontSize',null):16;rootSize=property=='fontSize'?fontSize:/width/i.test(property)?element.clientWidth:element.clientHeight;return(suffix=='em')?size*fontSize:(suffix=='in')?size*96:(suffix=='pt')?size*96/72:(suffix=='%')?size/100*rootSize:size;}
function setShortStyleProperty(style,property){var
borderSuffix=property=='border'?'Width':'',t=property+'Top'+borderSuffix,r=property+'Right'+borderSuffix,b=property+'Bottom'+borderSuffix,l=property+'Left'+borderSuffix;style[property]=(style[t]==style[r]==style[b]==style[l]?[style[t]]:style[t]==style[b]&&style[l]==style[r]?[style[t],style[r]]:style[l]==style[r]?[style[t],style[r],style[b]]:[style[t],style[r],style[b],style[l]]).join(' ');}
function CSSStyleDeclaration(element){var
currentStyle=element.currentStyle,style=this,fontSize=getPixelSize(element,currentStyle,'fontSize',null);for(property in currentStyle){if(/width|height|margin.|padding.|border.+W/.test(property)&&style[property]!=='auto'){style[property]=getPixelSize(element,currentStyle,property,fontSize)+'px';}else if(property==='styleFloat'){style['float']=currentStyle[property];}else{style[property]=currentStyle[property];}}
setShortStyleProperty(style,'margin');setShortStyleProperty(style,'padding');setShortStyleProperty(style,'border');style.fontSize=fontSize+'px';return style;}
CSSStyleDeclaration.prototype={constructor:CSSStyleDeclaration,getPropertyPriority:function(){},getPropertyValue:function(prop){return this[prop]||'';},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}};function getComputedStyle(element){return new CSSStyleDeclaration(element);}
return getComputedStyle;})(window));}
if(typeof window!=='undefined'){initPolyfills();}'use strict';var root=this;var imgix={version:'2.2.4'};if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports){exports=module.exports=imgix;}
exports.imgix=imgix;}else{root.imgix=imgix;}
var IMGIX_USABLE_CLASS='imgix-usable';imgix.isImageElement=function(el){return(el&&el.tagName&&el.tagName.toLowerCase()==='img');};imgix.setElementImageAfterLoad=function(el,imgUrl,callback){var img=new Image();img.onload=img.onerror=function(){var isImageElement=imgix.isImageElement(el);if(isImageElement){el.onload=img.onerror=function(){if(typeof callback==='function'){callback(el,imgUrl);}};}
imgix.setElementImage(el,imgUrl);if(!isImageElement){if(typeof callback==='function'){callback(el,imgUrl);}}};if(el.hasAttribute('crossorigin')){img.setAttribute('crossorigin',el.getAttribute('crossorigin'));}
img.src=imgUrl;};imgix.setElementImage=function(el,imgUrl){if(!el){return false;}
if(imgix.isImageElement(el)){if(el.src!==imgUrl){el.src=imgUrl;}
return true;}else{var curBg=imgix.getBackgroundImage(el);if(curBg!==imgUrl){if(curBg){el.style.cssText=el.style.cssText.replace(curBg,imgUrl);return true;}else{if(document.addEventListener){el.style.backgroundImage='url('+imgUrl+')';}else{el.style.cssText='background-image:url('+imgUrl+')';}
return true;}}}
return false;};imgix.getEmptyImage=function(){return imgix.versionifyUrl('https://assets.imgix.net/pixel.gif');};imgix.getElementImage=function(el){if(imgix.isImageElement(el)){return el.src;}else{return imgix.getBackgroundImage(el);}};imgix.getBackgroundImage=function(el){var regex=/\burl\s*\(\s*["']?([^"'\r\n,]+)["']?\s*\)/gi,style,matches;if(window.getComputedStyle){style=window.getComputedStyle(el);}else if(document.documentElement.currentStyle){style=el.currentStyle;}
if(!style||!style.backgroundImage){style=el.style;}
matches=regex.exec(style.backgroundImage);if(matches&&matches.length>1){return matches[1];}else{return'';}};imgix.getElementsWithImages=function(){imgix.markElementsWithImages();return document.querySelectorAll('.'+IMGIX_USABLE_CLASS);};imgix.hasImage=function(el){var toCheck=el.style.cssText?el.style.cssText.toLowerCase():el.style.cssText;return el&&(imgix.isImageElement(el)||toCheck.indexOf('background-image')!==-1);};imgix.markElementsWithImages=function(){var all=document.getElementsByTagName('*');for(var i=0,max=all.length;i<max;i++){if(imgix.hasImage(all[i])){imgix.setImgixClass(all[i]);}}};imgix.hasClass=function(elem,name){return(' '+elem.className+' ').indexOf(' '+name+' ')>-1;};imgix.setImgixClass=function(el){if(imgix.hasClass(el,IMGIX_USABLE_CLASS)){return imgix.getImgixClass(el);}
var cls=imgix.getXPathClass(imgix.getElementTreeXPath(el));el.classList.add(cls);el.classList.add(IMGIX_USABLE_CLASS);return imgix.getImgixClass(el);};imgix.getImgixClass=function(el){if(imgix.hasClass(el,IMGIX_USABLE_CLASS)){return el.className.match(/imgix-el-[^\s]+/)[0];}};imgix.getXPathClass=function(xpath){var suffix;if(xpath){suffix=imgix.hashCode(xpath);}else{suffix=(new Date()).getTime().toString(36);}
return'imgix-el-'+suffix;};imgix.getElementImageSize=function(el){var w=0,h=0;if(imgix.isImageElement(el)){w=el.naturalWidth;h=el.naturalHeight;}else{w=imgix.helpers.extractInt(imgix.getCssProperty(el,'width'));h=imgix.helpers.extractInt(imgix.getCssProperty(el,'height'));}
return{width:w,height:h};};imgix.getCssPropertyById=function(elmId,property){var elem=document.getElementById(elmId);return imgix.helpers.getElementCssProperty(elem,property);};imgix.getCssProperty=function(el,property){return imgix.helpers.getElementCssProperty(el,property);};imgix.getCssPropertyBySelector=function(sel,property){var elem=document.querySelector(sel);return imgix.helpers.getElementCssProperty(elem,property);};imgix.instanceOfImgixURL=function(x){return x&&x.toString()==='[object imgixURL]';};imgix.setGradientOnElement=function(el,colors,baseColor){var baseColors=[];if(typeof baseColor==='undefined'){baseColors=['transparent','transparent'];}else{var base=imgix.hexToRGB(baseColor);if(base.slice(0,4)==='rgba'){baseColors.push(base);baseColors.push(imgix.applyAlphaToRGB(base,0));}else{baseColors.push(imgix.applyAlphaToRGB(base,0.5));baseColors.push(imgix.applyAlphaToRGB(base,0));}}
var backgroundGradients=['-ms-linear-gradient(top, '+baseColors[0]+' 0%, '+baseColors[1]+' 100%),-ms-linear-gradient(bottom left, '+colors[2]+' 0%,'+colors[4]+' 25%, '+colors[6]+' 50%, '+colors[8]+' 75%,'+colors[10]+' 100%)','-webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, '+baseColors[1]+'), color-stop(100%, '+baseColors[0]+')),-webkit-gradient(linear, 0% 100%, 100% 0%, color-stop(0%, '+colors[2]+'), color-stop(25%, '+colors[4]+'), color-stop(50%, '+colors[6]+'), color-stop(75%, '+colors[7]+'), color-stop(100%, '+colors[10]+'))','-webkit-linear-gradient(top, '+baseColors[0]+', '+baseColors[1]+' 100%),-webkit-linear-gradient(bottom left, '+colors[2]+', '+colors[4]+', '+colors[6]+','+colors[8]+')','-moz-linear-gradient(top, '+baseColors[0]+', '+baseColors[1]+' ),-moz-linear-gradient(bottom left, '+colors[2]+', '+colors[4]+', '+colors[6]+','+colors[8]+')','-o-linear-gradient(top, '+baseColors[0]+','+baseColors[1]+'),-o-linear-gradient(bottom left, '+colors[2]+', '+colors[4]+', '+colors[6]+','+colors[8]+')','linear-gradient(top, '+baseColors[0]+','+baseColors[1]+'),linear-gradient(bottom left, '+colors[2]+', '+colors[4]+', '+colors[6]+','+colors[8]+')'];for(var x=0;x<backgroundGradients.length;x++){el.style.backgroundImage=backgroundGradients[x];}};imgix.isDef=function(obj){return(typeof obj!=='undefined');};imgix.hashCode=function(str){var i,l,hval=0x811c9dc5;for(i=0,l=str.length;i<l;i++){hval^=str.charCodeAt(i);hval+=(hval<<1)+(hval<<4)+(hval<<7)+(hval<<8)+(hval<<24);}
return("0000000"+(hval>>>0).toString(16)).substr(-8);};'use strict';imgix.helpers={debouncer:function(func,wait){var timeoutRef;return function(){var self=this,args=arguments,later=function(){timeoutRef=null;func.apply(self,args);};window.clearTimeout(timeoutRef);timeoutRef=window.setTimeout(later,wait);};},throttler:function(func,wait){var timeoutRef;return function(){var self=this,args=arguments,later;if(!timeoutRef){later=function(){timeoutRef=null;func.apply(self,args);};timeoutRef=window.setTimeout(later,wait);}};},urlParser:(function(){function isNumeric(arg){return!isNaN(parseFloat(arg))&&isFinite(arg);}
return function(arg,url){var _ls=url||window.location.toString();if(!arg){return _ls;}else{arg=arg.toString();}
if(_ls.substring(0,2)==='//'){_ls='http:'+_ls;}else if(_ls.split('://').length===1){_ls='http://'+_ls;}
url=_ls.split('/');var _l={auth:''},host=url[2].split('@');if(host.length===1){host=host[0].split(':');}else{_l.auth=host[0];host=host[1].split(':');}
_l.protocol=url[0];_l.hostname=host[0];_l.port=(host[1]||((_l.protocol.split(':')[0].toLowerCase()==='https')?'443':'80'));_l.pathname=((url.length>3?'/':'')+url.slice(3,url.length).join('/').split('?')[0].split('#')[0]);var _p=_l.pathname;if(_p.charAt(_p.length-1)==='/'){_p=_p.substring(0,_p.length-1);}
var _h=_l.hostname,_hs=_h.split('.'),_ps=_p.split('/');if(arg==='hostname'){return _h;}else if(arg==='domain'){if(/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(_h)){return _h;}else{return _hs.slice(-2).join('.');}}else if(arg==='sub'){return _hs.slice(0,_hs.length-2).join('.');}else if(arg==='port'){return _l.port;}else if(arg==='protocol'){return _l.protocol.split(':')[0];}else if(arg==='auth'){return _l.auth;}else if(arg==='user'){return _l.auth.split(':')[0];}else if(arg==='pass'){return _l.auth.split(':')[1]||'';}else if(arg==='path'){return _l.pathname;}else if(arg.charAt(0)==='.'){arg=arg.substring(1);if(isNumeric(arg)){arg=parseInt(arg,10);return _hs[arg<0?_hs.length+arg:arg-1]||'';}}else if(isNumeric(arg)){arg=parseInt(arg,10);return _ps[arg<0?_ps.length+arg:arg]||'';}else if(arg==='file'){return _ps.slice(-1)[0];}else if(arg==='filename'){return _ps.slice(-1)[0].split('.')[0];}else if(arg==='fileext'){return _ps.slice(-1)[0].split('.')[1]||'';}else if(arg.charAt(0)==='?'||arg.charAt(0)==='#'){var params=_ls,param=null;if(arg.charAt(0)==='?'){params=(params.split('?')[1]||'').split('#')[0];}else if(arg.charAt(0)==='#'){params=(params.split('#')[1]||'');}
if(!arg.charAt(1)){return params;}
arg=arg.substring(1);params=params.split('&');for(var i=0,ii=params.length;i<ii;i++){param=params[i].split('=');if(param[0]===arg){return param[1]||'';}}
return null;}
return'';};})(),mergeObject:function(){var obj={},i=0,il=arguments.length,key;for(;i<il;i++){for(key in arguments[i]){if(arguments[i].hasOwnProperty(key)){obj[key]=arguments[i][key];}}}
return obj;},pixelRound:function(pixelSize,pixelStep){return Math.ceil(pixelSize/pixelStep)*pixelStep;},isNumber:function(value){return!isNaN(parseFloat(value))&&isFinite(value);},getWindowDPR:function(){var dpr=window.devicePixelRatio?window.devicePixelRatio:1;if(dpr%1!==0){var tmpStr=dpr.toString();tmpStr=tmpStr.split('.')[1];dpr=(tmpStr.length>1&&tmpStr.slice(1,2)!=='0')?dpr.toFixed(2):dpr.toFixed(1);}
return dpr;},getWindowWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)||1024;},getWindowHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)||768;},getImgSrc:function(elem){return elem.getAttribute('data-src')||elem.getAttribute('src');},calculateElementSize:function(elem){var val={width:elem.offsetWidth,height:elem.offsetHeight};if(elem.parentNode===null||elem===document.body){val.width=this.getWindowWidth();val.height=this.getWindowHeight();return val;}
if(val.width!==0||val.height!==0){if(elem.alt&&!elem.fluid){elem.fluid=true;return this.calculateElementSize(elem.parentNode);}
return val;}else{var found,prop,past={},visProp={position:'absolute',visibility:'hidden',display:'block'};for(prop in visProp){if(visProp.hasOwnProperty(prop)){past[prop]=elem.style[prop];elem.style[prop]=visProp[prop];}}
found={width:elem.offsetWidth,height:elem.offsetHeight};for(prop in visProp){if(visProp.hasOwnProperty(prop)){elem.style[prop]=past[prop];}}
if(found.width===0||found.height===0){return this.calculateElementSize(elem.parentNode);}else{return found;}}},isReallyObject:function(elem){return elem&&typeof elem==='object'&&(elem.toString())==='[object Object]';},isFluidSet:function(elem){return elem&&typeof elem==='object'&&(elem.toString())==='[object FluidSet]';},extractInt:function(str){if(str===undefined){return 0;}else if(typeof str==='number'){return str;}
return parseInt(str.replace(/\D/g,''),10)||0;},camelize:function(str){return str.replace(/[-_\s]+(.)?/g,function(match,c){return c?c.toUpperCase():'';});},getElementCssProperty:function(elem,prop){if(window.getComputedStyle){return window.getComputedStyle(elem,null).getPropertyValue(prop);}else{if(elem&&elem.style&&prop){return elem.style[this.camelize(prop)];}}
return'';},matchesSelector:function(elem,selector){var children=(elem.parentNode||document).querySelectorAll(selector);return Array.prototype.slice.call(children).indexOf(elem)>-1;},warn:function(message){if(window.console){window.console.warn(message);}}};'use strict';imgix.URL=function(url,imgParams){this._autoUpdateSel=null;this._autoUpdateCallback=null;if(url&&url.slice(0,2)==='//'&&window&&window.location){url=window.location.protocol+url;}
this.setUrl(url);if(typeof imgParams==='object'){this.setParams(imgParams);}
this.paramAliases={};};imgix.URL.prototype.attachGradientTo=function(elemOrSel,baseColor,callback){this.getColors(16,function(colors){if(colors&&colors.length<9){imgix.helpers.warn('not enough colors to create a gradient');if(callback&&typeof callback==='function'){callback(false);}
return;}
if(typeof elemOrSel==='string'){var results=document.querySelectorAll(elemOrSel);if(results&&results.length>0){for(var i=0;i<results.length;i++){imgix.setGradientOnElement(results[i],colors,baseColor);}}}else{imgix.setGradientOnElement(elemOrSel,colors,baseColor);}
if(callback&&typeof callback==='function'){callback(true);}});};imgix.URL.prototype.attachImageTo=function(elemOrSel,callback){if(typeof elemOrSel==='string'){var results=document.querySelectorAll(elemOrSel);if(results&&results.length>0){for(var i=0;i<results.length;i++){imgix.setElementImageAfterLoad(results[i],this.getUrl(),callback);}}}else{imgix.setElementImageAfterLoad(elemOrSel,this.getUrl(),callback);}};imgix.createParamString=function(){return new imgix.URL('');};imgix.updateVersion={};var cssColorCache={};imgix.URL.prototype.getColors=function(num,callback){var DEFAULT_COLOR_COUNT=10,paletteUrlObj=new imgix.URL(this.getUrl()),jsonUrl;function processPaletteData(data){var colors=[],i,rgb;if(!data||!data.colors){return undefined;}
for(i=0;i<data.colors.length;i++){rgb=[Math.round(data.colors[i].red*255),Math.round(data.colors[i].green*255),Math.round(data.colors[i].blue*255),];colors.push('rgb('+rgb.join(', ')+')');}
return colors;}
function requestPaletteData(){var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){var data;if(xhr.readyState===4){if(xhr.status===200){data=JSON.parse(xhr.response);}else{data={colors:[{red:1,green:1,blue:1}]};}
cssColorCache[jsonUrl]=processPaletteData(data);callback(cssColorCache[jsonUrl]);}};xhr.open('get',jsonUrl,true);xhr.send();}
if(typeof num==='function'){if(typeof callback==='number'){var tmpNum=callback;callback=num;num=tmpNum;}else{callback=num;num=DEFAULT_COLOR_COUNT;}}
paletteUrlObj.setParams({palette:'json',colors:num});jsonUrl=paletteUrlObj.getUrl();if(cssColorCache.hasOwnProperty(jsonUrl)){if(callback){callback(cssColorCache[jsonUrl]);}}else{requestPaletteData();}};imgix.URL.prototype._handleAutoUpdate=function(){var self=this,totalImages=0,loadedImages=0,curSel=this._autoUpdateSel,imgToEls={};if(!imgix.isDef(imgix.updateVersion[curSel])){imgix.updateVersion[curSel]=1;}else{imgix.updateVersion[curSel]++;}
function isVersionFresh(v){return curSel===self._autoUpdateSel&&v===imgix.updateVersion[curSel];}
function setImage(el,imgUrl){if(!(imgUrl in imgToEls)){imgToEls[imgUrl]=[];(function(){var img=new Image(),curV=imgix.updateVersion[curSel],startTime=(new Date()).getTime();img.onload=img.onerror=function(){if(!isVersionFresh(curV)){return;}
for(var i=0;i<imgToEls[imgUrl].length;i++){imgix.setElementImage(imgToEls[imgUrl][i],imgUrl);loadedImages++;if(typeof self._autoUpdateCallback==='function'){var obj={element:imgToEls[imgUrl][i],isComplete:loadedImages===totalImages,percentComplete:(loadedImages/totalImages)*100,totalComplete:loadedImages,loadTime:(new Date()).getTime()-startTime,total:totalImages};self._autoUpdateCallback(obj);}}};if(el.hasAttribute('crossorigin')){img.setAttribute('crossorigin',el.getAttribute('crossorigin'));}
img.src=imgUrl;})();}
imgToEls[imgUrl].push(el);}
function applyImg(el){var elImg=imgix.getElementImage(el),elBaseUrl=elImg;if(elImg&&elImg.indexOf('?')!==-1){elBaseUrl=elImg.split('?')[0];}
if(self.getBaseUrl()){setImage(el,self.getUrl());}else if(elBaseUrl&&self.getQueryString()){setImage(el,elBaseUrl+'?'+self.getQueryString());}else{loadedImages++;}}
if(this._autoUpdateSel!==null){var el=document.querySelectorAll(this._autoUpdateSel);totalImages=el.length;if(el&&totalImages===1){applyImg(el[0]);}else{for(var i=0;i<totalImages;i++){applyImg(el[i]);}}}};imgix.URL.prototype.autoUpdateImg=function(sel,callback){this._autoUpdateSel=sel;this._autoUpdateCallback=callback;this._handleAutoUpdate();};imgix.URL.prototype.setUrl=function(url){if(!url||typeof url!=='string'||url.length===0){url=imgix.getEmptyImage();}
this.urlParts=imgix.parseUrl(url);};imgix.URL.prototype.setURL=function(url){return this.setUrl(url);};imgix.URL.prototype.getURL=function(){return this.getUrl();};imgix.URL.prototype.toString=function(){return'[object imgixURL]';};imgix.URL.prototype.getUrl=function(){var url=imgix.buildUrl(this.urlParts);if(!url||url.length===0){return imgix.getEmptyImage();}
return url;};imgix.URL.prototype.removeParam=function(param){if(this.urlParts.paramValues.hasOwnProperty(param)){delete this.urlParts.paramValues[param];this.urlParts.params=Object.keys(this.urlParts.paramValues);}};imgix.URL.prototype.clearThenSetParams=function(params){this.clearParams(false);this.setParams(params);};imgix.URL.prototype.clearParams=function(runUpdate){runUpdate=!imgix.isDef(runUpdate)?true:runUpdate;for(var k in this.urlParts.paramValues){if(this.urlParts.paramValues.hasOwnProperty(k)){this.removeParam(k);}}
if(runUpdate){this._handleAutoUpdate();}};imgix.URL.prototype.setParams=function(dict,doOverride){if(imgix.instanceOfImgixURL(dict)){imgix.helpers.warn('setParams warning: dictionary of imgix params expectd. imgix URL instance passed instead');return;}
for(var k in dict){if(dict.hasOwnProperty(k)){this.setParam(k,dict[k],doOverride,true);}}
this._handleAutoUpdate();};imgix.URL.prototype.setParam=function(param,value,doOverride,noUpdate){param=param.toLowerCase();doOverride=!imgix.isDef(doOverride)?true:doOverride;noUpdate=!imgix.isDef(noUpdate)?false:noUpdate;if(param==='col'||param==='colorize'||param==='blend'||param==='mono'||param==='monochrome'){if(value.slice(0,3)==='rgb'){value=imgix.rgbToHex(value);}}
if(!doOverride&&this.urlParts.paramValues[param]){return this;}
if(!imgix.isDef(value)||value===null||value.length===0){this.removeParam(param);return this;}
if(this.urlParts.params.indexOf(param)===-1){this.urlParts.params.push(param);}
if(decodeURIComponent(value)===value){value=encodeURIComponent(value);}
this.urlParts.paramValues[param]=String(value);if(!noUpdate){this._handleAutoUpdate();}
return this;};imgix.URL.prototype.getParam=function(param){if(param==='mark'||param==='mask'){var result=this.urlParts.paramValues[param];if(decodeURIComponent(result)!==result){return decodeURIComponent(result);}
return result;}
return this.urlParts.paramValues[param];};imgix.URL.prototype.getParams=function(){if(this.urlParts.paramValues){return this.urlParts.paramValues;}
return{};};imgix.URL.prototype.getBaseUrl=function(){var url=this.getUrl();if(url.indexOf('?')!==-1){url=this.getUrl().split('?')[0];}
return url!==window.location.href?url:'';};imgix.URL.prototype.getQueryString=function(){var url=this.getUrl();if(url.indexOf('?')!==-1){return this.getUrl().split('?')[1];}
return'';};imgix.parseUrl=function(url){var
pkeys=['protocol','hostname','port','path','?','#','hostname'],keys=['protocol','hostname','port','pathname','search','hash','host'],result={};for(var i=0;i<keys.length;i++){result[keys[i]]=imgix.helpers.urlParser(pkeys[i],url);}
var qs=result.search;result.paramValues={};result.params=[];result.baseUrl=url.split('?')[0];if(qs&&qs.length>0){if(qs[0]==='?'){qs=qs.substr(1,qs.length);}
var parts=qs.split('&');for(var y=0;y<parts.length;y++){var tmp=parts[y].split('=');if(tmp[0]&&tmp[0].length&&tmp[0]!=='s'){result.paramValues[tmp[0]]=(tmp.length===2?tmp[1]:'');if(result.params.indexOf(tmp[0])===-1){result.params.push(tmp[0]);}}}}
return result;};imgix.buildUrl=function(parsed){var result=parsed.protocol+'://'+parsed.host;if(parsed.port!==null&&parsed.port!=='80'&&parsed.port!=='443'){result+=':'+parsed.port;}
result+=parsed.pathname;imgix.versionifyUrl(parsed);if(parsed.params.length>0){parsed.params=parsed.params.map(function(e){return e.toLowerCase();});parsed.params=parsed.params.filter(function(value,index,self){return self.indexOf(value)===index;});parsed.params=parsed.params.sort(function(a,b){if(a<b){return-1;}else if(a>b){return 1;}else{return 0;}});var qs=[];for(var i=0;i<parsed.params.length;i++){if(parsed.paramValues[parsed.params[i]].length>0){qs.push(parsed.params[i]+'='+parsed.paramValues[parsed.params[i]]);}}
if(result.indexOf('?')!==-1){result=result.split('?')[0];}
result+='?'+qs.join('&');}
return result;};imgix.versionifyUrl=function(target){var versionParam='ixjsv',splitUrl,result;if(typeof target==='string'){return imgix.versionifyStringUrl(target);}else{return imgix.versionifyParsedUrl(target);}};imgix.versionifyStringUrl=function(url){var versionParam='ixjsv',splitUrl,result;splitUrl=url.split('?');result=splitUrl[0]+'?'+versionParam+'='+imgix.version;if(!!splitUrl[1]){result+='&'+splitUrl[1];}
return result;}
imgix.versionifyParsedUrl=function(parsed){var versionParam='ixjsv';if(!parsed.paramValues[versionParam]){parsed.params.push(versionParam);}
parsed.paramValues[versionParam]=imgix.version;return parsed;};'use strict';var fluidDefaults={fluidClass:'imgix-fluid',updateOnResize:true,updateOnResizeDown:false,updateOnPinchZoom:false,highDPRAutoScaleQuality:true,onChangeParamOverride:null,autoInsertCSSBestPractices:false,fitImgTagToContainerWidth:true,fitImgTagToContainerHeight:false,ignoreDPR:false,pixelStep:10,debounce:200,lazyLoad:false,lazyLoadColor:null,lazyLoadOffsetVertical:20,lazyLoadOffsetHorizontal:20,lazyLoadScrollContainers:[typeof window==='undefined'?null:window],throttle:200,maxHeight:5000,maxWidth:5000,onLoad:null};function getFluidDefaults(){return fluidDefaults;}
imgix.FluidSet=function(options){if(imgix.helpers.isReallyObject(options)){this.options=imgix.helpers.mergeObject(getFluidDefaults(),options);}else{this.options=imgix.helpers.mergeObject(getFluidDefaults(),{});}
this.lazyLoadOffsets={t:Math.max(this.options.lazyLoadOffsetVertical,0),b:Math.max(this.options.lazyLoadOffsetVertical,0),l:Math.max(this.options.lazyLoadOffsetHorizontal,0),r:Math.max(this.options.lazyLoadOffsetHorizontal,0)};this.namespace=Math.random().toString(36).substring(7);this.windowResizeEventBound=false;this.windowScrollEventBound=false;this.windowLastWidth=0;this.windowLastHeight=0;};imgix.FluidSet.prototype.updateSrc=function(elem,pinchScale){if(elem.hasAttribute('src')&&elem.getAttribute('src')===''){elem.setAttribute('src',imgix.getEmptyImage());}
if(!elem.offsetWidth&&!elem.offsetHeight&&!elem.getClientRects().length){return;}
var details=this.getImgDetails(elem,pinchScale||1),newUrl=details.url,currentElemWidth=details.width,currentElemHeight=details.height;if(this.options.lazyLoad){var r=elem.getBoundingClientRect(),view={left:0-this.lazyLoadOffsets.l,top:0-this.lazyLoadOffsets.t,bottom:(window.innerHeight||document.documentElement.clientHeight)+this.lazyLoadOffsets.b,right:(window.innerWidth||document.documentElement.clientWidth)+this.lazyLoadOffsets.r};if((r.top>view.bottom)||(r.left>view.right)||(r.top+currentElemHeight<view.top)||(r.left+currentElemWidth<view.left)){if(!elem.fluidLazyColored&&this.options.lazyLoadColor){elem.fluidLazyColored=1;var self=this,llcType=typeof this.options.lazyLoadColor,i=new imgix.URL(imgix.helpers.getImgSrc(elem));i.getColors(16,function(colors){if(!colors){imgix.helpers.warn('No colors found for',i.getURL(),'for element',elem);return;}
var useColor=null;if(llcType==='boolean'){useColor=colors[0];}else if(llcType==='number'&&self.options.lazyLoadColor<colors.length){useColor=colors[self.options.lazyLoadColor];}else if(llcType==='function'){useColor=self.options.lazyLoadColor(elem,colors);}
if(useColor!==null){if(imgix.isImageElement(elem)&&elem.parentNode&&elem.parentNode.tagName.toLowerCase()!=='body'){elem.parentNode.style.backgroundColor=useColor;}else{elem.style.backgroundColor=useColor;}}});}
return;}}
elem.lastWidth=elem.lastWidth||0;elem.lastHeight=elem.lastHeight||0;if(this.options.updateOnResizeDown===false&&elem.lastWidth>=currentElemWidth&&elem.lastHeight>=currentElemHeight){return;}
if(!elem.fluidUpdateCount){elem.fluidUpdateCount=0;}
var onLoad=function(){};if(this.options.onLoad&&typeof this.options.onLoad==='function'){onLoad=this.options.onLoad;}
var wrappedOnLoad=function(el,imgUrl){el.fluidUpdateCount=parseInt(el.fluidUpdateCount,10)+1;onLoad(el,imgUrl);};imgix.setElementImageAfterLoad(elem,newUrl,wrappedOnLoad);elem.lastWidth=currentElemWidth;elem.lastHeight=currentElemHeight;};imgix.FluidSet.prototype.getImgDetails=function(elem,zoomMultiplier){if(!elem){return;}
var dpr=imgix.helpers.getWindowDPR(),pixelStep=this.options.pixelStep,elemSize=imgix.helpers.calculateElementSize(imgix.isImageElement(elem)?elem.parentNode:elem),elemWidth=imgix.helpers.pixelRound(elemSize.width*zoomMultiplier,pixelStep),elemHeight=imgix.helpers.pixelRound(elemSize.height*zoomMultiplier,pixelStep);if(!elem.url){elem.url=new imgix.URL(imgix.helpers.getImgSrc(elem));}
elem.url.setParams({h:'',w:''});elemWidth=Math.min(elemWidth,this.options.maxWidth);elemHeight=Math.min(elemHeight,this.options.maxHeight);if(dpr!==1&&!this.options.ignoreDPR){elem.url.setParam('dpr',dpr);}
if(this.options.highDPRAutoScaleQuality&&dpr>1){elem.url.setParam('q',Math.min(Math.max(parseInt((100/dpr),10),30),75));}
if(this.options.fitImgTagToContainerHeight&&this.options.fitImgTagToContainerWidth){elem.url.setParam('fit','crop');}
if(elem.url.getParam('fit')==='crop'){if(elemHeight>0&&(!imgix.isImageElement(elem)||(imgix.isImageElement(elem)&&this.options.fitImgTagToContainerHeight))){elem.url.setParam('h',elemHeight);}
if(elemWidth>0&&(!imgix.isImageElement(elem)||(imgix.isImageElement(elem)&&this.options.fitImgTagToContainerWidth))){elem.url.setParam('w',elemWidth);}}else{if(elemHeight<=elemWidth){elem.url.setParam('w',elemWidth);}else{elem.url.setParam('h',elemHeight);}}
if(!imgix.isImageElement(elem)&&this.options.autoInsertCSSBestPractices&&elem.style){elem.style.backgroundRepeat='no-repeat';elem.style.backgroundSize='cover';elem.style.backgroundPosition='50% 50%';}
var overrides={};if(this.options.onChangeParamOverride!==null&&typeof this.options.onChangeParamOverride==='function'){overrides=this.options.onChangeParamOverride(elemWidth,elemHeight,elem.url.getParams(),elem);}
for(var k in overrides){if(overrides.hasOwnProperty(k)){elem.url.setParam(k,overrides[k]);}}
return{url:elem.url.getURL(),width:elemWidth,height:elemHeight};};imgix.FluidSet.prototype.toString=function(){return'[object FluidSet]';};imgix.FluidSet.prototype.reload=function(){imgix.fluid(this);this.windowLastWidth=imgix.helpers.getWindowWidth();this.windowLastHeight=imgix.helpers.getWindowHeight();};imgix.FluidSet.prototype.attachGestureEvent=function(elem){var self=this;if(elem.addEventListener&&!elem.listenerAttached){elem.addEventListener('gestureend',function(e){self.updateSrc(this,e.scale);},false);elem.addEventListener('gesturechange',function(){self.updateSrc(this);},false);elem.listenerAttached=true;}};var scrollInstances={},resizeInstances={};imgix.FluidSet.prototype.attachScrollListener=function(){var th=this;scrollInstances[this.namespace]=imgix.helpers.throttler(function(){th.reload();},this.options.throttle);var handler,event;if(document.addEventListener){handler='addEventListener';event='scroll';}else{handler='attachEvent';event='onscroll';}
for(var i=0;i<this.options.lazyLoadScrollContainers.length;i++){this.options.lazyLoadScrollContainers[i][handler](event,scrollInstances[this.namespace],false);}
this.windowScrollEventBound=true;};imgix.FluidSet.prototype.attachWindowResizer=function(){var th=this;resizeInstances[this.namespace]=imgix.helpers.debouncer(function(){if(this.windowLastWidth!==imgix.helpers.getWindowWidth()||this.windowLastHeight!==imgix.helpers.getWindowHeight()){th.reload();}},this.options.debounce);if(window.addEventListener){window.addEventListener('resize',resizeInstances[this.namespace],false);}else if(window.attachEvent){window.attachEvent('onresize',resizeInstances[this.namespace]);}
this.windowResizeEventBound=true;};imgix.fluid=function(){var elem,node;if(arguments.length>0&&arguments[0].nodeType===1){node=arguments[0];elem=arguments[1];}else{elem=arguments[0];}
if(elem===null){return;}
var options,fluidSet;if(imgix.helpers.isReallyObject(elem)){var passedKeys=Object.keys(elem),goodKeys=Object.keys(getFluidDefaults());for(var i=0;i<passedKeys.length;i++){if(goodKeys.indexOf(passedKeys[i])===-1){imgix.helpers.warn('\''+passedKeys[i]+'\' is not a valid imgix.fluid config option. See https://github.com/imgix/imgix.js/blob/master/docs/api.md#imgix.fluid for a list of valid options.');}}
options=imgix.helpers.mergeObject(getFluidDefaults(),elem);fluidSet=new imgix.FluidSet(options);elem=null;}else if(imgix.helpers.isFluidSet(elem)){fluidSet=elem;options=fluidSet.options;}else{options=imgix.helpers.mergeObject(getFluidDefaults(),{});fluidSet=new imgix.FluidSet(options);}
var fluidElements;if(elem&&!imgix.helpers.isFluidSet(elem)){fluidElements=Array.isArray(elem)?elem:[elem];}else{var cls=options.fluidClass.toString();cls=cls.slice(0,1)==='.'?cls:('.'+cls);fluidElements=(node||document).querySelectorAll(cls);if(node&&imgix.helpers.matchesSelector(node,cls)){fluidElements=Array.prototype.slice.call(fluidElements);fluidElements.unshift(node);}}
for(var j=0;j<fluidElements.length;j++){if(fluidElements[j]===null){continue;}
if(options.updateOnPinchZoom){fluidSet.attachGestureEvent(fluidElements[j]);}
fluidSet.updateSrc(fluidElements[j]);}
if(options.lazyLoad&&!fluidSet.windowScrollEventBound){fluidSet.attachScrollListener();}
if(options.updateOnResize&&!fluidSet.windowResizeEventBound){fluidSet.attachWindowResizer();}
return fluidSet;};'use strict';if(typeof window!=='undefined'){imgix.onready=(function(){var ready,listener,callbacks=[],ieHack=document.documentElement.doScroll,loadedRgx=ieHack?/^loaded|^c/:/^loaded|c/,loaded=loadedRgx.test(document.readyState);function flush(){var callback;loaded=true;while(callback=callbacks.shift()){callback();}}
if(document.addEventListener){listener=function(){document.removeEventListener('DOMContentLoaded',listener,false);flush();}
document.addEventListener('DOMContentLoaded',listener,false);}else if(document.attachEvent){listener=function(){if(/^c/.test(document.readyState)){document.detachEvent('onreadystatechange',listener);flush();}}
document.attachEvent('onreadystatechange',listener);}
if(!!ieHack){ready=function(callback){if(window.self!=window.top){if(loaded){callback();}else{callbacks.push(callback);}}else{(function(){try{document.documentElement.doScroll('left');}catch(e){return setTimeout(function(){ready(callback);},50);}
callback();})();}};}else{ready=function(callback){if(loaded){callback();}else{callbacks.push(callback);}};}
return ready;})();}'use strict';imgix.rgbToHex=function(value){var parts=value.split(',');parts=parts.map(function(a){return imgix.componentToHex(parseInt(a.replace(/\D/g,'')));});return parts.join('');};imgix.componentToHex=function(c){var hex=c.toString(16);return hex.length===1?'0'+hex:hex;};imgix.getColorBrightness=function(c){if(c){if(c.slice(0,1)==='#'){c=imgix.hexToRGB(c);}}else{return 0;}
var parts=c.replace(/[^0-9,]+/g,'').split(','),r=parseInt(parts[0],10),g=parseInt(parts[1],10),b=parseInt(parts[2],10);return Math.sqrt((r*r*0.241)+(g*g*0.691)+(b*b*0.068));};imgix.applyAlphaToRGB=function(rgb,alpha){var pushAlpha=rgb.slice(0,4)!=='rgba',parts=rgb.split(',');parts=parts.map(function(a){return parseInt(a.replace(/\D/g,''),10);});if(pushAlpha){parts.push(alpha);}else if(parts.length===4){parts[3]=alpha;}
return'rgba('+parts.join(', ')+')';};imgix.hexToRGB=function(hex){if(hex){if(hex.slice(0,1)==='#'){hex=hex.slice(1,hex.length);}else if(hex.slice(0,3)==='rgb'){return hex;}}
var r=0,g=0,b=0;function dupe(x){return(x+x).toString();}
if(hex.length===3){r=parseInt(dupe(hex.slice(0,1)),16);g=parseInt(dupe(hex.slice(1,2)),16);b=parseInt(dupe(hex.slice(2,3)),16);}else if(hex.length===6){r=parseInt(hex.slice(0,2),16);g=parseInt(hex.slice(2,4),16);b=parseInt(hex.slice(4,6),16);}else{imgix.helpers.warn('invalid hex color:',hex);}
return'rgb('+r+', '+g+', '+b+')';};'use strict';imgix.getElementByXPathClassName=function(xpath){return document.querySelector('.'+imgix.getXPathClass(xpath));};imgix.getElementImageByXPathClassName=function(xpath){return imgix.getElementImage(imgix.getElementByXPathClassName(xpath));};imgix.getElementTreeXPath=function(element){var paths=[];for(;element&&element.nodeType===Node.ELEMENT_NODE;element=element.parentNode){var index=0;for(var sibling=element.previousSibling;sibling;sibling=sibling.previousSibling){if(sibling.nodeType===Node.DOCUMENT_TYPE_NODE){continue;}
if(sibling.nodeName===element.nodeName){++index;}}
var tagName=(element.prefix?element.prefix+':':'')+element.localName,pathIndex=(index?'['+(index+1)+']':'');paths.splice(0,0,tagName+pathIndex);}
return paths.length?'/'+paths.join('/'):null;};if(typeof define==='function'&&define.amd){define('imgix',[],function(){return imgix;});}}).call(this);
var CN=CN||{};CN.AjaxModal=function(el){this.elements={base:el,modal:$('.js-modal'),modalContent:$('.remodal-content'),allAjaxEl:$('[data-module="ajax-modal"]'),filteredAjaxEl:$('[data-module="ajax-modal"]'),currentEl:''};this.xhr=null;this.thisRemodal=null;this.currentIndex=0;this.init();this.eventHandlers();};CN.AjaxModal.prototype.init=function(){var _this=this;_this.thisRemodal=_this.elements.modal.remodal();};CN.AjaxModal.prototype.eventHandlers=function(){var _this=this;$(_this.elements.base).on('click',function(e){e.preventDefault();$(document.body).prepend('<div class="c-loading-overlay"><div class="c-loading__container"><div class="c-loading c-loading--white"></div></div></div>');_this.elements.currentEl=$(this);_this.elements.filteredAjaxEl=_this.elements.allAjaxEl.filter(function(){return!$(this).parent().hasClass('isotope-hidden');});_this.currentIndex=_this.elements.filteredAjaxEl.index(_this.elements.currentEl);setTimeout(function(){_this.thisRemodal.open();_this.updateModalContent(_this.elements.base.attr('href'));},100);});if(typeof CN.ajaxModalExists==='undefined'){CN.ajaxModalExists=true;_this.elements.modal.on('click','.remodal-prev',function(){if(_this.currentIndex-1<0){_this.currentIndex=_this.elements.filteredAjaxEl.length-1;}else{_this.currentIndex=_this.currentIndex-1;}
_this.updateModalContent(_this.elements.filteredAjaxEl.eq(_this.currentIndex).attr('href'));});_this.elements.modal.on('click','.remodal-next',function(){if(_this.currentIndex+1>=_this.elements.filteredAjaxEl.length){_this.currentIndex=0;}else{_this.currentIndex=_this.currentIndex+1;}
_this.updateModalContent(_this.elements.filteredAjaxEl.eq(_this.currentIndex).attr('href'));});$(document).on('closed','.js-modal',function(){_this.elements.modalContent.html('');if(_this.xhr&&_this.xhr.readyState!==4){_this.xhr.abort();}});}};CN.AjaxModal.prototype.updateModalContent=function(requestUrl){var _this=this;if(_this.xhr&&_this.xhr.readyState!==4){_this.xhr.abort();}
_this.xhr=$.ajax({async:false,type:'GET',url:requestUrl,success:function(data){var siteoriginStyles=data.match(/<style.*?id="siteorigin-panels-grids-wp_head".*?>[\s\S]*?<\/style>/ig);if(siteoriginStyles){$('head').append(siteoriginStyles.join('').replace('id="siteorigin-panels-grids-wp_head"',''));}
var pageWrapEl=$(data).find('.s-page-wrap');if(pageWrapEl){data=pageWrapEl;}
_this.elements.modalContent.html(data);_this.reinitJS();$('body').trigger('ajaxModalHasLoaded');$(window).trigger('resize');setTimeout(function(){$('.c-loading-overlay').remove();},100);},error:function(data){setTimeout(function(){$('.c-loading-overlay').remove();},100);}});};CN.AjaxModal.prototype.reinitJS=function(){var _this=this;var flickityEl=_this.elements.modalContent.find('.js-flickity');if(flickityEl){flickityEl.each(function(){var thisEl=$(this);thisEl.flickity(thisEl.data('flickity-options'));});}
_this.elements.modalContent.find('[class*=so-widget]').waypoint({handler:function(direction){$(this.element).addClass('widget-is-visible');},offset:'80%'});$(document).trigger('cnInitAnchorMenu',{element:_this.elements.modalContent});$(document).trigger('cnInitModules',{element:_this.elements.modalContent});$(document).trigger('cnInitGallery',{element:_this.elements.modalContent});$(document).trigger('cnInitMap',{element:_this.elements.modalContent});};
var CN=CN||{};CN.ClassToggle=function(el){this.elements={base:el};this.customOptions=el.data('module-options');if('object'===typeof this.customOptions){this.target=this.customOptions.target;this.targetClass=this.customOptions.class;}
this.init();};CN.ClassToggle.prototype.init=function(){var _this=this;if('undefined'!==typeof _this.target&&'undefined'!==typeof _this.targetClass){$(_this.elements.base).on('click',function(e){e.preventDefault();$(_this.target).toggleClass(_this.targetClass);});}};
var CN=CN||{};CN.EqualHeightWidgets=function(baseEl,watchEl){this.elements={base:baseEl,watch:watchEl,uniqueId:this.uniqueId()};if(this.elements.base.length>0&&this.elements.watch.length>0){this.init();}};CN.EqualHeightWidgets.prototype.init=function(){var _this=this;_this.elements.base.attr('data-equalizer',_this.elements.uniqueId).attr('data-equalize-on','medium');_this.elements.watch.attr('data-equalizer-watch',_this.elements.uniqueId);};CN.EqualHeightWidgets.prototype.uniqueId=function(){return'id-'+Math.random().toString(36).substr(2,16);};
var CN=CN||{};CN.OnScroll=function(){this.elements={base:$('body')};this.targetElements=[];this.init();};CN.OnScroll.prototype.init=function(){var _this=this;$(window).on('scroll',function(){if(!window.requestAnimationFrame){_this.windowScrolled(_this.targetElements);}else{window.requestAnimationFrame(function(){_this.windowScrolled(_this.targetElements)});}});if(window.pageYOffset>0){if(!window.requestAnimationFrame){_this.windowScrolled(this.targetElements);}else{window.requestAnimationFrame(function(){_this.windowScrolled(_this.targetElements)});}}};CN.OnScroll.prototype.addElement=function(name,element,offset){var newTargetEl=$(element);if(newTargetEl.length>0){this.targetElements.push({name:name,element:newTargetEl,offset:offset});newTargetEl.wrap('<div class="c-onscroll-wrapper" style="min-height: '+newTargetEl.height()+'px"></div>');}};CN.OnScroll.prototype.windowScrolled=function(targetElements){var bodyEl=$('body'),offsetTop=40,scrollTop=window.pageYOffset,pageHeaderHeight=$('header.c-page-header').height();if(scrollTop>=offsetTop){bodyEl.addClass('page-is-scrolled');}else{bodyEl.removeClass('page-is-scrolled');}
$.each(targetElements,function(index,element){var elOffsetTop=$(element.element).parent().offset().top;if(element.offset){elOffsetTop+=element.offset;}
if(scrollTop>=(elOffsetTop-pageHeaderHeight)){bodyEl.addClass(element.name+'-has-passed');}else{bodyEl.removeClass(element.name+'-has-passed');}});};
var CN=CN||{};CN.ScrollTo=function(el){this.elements={base:el,parent:el.closest('.panel-grid')};this.init();};CN.ScrollTo.prototype.init=function(){var _this=this;this.elements.base.on('click',function(e){e.preventDefault();var target=$(this).attr('href'),targetEl=[],headerScrollOffset=$('header.c-page-header').data('scroll-offset');if(typeof(headerScrollOffset)!='undefined'){offset=headerScrollOffset;}else{offset=$('header.c-page-header').height();}
switch(target){case'#main-content':var smoothScrollEl=$(this).parents('.c-smoothscroll');if(smoothScrollEl.length>0){targetEl=smoothScrollEl.find('.c-smoothscroll__section').next();}else{targetEl=_this.elements.parent.next('.panel-grid');}
break;default:targetEl=$(target);}
var y=targetEl.offset().top-offset;$('html,body').animate({scrollTop:y},500);});};
var CN=CN||{};CN.SelectRedirect=function(el){this.elements={base:el};this.init();};CN.SelectRedirect.prototype.init=function(){var _this=this;$(_this.elements.base).on('change',function(e){var thisEl=$(this),target=thisEl.find(':selected').val();window.location=target;});};
(function($){'use strict';var sliderEl=$('.js-flickity');sliderEl.on('change.flickity',function(event,index){var sliderNavButton=$(event.target).parent().find('.c-slider__buttons-nav__button');if(sliderNavButton.length){sliderNavButton.removeClass('is-active');sliderNavButton.eq(index).addClass('is-active');}});$(document).foundation();function closest_num(num,arr){var curr=arr[0];var key=0;var diff=Math.abs(num-curr);for(var val=0;val<arr.length;val++){var newdiff=Math.abs(num-arr[val]);if(newdiff<diff){diff=newdiff;curr=arr[val];key=val;}}
if(num>=curr&&key!==arr.length){return arr[key+1];}
return curr;}
imgix.onready(function(){var acceptable_sizes={widths:[100,150,250,300,500,640,800,1000,1500,2000,2560],heights:[100,150,250,300,500,640,800,1000,1500]};var fluidDefaults={onChangeParamOverride:function(w,h,params,elem){var _this=$(elem);params.w=w;if(params.ratio){params.h=closest_num((w*params.ratio),acceptable_sizes.heights);}
if(_this.parent().hasClass('crop')||_this.hasClass('crop')){params.w=closest_num(w,acceptable_sizes.widths);params.h=closest_num(h,acceptable_sizes.heights);params.fit='crop';if('undefined'!==typeof _this.data('crop')&&''!==_this.data('crop')&&'auto'!==_this.data('crop')){if('manual'===_this.data('crop')&&'undefined'!==typeof _this.data('focus-horizontal')){params.crop='focalpoint';params['fp-x']=(_this.data('focus-horizontal')/100);params['fp-y']=(_this.data('focus-vertical')/100);_this.css({'background-position':_this.data('focus-horizontal')+'% '+_this.data('focus-vertical')+'%'});}else{params.crop='centre';}}else{params.crop='faces,edges';}}else if(_this.parent().hasClass('img-fit')||_this.hasClass('img-fit')){params.w=null;params.h=closest_num(h,acceptable_sizes.heights);params.crop=null;params.fit='clip';}
params.q=65;params.auto='format';params.ch='DPR,Width';return params;},onLoad:function(el){$(el).addClass('has-loaded');var flickityAutoHeightEl=$(el).parents('.js-flickity.c-slider--auto-height');if(flickityAutoHeightEl.length>0){flickityAutoHeightEl.flickity('resize');}
if(jQuery().magnify){$('[data-magnify-src]').magnify();}}};imgix.fluid($.extend({},fluidDefaults,{lazyLoad:true,lazyLoadOffsetVertical:150,pixelStep:10}));sliderEl.on('change.flickity',function(event,index){var current=$(this).find('.js-flickity-cell').eq(index);var next=$(this).find('.js-flickity-cell').eq(index+1);if(current.length){imgix.fluid(current[0],fluidDefaults);}
if(next.length){setTimeout(function(){imgix.fluid(next[0],fluidDefaults);},750);}});$('[class="panel-grid"]').waypoint({handler:function(direction){$(this.element).find('.js-flickity').each(function(){if(!$(this).hasClass('slider-is-visible')){$(this).trigger('change.flickity',[0]);$(this).addClass('slider-is-visible');}});},offset:'80%'});$('.js-grid-container').on('arrangeComplete',function(){imgix.fluid(this,fluidDefaults);});$('[data-trigger-lazyload]').on('click',function(){var elementClass=$(this).data('trigger-lazyload');imgix.fluid($(elementClass)[0],fluidDefaults);});$('body').on('quickbook revealOffcanvas ajaxModalHasLoaded',function(){imgix.fluid(this,fluidDefaults);});$('.js-layout-builder-tabbed').on('easytabs:after',function(){imgix.fluid(this,fluidDefaults);$('.js-flickity').flickity('resize');});$(document).on('cnFullPageLoad',function(event,element){$(element).find('.c-image').addClass('imgix-fluid');imgix.fluid(element,fluidDefaults);});setTimeout(function(){$(document).trigger('cnImgixReady');});});window.cnOnScroll=new CN.OnScroll();$(document).on('cnInitModules',function(event,data){var element=data&&data.element||document;$(element).find('[data-module]').each(function(){var el=$(this);switch(el.data('module')){case'ajax-modal':new CN.AjaxModal(el);break;case'class-toggle':new CN.ClassToggle(el);break;case'scroll-to':new CN.ScrollTo(el);break;case'select-redirect':new CN.SelectRedirect(el);break;}});});$(document).trigger('cnInitModules');var widgetWaypoints=$('[class*=so-widget]').waypoint({handler:function(direction){$(this.element).addClass('widget-is-visible');},offset:'80%'});var rowWaypoints=$('.panel-grid').waypoint({handler:function(direction){console.log($(this));$(this.element).addClass('row-is-visible');},offset:'80%'});$(window).on('cnVideoEnded',function(event){var remodalEl=$('.js-modal');if(remodalEl.length>0){remodalEl.remodal().close();}});function rTapPostReplacement(){$('a[href*="tel:"]').each(function(){var rTapNumberEl=$(this).find('span[class^="rTapNumber"]');if(rTapNumberEl.length>0){var rTapNumber=rTapNumberEl.text().replace(/\s+/g,'');$(this).attr('href','tel:'+rTapNumber);}});}})(jQuery);
/*!
 * fullPage 2.9.5
 * https://github.com/alvarotrigo/fullPage.js
 * @license MIT licensed
 *
 * Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo
 */
(function(global,factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],function($){return factory($,global,global.document,global.Math);});}else if(typeof exports==="object"&&exports){module.exports=factory(require('jquery'),global,global.document,global.Math);}else{factory(jQuery,global,global.document,global.Math);}})(typeof window!=='undefined'?window:this,function($,window,document,Math,undefined){'use strict';var WRAPPER='fullpage-wrapper';var WRAPPER_SEL='.'+WRAPPER;var SCROLLABLE='fp-scrollable';var SCROLLABLE_SEL='.'+SCROLLABLE;var RESPONSIVE='fp-responsive';var NO_TRANSITION='fp-notransition';var DESTROYED='fp-destroyed';var ENABLED='fp-enabled';var VIEWING_PREFIX='fp-viewing';var ACTIVE='active';var ACTIVE_SEL='.'+ACTIVE;var COMPLETELY='fp-completely';var COMPLETELY_SEL='.'+COMPLETELY;var SECTION_DEFAULT_SEL='.section';var SECTION='fp-section';var SECTION_SEL='.'+SECTION;var SECTION_ACTIVE_SEL=SECTION_SEL+ACTIVE_SEL;var SECTION_FIRST_SEL=SECTION_SEL+':first';var SECTION_LAST_SEL=SECTION_SEL+':last';var TABLE_CELL='fp-tableCell';var TABLE_CELL_SEL='.'+TABLE_CELL;var AUTO_HEIGHT='fp-auto-height';var AUTO_HEIGHT_SEL='.fp-auto-height';var NORMAL_SCROLL='fp-normal-scroll';var NORMAL_SCROLL_SEL='.fp-normal-scroll';var SECTION_NAV='fp-nav';var SECTION_NAV_SEL='#'+SECTION_NAV;var SECTION_NAV_TOOLTIP='fp-tooltip';var SECTION_NAV_TOOLTIP_SEL='.'+SECTION_NAV_TOOLTIP;var SHOW_ACTIVE_TOOLTIP='fp-show-active';var SLIDE_DEFAULT_SEL='.slide';var SLIDE='fp-slide';var SLIDE_SEL='.'+SLIDE;var SLIDE_ACTIVE_SEL=SLIDE_SEL+ACTIVE_SEL;var SLIDES_WRAPPER='fp-slides';var SLIDES_WRAPPER_SEL='.'+SLIDES_WRAPPER;var SLIDES_CONTAINER='fp-slidesContainer';var SLIDES_CONTAINER_SEL='.'+SLIDES_CONTAINER;var TABLE='fp-table';var SLIDES_NAV='fp-slidesNav';var SLIDES_NAV_SEL='.'+SLIDES_NAV;var SLIDES_NAV_LINK_SEL=SLIDES_NAV_SEL+' a';var SLIDES_ARROW='fp-controlArrow';var SLIDES_ARROW_SEL='.'+SLIDES_ARROW;var SLIDES_PREV='fp-prev';var SLIDES_PREV_SEL='.'+SLIDES_PREV;var SLIDES_ARROW_PREV=SLIDES_ARROW+' '+SLIDES_PREV;var SLIDES_ARROW_PREV_SEL=SLIDES_ARROW_SEL+SLIDES_PREV_SEL;var SLIDES_NEXT='fp-next';var SLIDES_NEXT_SEL='.'+SLIDES_NEXT;var SLIDES_ARROW_NEXT=SLIDES_ARROW+' '+SLIDES_NEXT;var SLIDES_ARROW_NEXT_SEL=SLIDES_ARROW_SEL+SLIDES_NEXT_SEL;var $window=$(window);var $document=$(document);$.fn.fullpage=function(options){if($('html').hasClass(ENABLED)){displayWarnings();return;}
var $htmlBody=$('html, body');var $body=$('body');var FP=$.fn.fullpage;options=$.extend({menu:false,anchors:[],lockAnchors:false,navigation:false,navigationPosition:'right',navigationTooltips:[],showActiveTooltip:false,slidesNavigation:false,slidesNavPosition:'bottom',scrollBar:false,hybrid:false,css3:true,scrollingSpeed:700,autoScrolling:true,fitToSection:true,fitToSectionDelay:1000,easing:'easeInOutCubic',easingcss3:'ease',loopBottom:false,loopTop:false,loopHorizontal:true,continuousVertical:false,continuousHorizontal:false,scrollHorizontally:false,interlockedSlides:false,dragAndMove:false,offsetSections:false,resetSliders:false,fadingEffect:false,normalScrollElements:null,scrollOverflow:false,scrollOverflowReset:false,scrollOverflowHandler:$.fn.fp_scrolloverflow?$.fn.fp_scrolloverflow.iscrollHandler:null,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,bigSectionsDestination:null,keyboardScrolling:true,animateAnchor:true,recordHistory:true,controlArrows:true,controlArrowColor:'#fff',verticalCentered:true,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:false,parallax:false,parallaxOptions:{type:'reveal',percentage:62,property:'translate'},sectionSelector:SECTION_DEFAULT_SEL,slideSelector:SLIDE_DEFAULT_SEL,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:true},options);var slideMoving=false;var isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/);var isTouch=(('ontouchstart'in window)||(navigator.msMaxTouchPoints>0)||(navigator.maxTouchPoints));var container=$(this);var windowsHeight=$window.height();var isResizing=false;var isWindowFocused=true;var lastScrolledDestiny;var lastScrolledSlide;var canScroll=true;var scrollings=[];var controlPressed;var startingSection;var isScrollAllowed={};isScrollAllowed.m={'up':true,'down':true,'left':true,'right':true};isScrollAllowed.k=$.extend(true,{},isScrollAllowed.m);var MSPointer=getMSPointer();var events={touchmove:'ontouchmove'in window?'touchmove':MSPointer.move,touchstart:'ontouchstart'in window?'touchstart':MSPointer.down};var scrollBarHandler;var resizeId;var afterSectionLoadsId;var afterSlideLoadsId;var scrollId;var scrollId2;var keydownId;var originals=$.extend(true,{},options);displayWarnings();$.extend($.easing,{easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;}});function setAutoScrolling(value,type){if(!value){silentScroll(0);}
setVariableState('autoScrolling',value,type);var element=$(SECTION_ACTIVE_SEL);if(options.autoScrolling&&!options.scrollBar){$htmlBody.css({'overflow':'hidden','height':'100%'});setRecordHistory(originals.recordHistory,'internal');container.css({'-ms-touch-action':'none','touch-action':'none'});if(element.length){silentScroll(element.position().top);}}else{$htmlBody.css({'overflow':'visible','height':'initial'});setRecordHistory(false,'internal');container.css({'-ms-touch-action':'','touch-action':''});if(element.length){$htmlBody.scrollTop(element.position().top);}}}
function setRecordHistory(value,type){setVariableState('recordHistory',value,type);}
function setScrollingSpeed(value,type){setVariableState('scrollingSpeed',value,type);}
function setFitToSection(value,type){setVariableState('fitToSection',value,type);}
function setLockAnchors(value){options.lockAnchors=value;}
function setMouseWheelScrolling(value){if(value){addMouseWheelHandler();addMiddleWheelHandler();}else{removeMouseWheelHandler();removeMiddleWheelHandler();}}
function setAllowScrolling(value,directions){if(typeof directions!=='undefined'){directions=directions.replace(/ /g,'').split(',');$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,'m');});}
else{setIsScrollAllowed(value,'all','m');if(value){setMouseWheelScrolling(true);addTouchHandler();}else{setMouseWheelScrolling(false);removeTouchHandler();}}}
function setKeyboardScrolling(value,directions){if(typeof directions!=='undefined'){directions=directions.replace(/ /g,'').split(',');$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,'k');});}else{setIsScrollAllowed(value,'all','k');options.keyboardScrolling=value;}}
function moveSectionUp(){var prev=$(SECTION_ACTIVE_SEL).prev(SECTION_SEL);if(!prev.length&&(options.loopTop||options.continuousVertical)){prev=$(SECTION_SEL).last();}
if(prev.length){scrollPage(prev,null,true);}}
function moveSectionDown(){var next=$(SECTION_ACTIVE_SEL).next(SECTION_SEL);if(!next.length&&(options.loopBottom||options.continuousVertical)){next=$(SECTION_SEL).first();}
if(next.length){scrollPage(next,null,false);}}
function silentMoveTo(sectionAnchor,slideAnchor){setScrollingSpeed(0,'internal');moveTo(sectionAnchor,slideAnchor);setScrollingSpeed(originals.scrollingSpeed,'internal');}
function moveTo(sectionAnchor,slideAnchor){var destiny=getSectionByAnchor(sectionAnchor);if(typeof slideAnchor!=='undefined'){scrollPageAndSlide(sectionAnchor,slideAnchor);}else if(destiny.length>0){scrollPage(destiny);}}
function moveSlideRight(section){moveSlide('right',section);}
function moveSlideLeft(section){moveSlide('left',section);}
function reBuild(resizing){if(container.hasClass(DESTROYED)){return;}
isResizing=true;windowsHeight=$window.height();$(SECTION_SEL).each(function(){var slidesWrap=$(this).find(SLIDES_WRAPPER_SEL);var slides=$(this).find(SLIDE_SEL);if(options.verticalCentered){$(this).find(TABLE_CELL_SEL).css('height',getTableHeight($(this))+'px');}
$(this).css('height',windowsHeight+'px');if(slides.length>1){landscapeScroll(slidesWrap,slidesWrap.find(SLIDE_ACTIVE_SEL));}});if(options.scrollOverflow){scrollBarHandler.createScrollBarForAll();}
var activeSection=$(SECTION_ACTIVE_SEL);var sectionIndex=activeSection.index(SECTION_SEL);if(sectionIndex){silentMoveTo(sectionIndex+1);}
isResizing=false;$.isFunction(options.afterResize)&&resizing&&options.afterResize.call(container);$.isFunction(options.afterReBuild)&&!resizing&&options.afterReBuild.call(container);}
function setResponsive(active){var isResponsive=$body.hasClass(RESPONSIVE);if(active){if(!isResponsive){setAutoScrolling(false,'internal');setFitToSection(false,'internal');$(SECTION_NAV_SEL).hide();$body.addClass(RESPONSIVE);$.isFunction(options.afterResponsive)&&options.afterResponsive.call(container,active);}}
else if(isResponsive){setAutoScrolling(originals.autoScrolling,'internal');setFitToSection(originals.autoScrolling,'internal');$(SECTION_NAV_SEL).show();$body.removeClass(RESPONSIVE);$.isFunction(options.afterResponsive)&&options.afterResponsive.call(container,active);}}
if($(this).length){FP.version='2.9.5';FP.setAutoScrolling=setAutoScrolling;FP.setRecordHistory=setRecordHistory;FP.setScrollingSpeed=setScrollingSpeed;FP.setFitToSection=setFitToSection;FP.setLockAnchors=setLockAnchors;FP.setMouseWheelScrolling=setMouseWheelScrolling;FP.setAllowScrolling=setAllowScrolling;FP.setKeyboardScrolling=setKeyboardScrolling;FP.moveSectionUp=moveSectionUp;FP.moveSectionDown=moveSectionDown;FP.silentMoveTo=silentMoveTo;FP.moveTo=moveTo;FP.moveSlideRight=moveSlideRight;FP.moveSlideLeft=moveSlideLeft;FP.fitToSection=fitToSection;FP.reBuild=reBuild;FP.setResponsive=setResponsive;FP.destroy=destroy;FP.shared={afterRenderActions:afterRenderActions};init();bindEvents();}
function init(){if(options.css3){options.css3=support3d();}
options.scrollBar=options.scrollBar||options.hybrid;setOptionsFromDOM();prepareDom();setAllowScrolling(true);setAutoScrolling(options.autoScrolling,'internal');responsive();setBodyClass();if(document.readyState==='complete'){scrollToAnchor();}
$window.on('load',scrollToAnchor);}
function bindEvents(){$window.on('scroll',scrollHandler).on('hashchange',hashChangeHandler).blur(blurHandler).resize(resizeHandler);$document.keydown(keydownHandler).keyup(keyUpHandler).on('click touchstart',SECTION_NAV_SEL+' a',sectionBulletHandler).on('click touchstart',SLIDES_NAV_LINK_SEL,slideBulletHandler).on('click',SECTION_NAV_TOOLTIP_SEL,tooltipTextHandler);$(SECTION_SEL).on('click touchstart',SLIDES_ARROW_SEL,slideArrowHandler);if(options.normalScrollElements){$document.on('mouseenter touchstart',options.normalScrollElements,function(){setAllowScrolling(false);});$document.on('mouseleave touchend',options.normalScrollElements,function(){setAllowScrolling(true);});}}
function setOptionsFromDOM(){var sections=container.find(options.sectionSelector);if(!options.anchors.length){options.anchors=sections.filter('[data-anchor]').map(function(){return $(this).data('anchor').toString();}).get();}
if(!options.navigationTooltips.length){options.navigationTooltips=sections.filter('[data-tooltip]').map(function(){return $(this).data('tooltip').toString();}).get();}}
function prepareDom(){container.css({'height':'100%','position':'relative'});container.addClass(WRAPPER);$('html').addClass(ENABLED);windowsHeight=$window.height();container.removeClass(DESTROYED);addInternalSelectors();$(SECTION_SEL).each(function(index){var section=$(this);var slides=section.find(SLIDE_SEL);var numSlides=slides.length;styleSection(section,index);styleMenu(section,index);if(numSlides>0){styleSlides(section,slides,numSlides);}else{if(options.verticalCentered){addTableClass(section);}}});if(options.fixedElements&&options.css3){$(options.fixedElements).appendTo($body);}
if(options.navigation){addVerticalNavigation();}
enableYoutubeAPI();if(options.scrollOverflow){scrollBarHandler=options.scrollOverflowHandler.init(options);}else{afterRenderActions();}}
function styleSlides(section,slides,numSlides){var sliderWidth=numSlides*100;var slideWidth=100/numSlides;slides.wrapAll('<div class="'+SLIDES_CONTAINER+'" />');slides.parent().wrap('<div class="'+SLIDES_WRAPPER+'" />');section.find(SLIDES_CONTAINER_SEL).css('width',sliderWidth+'%');if(numSlides>1){if(options.controlArrows){createSlideArrows(section);}
if(options.slidesNavigation){addSlidesNavigation(section,numSlides);}}
slides.each(function(index){$(this).css('width',slideWidth+'%');if(options.verticalCentered){addTableClass($(this));}});var startingSlide=section.find(SLIDE_ACTIVE_SEL);if(startingSlide.length&&($(SECTION_ACTIVE_SEL).index(SECTION_SEL)!==0||($(SECTION_ACTIVE_SEL).index(SECTION_SEL)===0&&startingSlide.index()!==0))){silentLandscapeScroll(startingSlide,'internal');}else{slides.eq(0).addClass(ACTIVE);}}
function styleSection(section,index){if(!index&&$(SECTION_ACTIVE_SEL).length===0){section.addClass(ACTIVE);}
startingSection=$(SECTION_ACTIVE_SEL);section.css('height',windowsHeight+'px');if(options.paddingTop){section.css('padding-top',options.paddingTop);}
if(options.paddingBottom){section.css('padding-bottom',options.paddingBottom);}
if(typeof options.sectionsColor[index]!=='undefined'){section.css('background-color',options.sectionsColor[index]);}
if(typeof options.anchors[index]!=='undefined'){section.attr('data-anchor',options.anchors[index]);}}
function styleMenu(section,index){if(typeof options.anchors[index]!=='undefined'){if(section.hasClass(ACTIVE)){activateMenuAndNav(options.anchors[index],index);}}
if(options.menu&&options.css3&&$(options.menu).closest(WRAPPER_SEL).length){$(options.menu).appendTo($body);}}
function addInternalSelectors(){container.find(options.sectionSelector).addClass(SECTION);container.find(options.slideSelector).addClass(SLIDE);}
function createSlideArrows(section){section.find(SLIDES_WRAPPER_SEL).after('<div class="'+SLIDES_ARROW_PREV+'"></div><div class="'+SLIDES_ARROW_NEXT+'"></div>');if(options.controlArrowColor!='#fff'){section.find(SLIDES_ARROW_NEXT_SEL).css('border-color','transparent transparent transparent '+options.controlArrowColor);section.find(SLIDES_ARROW_PREV_SEL).css('border-color','transparent '+options.controlArrowColor+' transparent transparent');}
if(!options.loopHorizontal){section.find(SLIDES_ARROW_PREV_SEL).hide();}}
function addVerticalNavigation(){$body.append('<div id="'+SECTION_NAV+'"><ul></ul></div>');var nav=$(SECTION_NAV_SEL);nav.addClass(function(){return options.showActiveTooltip?SHOW_ACTIVE_TOOLTIP+' '+options.navigationPosition:options.navigationPosition;});for(var i=0;i<$(SECTION_SEL).length;i++){var link='';if(options.anchors.length){link=options.anchors[i];}
var li='<li><a href="#'+link+'"><span></span></a>';var tooltip=options.navigationTooltips[i];if(typeof tooltip!=='undefined'&&tooltip!==''){li+='<div class="'+SECTION_NAV_TOOLTIP+' '+options.navigationPosition+'">'+tooltip+'</div>';}
li+='</li>';nav.find('ul').append(li);}
$(SECTION_NAV_SEL).css('margin-top','-'+($(SECTION_NAV_SEL).height()/2)+'px');$(SECTION_NAV_SEL).find('li').eq($(SECTION_ACTIVE_SEL).index(SECTION_SEL)).find('a').addClass(ACTIVE);}
function enableYoutubeAPI(){container.find('iframe[src*="youtube.com/embed/"]').each(function(){addURLParam($(this),'enablejsapi=1');});}
function addURLParam(element,newParam){var originalSrc=element.attr('src');element.attr('src',originalSrc+getUrlParamSign(originalSrc)+newParam);}
function getUrlParamSign(url){return(!/\?/.test(url))?'?':'&';}
function afterRenderActions(){var section=$(SECTION_ACTIVE_SEL);section.addClass(COMPLETELY);lazyLoad(section);playMedia(section);if(options.scrollOverflow){options.scrollOverflowHandler.afterLoad();}
if(isDestinyTheStartingSection()){$.isFunction(options.afterLoad)&&options.afterLoad.call(section,section.data('anchor'),(section.index(SECTION_SEL)+1));}
$.isFunction(options.afterRender)&&options.afterRender.call(container);}
function isDestinyTheStartingSection(){var destinationSection=getSectionByAnchor(getAnchorsURL().section);return!destinationSection.length||destinationSection.length&&destinationSection.index()===startingSection.index();}
var isScrolling=false;var lastScroll=0;function scrollHandler(){var currentSection;if(!options.autoScrolling||options.scrollBar){var currentScroll=$window.scrollTop();var scrollDirection=getScrollDirection(currentScroll);var visibleSectionIndex=0;var screen_mid=currentScroll+($window.height()/2.0);var isAtBottom=$body.height()-$window.height()===currentScroll;var sections=document.querySelectorAll(SECTION_SEL);if(isAtBottom){visibleSectionIndex=sections.length-1;}
else if(!currentScroll){visibleSectionIndex=0;}
else{for(var i=0;i<sections.length;++i){var section=sections[i];if(section.offsetTop<=screen_mid)
{visibleSectionIndex=i;}}}
if(isCompletelyInViewPort(scrollDirection)){if(!$(SECTION_ACTIVE_SEL).hasClass(COMPLETELY)){$(SECTION_ACTIVE_SEL).addClass(COMPLETELY).siblings().removeClass(COMPLETELY);}}
currentSection=$(sections).eq(visibleSectionIndex);if(!currentSection.hasClass(ACTIVE)){isScrolling=true;var leavingSection=$(SECTION_ACTIVE_SEL);var leavingSectionIndex=leavingSection.index(SECTION_SEL)+1;var yMovement=getYmovement(currentSection);var anchorLink=currentSection.data('anchor');var sectionIndex=currentSection.index(SECTION_SEL)+1;var activeSlide=currentSection.find(SLIDE_ACTIVE_SEL);var slideIndex;var slideAnchorLink;if(activeSlide.length){slideAnchorLink=activeSlide.data('anchor');slideIndex=activeSlide.index();}
if(canScroll){currentSection.addClass(ACTIVE).siblings().removeClass(ACTIVE);$.isFunction(options.onLeave)&&options.onLeave.call(leavingSection,leavingSectionIndex,sectionIndex,yMovement);$.isFunction(options.afterLoad)&&options.afterLoad.call(currentSection,anchorLink,sectionIndex);stopMedia(leavingSection);lazyLoad(currentSection);playMedia(currentSection);activateMenuAndNav(anchorLink,sectionIndex-1);if(options.anchors.length){lastScrolledDestiny=anchorLink;}
setState(slideIndex,slideAnchorLink,anchorLink,sectionIndex);}
clearTimeout(scrollId);scrollId=setTimeout(function(){isScrolling=false;},100);}
if(options.fitToSection){clearTimeout(scrollId2);scrollId2=setTimeout(function(){if(options.fitToSection&&$(SECTION_ACTIVE_SEL).outerHeight()<=windowsHeight){fitToSection();}},options.fitToSectionDelay);}}}
function fitToSection(){if(canScroll){isResizing=true;scrollPage($(SECTION_ACTIVE_SEL));isResizing=false;}}
function isCompletelyInViewPort(movement){var top=$(SECTION_ACTIVE_SEL).position().top;var bottom=top+$window.height();if(movement=='up'){return bottom>=($window.scrollTop()+$window.height());}
return top<=$window.scrollTop();}
function getScrollDirection(currentScroll){var direction=currentScroll>lastScroll?'down':'up';lastScroll=currentScroll;previousDestTop=currentScroll;return direction;}
function scrolling(type){if(!isScrollAllowed.m[type]){return;}
var scrollSection=(type==='down')?moveSectionDown:moveSectionUp;if(options.scrollOverflow){var scrollable=options.scrollOverflowHandler.scrollable($(SECTION_ACTIVE_SEL));var check=(type==='down')?'bottom':'top';if(scrollable.length>0){if(options.scrollOverflowHandler.isScrolled(check,scrollable)){scrollSection();}else{return true;}}else{scrollSection();}}else{scrollSection();}}
function preventBouncing(event){var e=event.originalEvent;if(options.autoScrolling&&isReallyTouch(e)){event.preventDefault();}}
var touchStartY=0;var touchStartX=0;var touchEndY=0;var touchEndX=0;function touchMoveHandler(event){var e=event.originalEvent;var activeSection=$(e.target).closest(SECTION_SEL);if(isReallyTouch(e)){if(options.autoScrolling){event.preventDefault();}
var touchEvents=getEventsPage(e);touchEndY=touchEvents.y;touchEndX=touchEvents.x;if(activeSection.find(SLIDES_WRAPPER_SEL).length&&Math.abs(touchStartX-touchEndX)>(Math.abs(touchStartY-touchEndY))){if(!slideMoving&&Math.abs(touchStartX-touchEndX)>($window.outerWidth()/100*options.touchSensitivity)){if(touchStartX>touchEndX){if(isScrollAllowed.m.right){moveSlideRight(activeSection);}}else{if(isScrollAllowed.m.left){moveSlideLeft(activeSection);}}}}
else if(options.autoScrolling&&canScroll){if(Math.abs(touchStartY-touchEndY)>($window.height()/100*options.touchSensitivity)){if(touchStartY>touchEndY){scrolling('down');}else if(touchEndY>touchStartY){scrolling('up');}}}}}
function isReallyTouch(e){return typeof e.pointerType==='undefined'||e.pointerType!='mouse';}
function touchStartHandler(event){var e=event.originalEvent;if(options.fitToSection){$htmlBody.stop();}
if(isReallyTouch(e)){var touchEvents=getEventsPage(e);touchStartY=touchEvents.y;touchStartX=touchEvents.x;}}
function getAverage(elements,number){var sum=0;var lastElements=elements.slice(Math.max(elements.length-number,1));for(var i=0;i<lastElements.length;i++){sum=sum+lastElements[i];}
return Math.ceil(sum/number);}
var prevTime=new Date().getTime();function MouseWheelHandler(e){var curTime=new Date().getTime();var isNormalScroll=$(COMPLETELY_SEL).hasClass(NORMAL_SCROLL);if(options.autoScrolling&&!controlPressed&&!isNormalScroll){e=e||window.event;var value=e.wheelDelta||-e.deltaY||-e.detail;var delta=Math.max(-1,Math.min(1,value));var horizontalDetection=typeof e.wheelDeltaX!=='undefined'||typeof e.deltaX!=='undefined';var isScrollingVertically=(Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta))||(Math.abs(e.deltaX)<Math.abs(e.deltaY)||!horizontalDetection);if(scrollings.length>149){scrollings.shift();}
scrollings.push(Math.abs(value));if(options.scrollBar){e.preventDefault?e.preventDefault():e.returnValue=false;}
var timeDiff=curTime-prevTime;prevTime=curTime;if(timeDiff>200){scrollings=[];}
if(canScroll){var averageEnd=getAverage(scrollings,10);var averageMiddle=getAverage(scrollings,70);var isAccelerating=averageEnd>=averageMiddle;if(isAccelerating&&isScrollingVertically){if(delta<0){scrolling('down');}else{scrolling('up');}}}
return false;}
if(options.fitToSection){$htmlBody.stop();}}
function moveSlide(direction,section){var activeSection=typeof section==='undefined'?$(SECTION_ACTIVE_SEL):section;var slides=activeSection.find(SLIDES_WRAPPER_SEL);var numSlides=slides.find(SLIDE_SEL).length;if(!slides.length||slideMoving||numSlides<2){return;}
var currentSlide=slides.find(SLIDE_ACTIVE_SEL);var destiny=null;if(direction==='left'){destiny=currentSlide.prev(SLIDE_SEL);}else{destiny=currentSlide.next(SLIDE_SEL);}
if(!destiny.length){if(!options.loopHorizontal)return;if(direction==='left'){destiny=currentSlide.siblings(':last');}else{destiny=currentSlide.siblings(':first');}}
slideMoving=true;landscapeScroll(slides,destiny,direction);}
function keepSlidesPosition(){$(SLIDE_ACTIVE_SEL).each(function(){silentLandscapeScroll($(this),'internal');});}
var previousDestTop=0;function getDestinationPosition(element){var elemPosition=element.position();var position=elemPosition.top;var isScrollingDown=elemPosition.top>previousDestTop;var sectionBottom=position-windowsHeight+element.outerHeight();var bigSectionsDestination=options.bigSectionsDestination;if(element.outerHeight()>windowsHeight){if(!isScrollingDown&&!bigSectionsDestination||bigSectionsDestination==='bottom'){position=sectionBottom;}}
else if(isScrollingDown||(isResizing&&element.is(':last-child'))){position=sectionBottom;}
previousDestTop=position;return position;}
function scrollPage(element,callback,isMovementUp){if(typeof element==='undefined'){return;}
var dtop=getDestinationPosition(element);var slideAnchorLink;var slideIndex;var v={element:element,callback:callback,isMovementUp:isMovementUp,dtop:dtop,yMovement:getYmovement(element),anchorLink:element.data('anchor'),sectionIndex:element.index(SECTION_SEL),activeSlide:element.find(SLIDE_ACTIVE_SEL),activeSection:$(SECTION_ACTIVE_SEL),leavingSection:$(SECTION_ACTIVE_SEL).index(SECTION_SEL)+1,localIsResizing:isResizing};if((v.activeSection.is(element)&&!isResizing)||(options.scrollBar&&$window.scrollTop()===v.dtop&&!element.hasClass(AUTO_HEIGHT))){return;}
if(v.activeSlide.length){slideAnchorLink=v.activeSlide.data('anchor');slideIndex=v.activeSlide.index();}
if($.isFunction(options.onLeave)&&!v.localIsResizing){if(options.onLeave.call(v.activeSection,v.leavingSection,(v.sectionIndex+1),v.yMovement)===false){return;}}
if(options.autoScrolling&&options.continuousVertical&&typeof(v.isMovementUp)!=="undefined"&&((!v.isMovementUp&&v.yMovement=='up')||(v.isMovementUp&&v.yMovement=='down'))){v=createInfiniteSections(v);}
if(!v.localIsResizing){stopMedia(v.activeSection);}
if(options.scrollOverflow){options.scrollOverflowHandler.beforeLeave();}
element.addClass(ACTIVE).siblings().removeClass(ACTIVE);lazyLoad(element);if(options.scrollOverflow){options.scrollOverflowHandler.onLeave();}
canScroll=false;setState(slideIndex,slideAnchorLink,v.anchorLink,v.sectionIndex);performMovement(v);lastScrolledDestiny=v.anchorLink;activateMenuAndNav(v.anchorLink,v.sectionIndex);}
function performMovement(v){if(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d='translate3d(0px, -'+Math.round(v.dtop)+'px, 0px)';transformContainer(translate3d,true);if(options.scrollingSpeed){clearTimeout(afterSectionLoadsId);afterSectionLoadsId=setTimeout(function(){afterSectionLoads(v);},options.scrollingSpeed);}else{afterSectionLoads(v);}}
else{var scrollSettings=getScrollSettings(v);$(scrollSettings.element).animate(scrollSettings.options,options.scrollingSpeed,options.easing).promise().done(function(){if(options.scrollBar){setTimeout(function(){afterSectionLoads(v);},30);}else{afterSectionLoads(v);}});}}
function getScrollSettings(v){var scroll={};if(options.autoScrolling&&!options.scrollBar){scroll.options={'top':-v.dtop};scroll.element=WRAPPER_SEL;}else{scroll.options={'scrollTop':v.dtop};scroll.element='html, body';}
return scroll;}
function createInfiniteSections(v){if(!v.isMovementUp){$(SECTION_ACTIVE_SEL).after(v.activeSection.prevAll(SECTION_SEL).get().reverse());}
else{$(SECTION_ACTIVE_SEL).before(v.activeSection.nextAll(SECTION_SEL));}
silentScroll($(SECTION_ACTIVE_SEL).position().top);keepSlidesPosition();v.wrapAroundElements=v.activeSection;v.dtop=v.element.position().top;v.yMovement=getYmovement(v.element);v.leavingSection=v.activeSection.index(SECTION_SEL)+1;v.sectionIndex=v.element.index(SECTION_SEL);return v;}
function continuousVerticalFixSectionOrder(v){if(!v.wrapAroundElements||!v.wrapAroundElements.length){return;}
if(v.isMovementUp){$(SECTION_FIRST_SEL).before(v.wrapAroundElements);}
else{$(SECTION_LAST_SEL).after(v.wrapAroundElements);}
silentScroll($(SECTION_ACTIVE_SEL).position().top);keepSlidesPosition();}
function afterSectionLoads(v){continuousVerticalFixSectionOrder(v);$.isFunction(options.afterLoad)&&!v.localIsResizing&&options.afterLoad.call(v.element,v.anchorLink,(v.sectionIndex+1));if(options.scrollOverflow){options.scrollOverflowHandler.afterLoad();}
if(!v.localIsResizing){playMedia(v.element);}
v.element.addClass(COMPLETELY).siblings().removeClass(COMPLETELY);canScroll=true;$.isFunction(v.callback)&&v.callback.call(this);}
function setSrc(element,attribute){element.attr(attribute,element.data(attribute)).removeAttr('data-'+attribute);}
function lazyLoad(destiny){if(!options.lazyLoading){return;}
var panel=getSlideOrSection(destiny);var element;panel.find('img[data-src], img[data-srcset], source[data-src], video[data-src], audio[data-src], iframe[data-src]').each(function(){element=$(this);$.each(['src','srcset'],function(index,type){var attribute=element.attr('data-'+type);if(typeof attribute!=='undefined'&&attribute){setSrc(element,type);}});if(element.is('source')){var typeToPlay=element.closest('video').length?'video':'audio';element.closest(typeToPlay).get(0).load();}});}
function playMedia(destiny){var panel=getSlideOrSection(destiny);panel.find('video, audio').each(function(){var element=$(this).get(0);if(element.hasAttribute('data-autoplay')&&typeof element.play==='function'){element.play();}});panel.find('iframe[src*="youtube.com/embed/"]').each(function(){var element=$(this).get(0);if(element.hasAttribute('data-autoplay')){playYoutube(element);}
element.onload=function(){if(element.hasAttribute('data-autoplay')){playYoutube(element);}};});}
function playYoutube(element){element.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}','*');}
function stopMedia(destiny){var panel=getSlideOrSection(destiny);panel.find('video, audio').each(function(){var element=$(this).get(0);if(!element.hasAttribute('data-keepplaying')&&typeof element.pause==='function'){element.pause();}});panel.find('iframe[src*="youtube.com/embed/"]').each(function(){var element=$(this).get(0);if(/youtube\.com\/embed\//.test($(this).attr('src'))&&!element.hasAttribute('data-keepplaying')){$(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');}});}
function getSlideOrSection(destiny){var slide=destiny.find(SLIDE_ACTIVE_SEL);if(slide.length){destiny=$(slide);}
return destiny;}
function scrollToAnchor(){var anchors=getAnchorsURL();var sectionAnchor=anchors.section;var slideAnchor=anchors.slide;if(sectionAnchor){if(options.animateAnchor){scrollPageAndSlide(sectionAnchor,slideAnchor);}else{silentMoveTo(sectionAnchor,slideAnchor);}}}
function hashChangeHandler(){if(!isScrolling&&!options.lockAnchors){var anchors=getAnchorsURL();var sectionAnchor=anchors.section;var slideAnchor=anchors.slide;var isFirstSlideMove=(typeof lastScrolledDestiny==='undefined');var isFirstScrollMove=(typeof lastScrolledDestiny==='undefined'&&typeof slideAnchor==='undefined'&&!slideMoving);if(sectionAnchor.length){if((sectionAnchor&&sectionAnchor!==lastScrolledDestiny)&&!isFirstSlideMove||isFirstScrollMove||(!slideMoving&&lastScrolledSlide!=slideAnchor)){scrollPageAndSlide(sectionAnchor,slideAnchor);}}}}
function getAnchorsURL(){var hash=window.location.hash;var anchorsParts=hash.replace('#','').split('/');var isFunkyAnchor=hash.indexOf('#/')>-1;return{section:isFunkyAnchor?'/'+anchorsParts[1]:decodeURIComponent(anchorsParts[0]),slide:isFunkyAnchor?decodeURIComponent(anchorsParts[2]):decodeURIComponent(anchorsParts[1])}}
function keydownHandler(e){clearTimeout(keydownId);var activeElement=$(':focus');if(!activeElement.is('textarea')&&!activeElement.is('input')&&!activeElement.is('select')&&activeElement.attr('contentEditable')!=="true"&&activeElement.attr('contentEditable')!==''&&options.keyboardScrolling&&options.autoScrolling){var keyCode=e.which;var keyControls=[40,38,32,33,34];if($.inArray(keyCode,keyControls)>-1){e.preventDefault();}
controlPressed=e.ctrlKey;keydownId=setTimeout(function(){onkeydown(e);},150);}}
function tooltipTextHandler(){$(this).prev().trigger('click');}
function keyUpHandler(e){if(isWindowFocused){controlPressed=e.ctrlKey;}}
function mouseDownHandler(e){if(e.which==2){oldPageY=e.pageY;container.on('mousemove',mouseMoveHandler);}}
function mouseUpHandler(e){if(e.which==2){container.off('mousemove');}}
function slideArrowHandler(){var section=$(this).closest(SECTION_SEL);if($(this).hasClass(SLIDES_PREV)){if(isScrollAllowed.m.left){moveSlideLeft(section);}}else{if(isScrollAllowed.m.right){moveSlideRight(section);}}}
function blurHandler(){isWindowFocused=false;controlPressed=false;}
function sectionBulletHandler(e){e.preventDefault();var index=$(this).parent().index();scrollPage($(SECTION_SEL).eq(index));}
function slideBulletHandler(e){e.preventDefault();var slides=$(this).closest(SECTION_SEL).find(SLIDES_WRAPPER_SEL);var destiny=slides.find(SLIDE_SEL).eq($(this).closest('li').index());landscapeScroll(slides,destiny);}
function onkeydown(e){var shiftPressed=e.shiftKey;if(!canScroll&&[37,39].indexOf(e.which)<0){return;}
switch(e.which){case 38:case 33:if(isScrollAllowed.k.up){moveSectionUp();}
break;case 32:if(shiftPressed&&isScrollAllowed.k.up){moveSectionUp();break;}
case 40:case 34:if(isScrollAllowed.k.down){moveSectionDown();}
break;case 36:if(isScrollAllowed.k.up){moveTo(1);}
break;case 35:if(isScrollAllowed.k.down){moveTo($(SECTION_SEL).length);}
break;case 37:if(isScrollAllowed.k.left){moveSlideLeft();}
break;case 39:if(isScrollAllowed.k.right){moveSlideRight();}
break;default:return;}}
var oldPageY=0;function mouseMoveHandler(e){if(canScroll){if(e.pageY<oldPageY&&isScrollAllowed.m.up){moveSectionUp();}
else if(e.pageY>oldPageY&&isScrollAllowed.m.down){moveSectionDown();}}
oldPageY=e.pageY;}
function landscapeScroll(slides,destiny,direction){var section=slides.closest(SECTION_SEL);var v={slides:slides,destiny:destiny,direction:direction,destinyPos:destiny.position(),slideIndex:destiny.index(),section:section,sectionIndex:section.index(SECTION_SEL),anchorLink:section.data('anchor'),slidesNav:section.find(SLIDES_NAV_SEL),slideAnchor:getAnchor(destiny),prevSlide:section.find(SLIDE_ACTIVE_SEL),prevSlideIndex:section.find(SLIDE_ACTIVE_SEL).index(),localIsResizing:isResizing};v.xMovement=getXmovement(v.prevSlideIndex,v.slideIndex);if(!v.localIsResizing){canScroll=false;}
if(options.onSlideLeave){if(!v.localIsResizing&&v.xMovement!=='none'){if($.isFunction(options.onSlideLeave)){if(options.onSlideLeave.call(v.prevSlide,v.anchorLink,(v.sectionIndex+1),v.prevSlideIndex,v.direction,v.slideIndex)===false){slideMoving=false;return;}}}}
destiny.addClass(ACTIVE).siblings().removeClass(ACTIVE);if(!v.localIsResizing){stopMedia(v.prevSlide);lazyLoad(destiny);}
if(!options.loopHorizontal&&options.controlArrows){section.find(SLIDES_ARROW_PREV_SEL).toggle(v.slideIndex!==0);section.find(SLIDES_ARROW_NEXT_SEL).toggle(!destiny.is(':last-child'));}
if(section.hasClass(ACTIVE)&&!v.localIsResizing){setState(v.slideIndex,v.slideAnchor,v.anchorLink,v.sectionIndex);}
performHorizontalMove(slides,v,true);}
function afterSlideLoads(v){activeSlidesNavigation(v.slidesNav,v.slideIndex);if(!v.localIsResizing){$.isFunction(options.afterSlideLoad)&&options.afterSlideLoad.call(v.destiny,v.anchorLink,(v.sectionIndex+1),v.slideAnchor,v.slideIndex);canScroll=true;playMedia(v.destiny);}
slideMoving=false;}
function performHorizontalMove(slides,v,fireCallback){var destinyPos=v.destinyPos;if(options.css3){var translate3d='translate3d(-'+Math.round(destinyPos.left)+'px, 0px, 0px)';addAnimation(slides.find(SLIDES_CONTAINER_SEL)).css(getTransforms(translate3d));afterSlideLoadsId=setTimeout(function(){fireCallback&&afterSlideLoads(v);},options.scrollingSpeed,options.easing);}else{slides.animate({scrollLeft:Math.round(destinyPos.left)},options.scrollingSpeed,options.easing,function(){fireCallback&&afterSlideLoads(v);});}}
function activeSlidesNavigation(slidesNav,slideIndex){slidesNav.find(ACTIVE_SEL).removeClass(ACTIVE);slidesNav.find('li').eq(slideIndex).find('a').addClass(ACTIVE);}
var previousHeight=windowsHeight;function resizeHandler(){responsive();if(isTouchDevice){var activeElement=$(document.activeElement);if(!activeElement.is('textarea')&&!activeElement.is('input')&&!activeElement.is('select')){var currentHeight=$window.height();if(Math.abs(currentHeight-previousHeight)>(20*Math.max(previousHeight,currentHeight)/100)){reBuild(true);previousHeight=currentHeight;}}}else{clearTimeout(resizeId);resizeId=setTimeout(function(){reBuild(true);},350);}}
function responsive(){var widthLimit=options.responsive||options.responsiveWidth;var heightLimit=options.responsiveHeight;var isBreakingPointWidth=widthLimit&&$window.outerWidth()<widthLimit;var isBreakingPointHeight=heightLimit&&$window.height()<heightLimit;if(widthLimit&&heightLimit){setResponsive(isBreakingPointWidth||isBreakingPointHeight);}
else if(widthLimit){setResponsive(isBreakingPointWidth);}
else if(heightLimit){setResponsive(isBreakingPointHeight);}}
function addAnimation(element){var transition='all '+options.scrollingSpeed+'ms '+options.easingcss3;element.removeClass(NO_TRANSITION);return element.css({'-webkit-transition':transition,'transition':transition});}
function removeAnimation(element){return element.addClass(NO_TRANSITION);}
function activateNavDots(name,sectionIndex){if(options.navigation){$(SECTION_NAV_SEL).find(ACTIVE_SEL).removeClass(ACTIVE);if(name){$(SECTION_NAV_SEL).find('a[href="#'+name+'"]').addClass(ACTIVE);}else{$(SECTION_NAV_SEL).find('li').eq(sectionIndex).find('a').addClass(ACTIVE);}}}
function activateMenuElement(name){if(options.menu){$(options.menu).find(ACTIVE_SEL).removeClass(ACTIVE);$(options.menu).find('[data-menuanchor="'+name+'"]').addClass(ACTIVE);}}
function activateMenuAndNav(anchor,index){activateMenuElement(anchor);activateNavDots(anchor,index);}
function getYmovement(destiny){var fromIndex=$(SECTION_ACTIVE_SEL).index(SECTION_SEL);var toIndex=destiny.index(SECTION_SEL);if(fromIndex==toIndex){return'none';}
if(fromIndex>toIndex){return'up';}
return'down';}
function getXmovement(fromIndex,toIndex){if(fromIndex==toIndex){return'none';}
if(fromIndex>toIndex){return'left';}
return'right';}
function addTableClass(element){if(!element.hasClass(TABLE)){element.addClass(TABLE).wrapInner('<div class="'+TABLE_CELL+'" style="height:'+getTableHeight(element)+'px;" />');}}
function getTableHeight(element){var sectionHeight=windowsHeight;if(options.paddingTop||options.paddingBottom){var section=element;if(!section.hasClass(SECTION)){section=element.closest(SECTION_SEL);}
var paddings=parseInt(section.css('padding-top'))+parseInt(section.css('padding-bottom'));sectionHeight=(windowsHeight-paddings);}
return sectionHeight;}
function transformContainer(translate3d,animated){if(animated){addAnimation(container);}else{removeAnimation(container);}
container.css(getTransforms(translate3d));setTimeout(function(){container.removeClass(NO_TRANSITION);},10);}
function getSectionByAnchor(sectionAnchor){if(!sectionAnchor)return[];var section=container.find(SECTION_SEL+'[data-anchor="'+sectionAnchor+'"]');if(!section.length){section=$(SECTION_SEL).eq(sectionAnchor-1);}
return section;}
function getSlideByAnchor(slideAnchor,section){var slides=section.find(SLIDES_WRAPPER_SEL);var slide=slides.find(SLIDE_SEL+'[data-anchor="'+slideAnchor+'"]');if(!slide.length){slide=slides.find(SLIDE_SEL).eq(slideAnchor);}
return slide;}
function scrollPageAndSlide(destiny,slide){var section=getSectionByAnchor(destiny);if(!section.length)return;if(typeof slide==='undefined'){slide=0;}
if(destiny!==lastScrolledDestiny&&!section.hasClass(ACTIVE)){scrollPage(section,function(){scrollSlider(section,slide);});}
else{scrollSlider(section,slide);}}
function scrollSlider(section,slideAnchor){if(typeof slideAnchor!=='undefined'){var slides=section.find(SLIDES_WRAPPER_SEL);var destiny=getSlideByAnchor(slideAnchor,section);if(destiny.length){landscapeScroll(slides,destiny);}}}
function addSlidesNavigation(section,numSlides){section.append('<div class="'+SLIDES_NAV+'"><ul></ul></div>');var nav=section.find(SLIDES_NAV_SEL);nav.addClass(options.slidesNavPosition);for(var i=0;i<numSlides;i++){nav.find('ul').append('<li><a href="#"><span></span></a></li>');}
nav.css('margin-left','-'+(nav.width()/2)+'px');nav.find('li').first().find('a').addClass(ACTIVE);}
function setState(slideIndex,slideAnchor,anchorLink,sectionIndex){var sectionHash='';if(options.anchors.length&&!options.lockAnchors){if(slideIndex){if(typeof anchorLink!=='undefined'){sectionHash=anchorLink;}
if(typeof slideAnchor==='undefined'){slideAnchor=slideIndex;}
lastScrolledSlide=slideAnchor;setUrlHash(sectionHash+'/'+slideAnchor);}else if(typeof slideIndex!=='undefined'){lastScrolledSlide=slideAnchor;setUrlHash(anchorLink);}
else{setUrlHash(anchorLink);}}
setBodyClass();}
function setUrlHash(url){if(options.recordHistory){location.hash=url;}else{if(isTouchDevice||isTouch){window.history.replaceState(undefined,undefined,'#'+url);}else{var baseUrl=window.location.href.split('#')[0];window.location.replace(baseUrl+'#'+url);}}}
function getAnchor(element){var anchor=element.data('anchor');var index=element.index();if(typeof anchor==='undefined'){anchor=index;}
return anchor;}
function setBodyClass(){var section=$(SECTION_ACTIVE_SEL);var slide=section.find(SLIDE_ACTIVE_SEL);var sectionAnchor=getAnchor(section);var slideAnchor=getAnchor(slide);var text=String(sectionAnchor);if(slide.length){text=text+'-'+slideAnchor;}
text=text.replace('/','-').replace('#','');var classRe=new RegExp('\\b\\s?'+VIEWING_PREFIX+'-[^\\s]+\\b',"g");$body[0].className=$body[0].className.replace(classRe,'');$body.addClass(VIEWING_PREFIX+'-'+text);}
function support3d(){var el=document.createElement('p'),has3d,transforms={'webkitTransform':'-webkit-transform','OTransform':'-o-transform','msTransform':'-ms-transform','MozTransform':'-moz-transform','transform':'transform'};document.body.insertBefore(el,null);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]='translate3d(1px,1px,1px)';has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]);}}
document.body.removeChild(el);return(has3d!==undefined&&has3d.length>0&&has3d!=='none');}
function removeMouseWheelHandler(){if(document.addEventListener){document.removeEventListener('mousewheel',MouseWheelHandler,false);document.removeEventListener('wheel',MouseWheelHandler,false);document.removeEventListener('MozMousePixelScroll',MouseWheelHandler,false);}else{document.detachEvent('onmousewheel',MouseWheelHandler);}}
function addMouseWheelHandler(){var prefix='';var _addEventListener;if(window.addEventListener){_addEventListener="addEventListener";}else{_addEventListener="attachEvent";prefix='on';}
var support='onwheel'in document.createElement('div')?'wheel':document.onmousewheel!==undefined?'mousewheel':'DOMMouseScroll';if(support=='DOMMouseScroll'){document[_addEventListener](prefix+'MozMousePixelScroll',MouseWheelHandler,false);}
else{document[_addEventListener](prefix+support,MouseWheelHandler,false);}}
function addMiddleWheelHandler(){container.on('mousedown',mouseDownHandler).on('mouseup',mouseUpHandler);}
function removeMiddleWheelHandler(){container.off('mousedown',mouseDownHandler).off('mouseup',mouseUpHandler);}
function addTouchHandler(){if(isTouchDevice||isTouch){if(options.autoScrolling){$body.off(events.touchmove).on(events.touchmove,preventBouncing);}
$(WRAPPER_SEL).off(events.touchstart).on(events.touchstart,touchStartHandler).off(events.touchmove).on(events.touchmove,touchMoveHandler);}}
function removeTouchHandler(){if(isTouchDevice||isTouch){if(options.autoScrolling){$body.off(events.touchmove);}
$(WRAPPER_SEL).off(events.touchstart).off(events.touchmove);}}
function getMSPointer(){var pointer;if(window.PointerEvent){pointer={down:'pointerdown',move:'pointermove'};}
else{pointer={down:'MSPointerDown',move:'MSPointerMove'};}
return pointer;}
function getEventsPage(e){var events=[];events.y=(typeof e.pageY!=='undefined'&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY);events.x=(typeof e.pageX!=='undefined'&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX);if(isTouch&&isReallyTouch(e)&&options.scrollBar){events.y=e.touches[0].pageY;events.x=e.touches[0].pageX;}
return events;}
function silentLandscapeScroll(activeSlide,noCallbacks){setScrollingSpeed(0,'internal');if(typeof noCallbacks!=='undefined'){isResizing=true;}
landscapeScroll(activeSlide.closest(SLIDES_WRAPPER_SEL),activeSlide);if(typeof noCallbacks!=='undefined'){isResizing=false;}
setScrollingSpeed(originals.scrollingSpeed,'internal');}
function silentScroll(top){var roundedTop=Math.round(top);if(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d='translate3d(0px, -'+roundedTop+'px, 0px)';transformContainer(translate3d,false);}
else if(options.autoScrolling&&!options.scrollBar){container.css('top',-roundedTop);}
else{$htmlBody.scrollTop(roundedTop);}}
function getTransforms(translate3d){return{'-webkit-transform':translate3d,'-moz-transform':translate3d,'-ms-transform':translate3d,'transform':translate3d};}
function setIsScrollAllowed(value,direction,type){if(direction!=='all'){isScrollAllowed[type][direction]=value;}
else{$.each(Object.keys(isScrollAllowed[type]),function(index,key){isScrollAllowed[type][key]=value;});}}
function destroy(all){setAutoScrolling(false,'internal');setAllowScrolling(false);setKeyboardScrolling(false);container.addClass(DESTROYED);clearTimeout(afterSlideLoadsId);clearTimeout(afterSectionLoadsId);clearTimeout(resizeId);clearTimeout(scrollId);clearTimeout(scrollId2);$window.off('scroll',scrollHandler).off('hashchange',hashChangeHandler).off('resize',resizeHandler);$document.off('click touchstart',SECTION_NAV_SEL+' a').off('mouseenter',SECTION_NAV_SEL+' li').off('mouseleave',SECTION_NAV_SEL+' li').off('click touchstart',SLIDES_NAV_LINK_SEL).off('mouseover',options.normalScrollElements).off('mouseout',options.normalScrollElements);$(SECTION_SEL).off('click touchstart',SLIDES_ARROW_SEL);clearTimeout(afterSlideLoadsId);clearTimeout(afterSectionLoadsId);if(all){destroyStructure();}}
function destroyStructure(){silentScroll(0);container.find('img[data-src], source[data-src], audio[data-src], iframe[data-src]').each(function(){setSrc($(this),'src');});container.find('img[data-srcset]').each(function(){setSrc($(this),'srcset');});$(SECTION_NAV_SEL+', '+SLIDES_NAV_SEL+', '+SLIDES_ARROW_SEL).remove();$(SECTION_SEL).css({'height':'','background-color':'','padding':''});$(SLIDE_SEL).css({'width':''});container.css({'height':'','position':'','-ms-touch-action':'','touch-action':''});$htmlBody.css({'overflow':'','height':''});$('html').removeClass(ENABLED);$body.removeClass(RESPONSIVE);$.each($body.get(0).className.split(/\s+/),function(index,className){if(className.indexOf(VIEWING_PREFIX)===0){$body.removeClass(className);}});$(SECTION_SEL+', '+SLIDE_SEL).each(function(){if(options.scrollOverflowHandler){options.scrollOverflowHandler.remove($(this));}
$(this).removeClass(TABLE+' '+ACTIVE);});removeAnimation(container);container.find(TABLE_CELL_SEL+', '+SLIDES_CONTAINER_SEL+', '+SLIDES_WRAPPER_SEL).each(function(){$(this).replaceWith(this.childNodes);});container.css({'-webkit-transition':'none','transition':'none'});$htmlBody.scrollTop(0);var usedSelectors=[SECTION,SLIDE,SLIDES_CONTAINER];$.each(usedSelectors,function(index,value){$('.'+value).removeClass(value);});}
function setVariableState(variable,value,type){options[variable]=value;if(type!=='internal'){originals[variable]=value;}}
function displayWarnings(){var extensions=['fadingEffect','continuousHorizontal','scrollHorizontally','interlockedSlides','resetSliders','responsiveSlides','offsetSections','dragAndMove','scrollOverflowReset','parallax'];if($('html').hasClass(ENABLED)){showError('error','Fullpage.js can only be initialized once and you are doing it multiple times!');return;}
if(options.continuousVertical&&(options.loopTop||options.loopBottom)){options.continuousVertical=false;showError('warn','Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled');}
if(options.scrollBar&&options.scrollOverflow){showError('warn','Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox');}
if(options.continuousVertical&&(options.scrollBar||!options.autoScrolling)){options.continuousVertical=false;showError('warn','Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled');}
if(options.scrollOverflow&&!options.scrollOverflowHandler){options.scrollOverflow=false;showError('error','The option `scrollOverflow:true` requires the file `scrolloverflow.min.js`. Please include it before fullPage.js.');}
$.each(extensions,function(index,extension){if(options[extension]){showError('warn','fullpage.js extensions require jquery.fullpage.extensions.min.js file instead of the usual jquery.fullpage.js. Requested: '+extension);}});$.each(options.anchors,function(index,name){var nameAttr=$document.find('[name]').filter(function(){return $(this).attr('name')&&$(this).attr('name').toLowerCase()==name.toLowerCase();});var idAttr=$document.find('[id]').filter(function(){return $(this).attr('id')&&$(this).attr('id').toLowerCase()==name.toLowerCase();});if(idAttr.length||nameAttr.length){showError('error','data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).');idAttr.length&&showError('error','"'+name+'" is is being used by another element `id` property');nameAttr.length&&showError('error','"'+name+'" is is being used by another element `name` property');}});}
function showError(type,text){console&&console[type]&&console[type]('fullPage: '+text);}};});
(function($){'use strict';$('.js-fullpage-sections').fullpage({sectionSelector:'.js-fullpage-section',slideSelector:'.js-fullpage-slide',menu:'.js-fullpage-menu',afterLoad:function(){$.event.trigger('cnFullPageLoad');}});$('.js-fullpage-next-section').on('click',function(e){e.preventDefault();$.fn.fullpage.moveSectionDown();});})(jQuery);
var CN=CN||{};CN.ElementCycle=function(el){this.elements=el.children();this.interval=el.data('element-cycle-interval');this.currentElement=0;this.init();};CN.ElementCycle.prototype.init=function(){var _this=this;this.nextElement();setInterval(function(){_this.nextElement();},this.interval);};CN.ElementCycle.prototype.nextElement=function(){var _this=this;$.each(this.elements,function(element){if(_this.currentElement===element){$(this).addClass('is-active');}else{$(this).removeClass('is-active');}});this.currentElement++;if(this.currentElement>=this.elements.length){this.currentElement=0;}};
(function($){'use strict';$('.c-hero').each(function(){var heroEl=$(this),videoEl=heroEl.find('.js-hero-video');if(videoEl.length){var player=new Plyr(videoEl[0]);}});$('.c-hero__backgrounds').each(function(){new CN.ElementCycle($(this));});})(jQuery);
/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
(function(factory){if(typeof define=='function'&&define.amd)
define('picker',['jquery'],factory)
else if(typeof exports=='object')
module.exports=factory(require('jquery'))
else this.Picker=factory(jQuery)}(function($){var $window=$(window)
var $document=$(document)
var $html=$(document.documentElement)
var supportsTransitions=document.documentElement.style.transition!=null
function PickerConstructor(ELEMENT,NAME,COMPONENT,OPTIONS){if(!ELEMENT)return PickerConstructor
var
IS_DEFAULT_THEME=false,STATE={id:ELEMENT.id||'P'+Math.abs(~~(Math.random()*new Date()))},SETTINGS=COMPONENT?$.extend(true,{},COMPONENT.defaults,OPTIONS):OPTIONS||{},CLASSES=$.extend({},PickerConstructor.klasses(),SETTINGS.klass),$ELEMENT=$(ELEMENT),PickerInstance=function(){return this.start()},P=PickerInstance.prototype={constructor:PickerInstance,$node:$ELEMENT,start:function(){if(STATE&&STATE.start)return P
STATE.methods={}
STATE.start=true
STATE.open=false
STATE.type=ELEMENT.type
ELEMENT.autofocus=ELEMENT==getActiveElement()
ELEMENT.readOnly=!SETTINGS.editable
ELEMENT.id=ELEMENT.id||STATE.id
if(ELEMENT.type!='text'){ELEMENT.type='text'}
P.component=new COMPONENT(P,SETTINGS)
P.$root=$('<div class="'+CLASSES.picker+'" id="'+ELEMENT.id+'_root" />')
prepareElementRoot()
P.$holder=$(createWrappedComponent()).appendTo(P.$root)
prepareElementHolder()
if(SETTINGS.formatSubmit){prepareElementHidden()}
prepareElement()
if(SETTINGS.containerHidden)$(SETTINGS.containerHidden).append(P._hidden)
else $ELEMENT.after(P._hidden)
if(SETTINGS.container)$(SETTINGS.container).append(P.$root)
else $ELEMENT.after(P.$root)
P.on({start:P.component.onStart,render:P.component.onRender,stop:P.component.onStop,open:P.component.onOpen,close:P.component.onClose,set:P.component.onSet}).on({start:SETTINGS.onStart,render:SETTINGS.onRender,stop:SETTINGS.onStop,open:SETTINGS.onOpen,close:SETTINGS.onClose,set:SETTINGS.onSet})
IS_DEFAULT_THEME=isUsingDefaultTheme(P.$holder[0])
if(ELEMENT.autofocus){P.open()}
return P.trigger('start').trigger('render')},render:function(entireComponent){if(entireComponent){P.$holder=$(createWrappedComponent())
prepareElementHolder()
P.$root.html(P.$holder)}
else P.$root.find('.'+CLASSES.box).html(P.component.nodes(STATE.open))
return P.trigger('render')},stop:function(){if(!STATE.start)return P
P.close()
if(P._hidden){P._hidden.parentNode.removeChild(P._hidden)}
P.$root.remove()
$ELEMENT.removeClass(CLASSES.input).removeData(NAME)
setTimeout(function(){$ELEMENT.off('.'+STATE.id)},0)
ELEMENT.type=STATE.type
ELEMENT.readOnly=false
P.trigger('stop')
STATE.methods={}
STATE.start=false
return P},open:function(dontGiveFocus){if(STATE.open)return P
$ELEMENT.addClass(CLASSES.active)
aria(ELEMENT,'expanded',true)
setTimeout(function(){P.$root.addClass(CLASSES.opened)
aria(P.$root[0],'hidden',false)},0)
if(dontGiveFocus!==false){STATE.open=true
if(IS_DEFAULT_THEME){$html.css('overflow','hidden').css('padding-right','+='+getScrollbarWidth())}
focusPickerOnceOpened()
$document.on('click.'+STATE.id+' focusin.'+STATE.id,function(event){var target=event.target
if(target!=ELEMENT&&target!=document&&event.which!=3){P.close(target===P.$holder[0])}}).on('keydown.'+STATE.id,function(event){var
keycode=event.keyCode,keycodeToMove=P.component.key[keycode],target=event.target
if(keycode==27){P.close(true)}
else if(target==P.$holder[0]&&(keycodeToMove||keycode==13)){event.preventDefault()
if(keycodeToMove){PickerConstructor._.trigger(P.component.key.go,P,[PickerConstructor._.trigger(keycodeToMove)])}
else if(!P.$root.find('.'+CLASSES.highlighted).hasClass(CLASSES.disabled)){P.set('select',P.component.item.highlight)
if(SETTINGS.closeOnSelect){P.close(true)}}}
else if($.contains(P.$root[0],target)&&keycode==13){event.preventDefault()
target.click()}})}
return P.trigger('open')},close:function(giveFocus){if(giveFocus){if(SETTINGS.editable){ELEMENT.focus()}
else{P.$holder.off('focus.toOpen').focus()
setTimeout(function(){P.$holder.on('focus.toOpen',handleFocusToOpenEvent)},0)}}
$ELEMENT.removeClass(CLASSES.active)
aria(ELEMENT,'expanded',false)
setTimeout(function(){P.$root.removeClass(CLASSES.opened+' '+CLASSES.focused)
aria(P.$root[0],'hidden',true)},0)
if(!STATE.open)return P
STATE.open=false
if(IS_DEFAULT_THEME){$html.css('overflow','').css('padding-right','-='+getScrollbarWidth())}
$document.off('.'+STATE.id)
return P.trigger('close')},clear:function(options){return P.set('clear',null,options)},set:function(thing,value,options){var thingItem,thingValue,thingIsObject=$.isPlainObject(thing),thingObject=thingIsObject?thing:{}
options=thingIsObject&&$.isPlainObject(value)?value:options||{}
if(thing){if(!thingIsObject){thingObject[thing]=value}
for(thingItem in thingObject){thingValue=thingObject[thingItem]
if(thingItem in P.component.item){if(thingValue===undefined)thingValue=null
P.component.set(thingItem,thingValue,options)}
if(thingItem=='select'||thingItem=='clear'){$ELEMENT.val(thingItem=='clear'?'':P.get(thingItem,SETTINGS.format)).trigger('change')}}
P.render()}
return options.muted?P:P.trigger('set',thingObject)},get:function(thing,format){thing=thing||'value'
if(STATE[thing]!=null){return STATE[thing]}
if(thing=='valueSubmit'){if(P._hidden){return P._hidden.value}
thing='value'}
if(thing=='value'){return ELEMENT.value}
if(thing in P.component.item){if(typeof format=='string'){var thingValue=P.component.get(thing)
return thingValue?PickerConstructor._.trigger(P.component.formats.toString,P.component,[format,thingValue]):''}
return P.component.get(thing)}},on:function(thing,method,internal){var thingName,thingMethod,thingIsObject=$.isPlainObject(thing),thingObject=thingIsObject?thing:{}
if(thing){if(!thingIsObject){thingObject[thing]=method}
for(thingName in thingObject){thingMethod=thingObject[thingName]
if(internal){thingName='_'+thingName}
STATE.methods[thingName]=STATE.methods[thingName]||[]
STATE.methods[thingName].push(thingMethod)}}
return P},off:function(){var i,thingName,names=arguments;for(i=0,namesCount=names.length;i<namesCount;i+=1){thingName=names[i]
if(thingName in STATE.methods){delete STATE.methods[thingName]}}
return P},trigger:function(name,data){var _trigger=function(name){var methodList=STATE.methods[name]
if(methodList){methodList.map(function(method){PickerConstructor._.trigger(method,P,[data])})}}
_trigger('_'+name)
_trigger(name)
return P}}
function createWrappedComponent(){return PickerConstructor._.node('div',PickerConstructor._.node('div',PickerConstructor._.node('div',PickerConstructor._.node('div',P.component.nodes(STATE.open),CLASSES.box),CLASSES.wrap),CLASSES.frame),CLASSES.holder,'tabindex="-1"')}
function prepareElement(){$ELEMENT.data(NAME,P).addClass(CLASSES.input).val($ELEMENT.data('value')?P.get('select',SETTINGS.format):ELEMENT.value)
if(!SETTINGS.editable){$ELEMENT.on('focus.'+STATE.id+' click.'+STATE.id,function(event){event.preventDefault()
P.open()}).on('keydown.'+STATE.id,handleKeydownEvent)}
aria(ELEMENT,{haspopup:true,expanded:false,readonly:false,owns:ELEMENT.id+'_root'})}
function prepareElementRoot(){aria(P.$root[0],'hidden',true)}
function prepareElementHolder(){P.$holder.on({keydown:handleKeydownEvent,'focus.toOpen':handleFocusToOpenEvent,blur:function(){$ELEMENT.removeClass(CLASSES.target)},focusin:function(event){P.$root.removeClass(CLASSES.focused)
event.stopPropagation()},'mousedown click':function(event){var target=event.target
if(target!=P.$holder[0]){event.stopPropagation()
if(event.type=='mousedown'&&!$(target).is('input, select, textarea, button, option')){event.preventDefault()
P.$holder[0].focus()}}}}).on('click','[data-pick], [data-nav], [data-clear], [data-close]',function(){var $target=$(this),targetData=$target.data(),targetDisabled=$target.hasClass(CLASSES.navDisabled)||$target.hasClass(CLASSES.disabled),activeElement=getActiveElement()
activeElement=activeElement&&(activeElement.type||activeElement.href)
if(targetDisabled||activeElement&&!$.contains(P.$root[0],activeElement)){P.$holder[0].focus()}
if(!targetDisabled&&targetData.nav){P.set('highlight',P.component.item.highlight,{nav:targetData.nav})}
else if(!targetDisabled&&'pick'in targetData){P.set('select',targetData.pick)
if(SETTINGS.closeOnSelect){P.close(true)}}
else if(targetData.clear){P.clear()
if(SETTINGS.closeOnClear){P.close(true)}}
else if(targetData.close){P.close(true)}})}
function prepareElementHidden(){var name
if(SETTINGS.hiddenName===true){name=ELEMENT.name
ELEMENT.name=''}
else{name=[typeof SETTINGS.hiddenPrefix=='string'?SETTINGS.hiddenPrefix:'',typeof SETTINGS.hiddenSuffix=='string'?SETTINGS.hiddenSuffix:'_submit']
name=name[0]+ELEMENT.name+name[1]}
P._hidden=$('<input '+'type=hidden '+'name="'+name+'"'+
($ELEMENT.data('value')||ELEMENT.value?' value="'+P.get('select',SETTINGS.formatSubmit)+'"':'')+'>')[0]
$ELEMENT.on('change.'+STATE.id,function(){P._hidden.value=ELEMENT.value?P.get('select',SETTINGS.formatSubmit):''})}
function focusPickerOnceOpened(){if(IS_DEFAULT_THEME&&supportsTransitions){P.$holder.find('.'+CLASSES.frame).one('transitionend',function(){P.$holder[0].focus()})}
else{P.$holder[0].focus()}}
function handleFocusToOpenEvent(event){event.stopPropagation()
$ELEMENT.addClass(CLASSES.target)
P.$root.addClass(CLASSES.focused)
P.open()}
function handleKeydownEvent(event){var keycode=event.keyCode,isKeycodeDelete=/^(8|46)$/.test(keycode)
if(keycode==27){P.close(true)
return false}
if(keycode==32||isKeycodeDelete||!STATE.open&&P.component.key[keycode]){event.preventDefault()
event.stopPropagation()
if(isKeycodeDelete){P.clear().close()}
else{P.open()}}}
return new PickerInstance()}
PickerConstructor.klasses=function(prefix){prefix=prefix||'picker'
return{picker:prefix,opened:prefix+'--opened',focused:prefix+'--focused',input:prefix+'__input',active:prefix+'__input--active',target:prefix+'__input--target',holder:prefix+'__holder',frame:prefix+'__frame',wrap:prefix+'__wrap',box:prefix+'__box'}}
function isUsingDefaultTheme(element){var theme,prop='position'
if(element.currentStyle){theme=element.currentStyle[prop]}
else if(window.getComputedStyle){theme=getComputedStyle(element)[prop]}
return theme=='fixed'}
function getScrollbarWidth(){if($html.height()<=$window.height()){return 0}
var $outer=$('<div style="visibility:hidden;width:100px" />').appendTo('body')
var widthWithoutScroll=$outer[0].offsetWidth
$outer.css('overflow','scroll')
var $inner=$('<div style="width:100%" />').appendTo($outer)
var widthWithScroll=$inner[0].offsetWidth
$outer.remove()
return widthWithoutScroll-widthWithScroll}
PickerConstructor._={group:function(groupObject){var
loopObjectScope,nodesList='',counter=PickerConstructor._.trigger(groupObject.min,groupObject)
for(;counter<=PickerConstructor._.trigger(groupObject.max,groupObject,[counter]);counter+=groupObject.i){loopObjectScope=PickerConstructor._.trigger(groupObject.item,groupObject,[counter])
nodesList+=PickerConstructor._.node(groupObject.node,loopObjectScope[0],loopObjectScope[1],loopObjectScope[2])}
return nodesList},node:function(wrapper,item,klass,attribute){if(!item)return''
item=$.isArray(item)?item.join(''):item
klass=klass?' class="'+klass+'"':''
attribute=attribute?' '+attribute:''
return'<'+wrapper+klass+attribute+'>'+item+'</'+wrapper+'>'},lead:function(number){return(number<10?'0':'')+number},trigger:function(callback,scope,args){return typeof callback=='function'?callback.apply(scope,args||[]):callback},digits:function(string){return(/\d/).test(string[1])?2:1},isDate:function(value){return{}.toString.call(value).indexOf('Date')>-1&&this.isInteger(value.getDate())},isInteger:function(value){return{}.toString.call(value).indexOf('Number')>-1&&value%1===0},ariaAttr:ariaAttr}
PickerConstructor.extend=function(name,Component){$.fn[name]=function(options,action){var componentData=this.data(name)
if(options=='picker'){return componentData}
if(componentData&&typeof options=='string'){return PickerConstructor._.trigger(componentData[options],componentData,[action])}
return this.each(function(){var $this=$(this)
if(!$this.data(name)){new PickerConstructor(this,name,Component,options)}})}
$.fn[name].defaults=Component.defaults}
function aria(element,attribute,value){if($.isPlainObject(attribute)){for(var key in attribute){ariaSet(element,key,attribute[key])}}
else{ariaSet(element,attribute,value)}}
function ariaSet(element,attribute,value){element.setAttribute((attribute=='role'?'':'aria-')+attribute,value)}
function ariaAttr(attribute,data){if(!$.isPlainObject(attribute)){attribute={attribute:data}}
data=''
for(var key in attribute){var attr=(key=='role'?'':'aria-')+key,attrVal=attribute[key]
data+=attrVal==null?'':attr+'="'+attribute[key]+'"'}
return data}
function getActiveElement(){try{return document.activeElement}catch(err){}}
return PickerConstructor}));
/*!
 * Date picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/date.htm
 */
(function(factory){if(typeof define=='function'&&define.amd)
define(['picker','jquery'],factory)
else if(typeof exports=='object')
module.exports=factory(require('./picker.js'),require('jquery'))
else factory(Picker,jQuery)}(function(Picker,$){var DAYS_IN_WEEK=7,WEEKS_IN_CALENDAR=6,_=Picker._
function DatePicker(picker,settings){var calendar=this,element=picker.$node[0],elementValue=element.value,elementDataValue=picker.$node.data('value'),valueString=elementDataValue||elementValue,formatString=elementDataValue?settings.formatSubmit:settings.format,isRTL=function(){return element.currentStyle?element.currentStyle.direction=='rtl':getComputedStyle(picker.$root[0]).direction=='rtl'}
calendar.settings=settings
calendar.$node=picker.$node
calendar.queue={min:'measure create',max:'measure create',now:'now create',select:'parse create validate',highlight:'parse navigate create validate',view:'parse create validate viewset',disable:'deactivate',enable:'activate'}
calendar.item={}
calendar.item.clear=null
calendar.item.disable=(settings.disable||[]).slice(0)
calendar.item.enable=-(function(collectionDisabled){return collectionDisabled[0]===true?collectionDisabled.shift():-1})(calendar.item.disable)
calendar.set('min',settings.min).set('max',settings.max).set('now')
if(valueString){calendar.set('select',valueString,{format:formatString,defaultValue:true})}
else{calendar.set('select',null).set('highlight',calendar.item.now)}
calendar.key={40:7,38:-7,39:function(){return isRTL()?-1:1},37:function(){return isRTL()?1:-1},go:function(timeChange){var highlightedObject=calendar.item.highlight,targetDate=new Date(highlightedObject.year,highlightedObject.month,highlightedObject.date+timeChange)
calendar.set('highlight',targetDate,{interval:timeChange})
this.render()}}
picker.on('render',function(){picker.$root.find('.'+settings.klass.selectMonth).on('change',function(){var value=this.value
if(value){picker.set('highlight',[picker.get('view').year,value,picker.get('highlight').date])
picker.$root.find('.'+settings.klass.selectMonth).trigger('focus')}})
picker.$root.find('.'+settings.klass.selectYear).on('change',function(){var value=this.value
if(value){picker.set('highlight',[value,picker.get('view').month,picker.get('highlight').date])
picker.$root.find('.'+settings.klass.selectYear).trigger('focus')}})},1).on('open',function(){var includeToday=''
if(calendar.disabled(calendar.get('now'))){includeToday=':not(.'+settings.klass.buttonToday+')'}
picker.$root.find('button'+includeToday+', select').attr('disabled',false)},1).on('close',function(){picker.$root.find('button, select').attr('disabled',true)},1)}
DatePicker.prototype.set=function(type,value,options){var calendar=this,calendarItem=calendar.item
if(value===null){if(type=='clear')type='select'
calendarItem[type]=value
return calendar}
calendarItem[(type=='enable'?'disable':type=='flip'?'enable':type)]=calendar.queue[type].split(' ').map(function(method){value=calendar[method](type,value,options)
return value}).pop()
if(type=='select'){calendar.set('highlight',calendarItem.select,options)}
else if(type=='highlight'){calendar.set('view',calendarItem.highlight,options)}
else if(type.match(/^(flip|min|max|disable|enable)$/)){if(calendarItem.select&&calendar.disabled(calendarItem.select)){calendar.set('select',calendarItem.select,options)}
if(calendarItem.highlight&&calendar.disabled(calendarItem.highlight)){calendar.set('highlight',calendarItem.highlight,options)}}
return calendar}
DatePicker.prototype.get=function(type){return this.item[type]}
DatePicker.prototype.create=function(type,value,options){var isInfiniteValue,calendar=this
value=value===undefined?type:value
if(value==-Infinity||value==Infinity){isInfiniteValue=value}
else if($.isPlainObject(value)&&_.isInteger(value.pick)){value=value.obj}
else if($.isArray(value)){value=new Date(value[0],value[1],value[2])
value=_.isDate(value)?value:calendar.create().obj}
else if(_.isInteger(value)||_.isDate(value)){value=calendar.normalize(new Date(value),options)}
else{value=calendar.now(type,value,options)}
return{year:isInfiniteValue||value.getFullYear(),month:isInfiniteValue||value.getMonth(),date:isInfiniteValue||value.getDate(),day:isInfiniteValue||value.getDay(),obj:isInfiniteValue||value,pick:isInfiniteValue||value.getTime()}}
DatePicker.prototype.createRange=function(from,to){var calendar=this,createDate=function(date){if(date===true||$.isArray(date)||_.isDate(date)){return calendar.create(date)}
return date}
if(!_.isInteger(from)){from=createDate(from)}
if(!_.isInteger(to)){to=createDate(to)}
if(_.isInteger(from)&&$.isPlainObject(to)){from=[to.year,to.month,to.date+from];}
else if(_.isInteger(to)&&$.isPlainObject(from)){to=[from.year,from.month,from.date+to];}
return{from:createDate(from),to:createDate(to)}}
DatePicker.prototype.withinRange=function(range,dateUnit){range=this.createRange(range.from,range.to)
return dateUnit.pick>=range.from.pick&&dateUnit.pick<=range.to.pick}
DatePicker.prototype.overlapRanges=function(one,two){var calendar=this
one=calendar.createRange(one.from,one.to)
two=calendar.createRange(two.from,two.to)
return calendar.withinRange(one,two.from)||calendar.withinRange(one,two.to)||calendar.withinRange(two,one.from)||calendar.withinRange(two,one.to)}
DatePicker.prototype.now=function(type,value,options){value=new Date()
if(options&&options.rel){value.setDate(value.getDate()+options.rel)}
return this.normalize(value,options)}
DatePicker.prototype.navigate=function(type,value,options){var targetDateObject,targetYear,targetMonth,targetDate,isTargetArray=$.isArray(value),isTargetObject=$.isPlainObject(value),viewsetObject=this.item.view
if(isTargetArray||isTargetObject){if(isTargetObject){targetYear=value.year
targetMonth=value.month
targetDate=value.date}
else{targetYear=+value[0]
targetMonth=+value[1]
targetDate=+value[2]}
if(options&&options.nav&&viewsetObject&&viewsetObject.month!==targetMonth){targetYear=viewsetObject.year
targetMonth=viewsetObject.month}
targetDateObject=new Date(targetYear,targetMonth+(options&&options.nav?options.nav:0),1)
targetYear=targetDateObject.getFullYear()
targetMonth=targetDateObject.getMonth()
while(new Date(targetYear,targetMonth,targetDate).getMonth()!==targetMonth){targetDate-=1}
value=[targetYear,targetMonth,targetDate]}
return value}
DatePicker.prototype.normalize=function(value){value.setHours(0,0,0,0)
return value}
DatePicker.prototype.measure=function(type,value){var calendar=this
if(!value){value=type=='min'?-Infinity:Infinity}
else if(typeof value=='string'){value=calendar.parse(type,value)}
else if(_.isInteger(value)){value=calendar.now(type,value,{rel:value})}
return value}
DatePicker.prototype.viewset=function(type,dateObject){return this.create([dateObject.year,dateObject.month,1])}
DatePicker.prototype.validate=function(type,dateObject,options){var calendar=this,originalDateObject=dateObject,interval=options&&options.interval?options.interval:1,isFlippedBase=calendar.item.enable===-1,hasEnabledBeforeTarget,hasEnabledAfterTarget,minLimitObject=calendar.item.min,maxLimitObject=calendar.item.max,reachedMin,reachedMax,hasEnabledWeekdays=isFlippedBase&&calendar.item.disable.filter(function(value){if($.isArray(value)){var dateTime=calendar.create(value).pick
if(dateTime<dateObject.pick)hasEnabledBeforeTarget=true
else if(dateTime>dateObject.pick)hasEnabledAfterTarget=true}
return _.isInteger(value)}).length
if(!options||(!options.nav&&!options.defaultValue))if((!isFlippedBase&&calendar.disabled(dateObject))||(isFlippedBase&&calendar.disabled(dateObject)&&(hasEnabledWeekdays||hasEnabledBeforeTarget||hasEnabledAfterTarget))||(!isFlippedBase&&(dateObject.pick<=minLimitObject.pick||dateObject.pick>=maxLimitObject.pick))){if(isFlippedBase&&!hasEnabledWeekdays&&((!hasEnabledAfterTarget&&interval>0)||(!hasEnabledBeforeTarget&&interval<0))){interval*=-1}
while(calendar.disabled(dateObject)){if(Math.abs(interval)>1&&(dateObject.month<originalDateObject.month||dateObject.month>originalDateObject.month)){dateObject=originalDateObject
interval=interval>0?1:-1}
if(dateObject.pick<=minLimitObject.pick){reachedMin=true
interval=1
dateObject=calendar.create([minLimitObject.year,minLimitObject.month,minLimitObject.date+(dateObject.pick===minLimitObject.pick?0:-1)])}
else if(dateObject.pick>=maxLimitObject.pick){reachedMax=true
interval=-1
dateObject=calendar.create([maxLimitObject.year,maxLimitObject.month,maxLimitObject.date+(dateObject.pick===maxLimitObject.pick?0:1)])}
if(reachedMin&&reachedMax){break}
dateObject=calendar.create([dateObject.year,dateObject.month,dateObject.date+interval])}}
return dateObject}
DatePicker.prototype.disabled=function(dateToVerify){var
calendar=this,isDisabledMatch=calendar.item.disable.filter(function(dateToDisable){if(_.isInteger(dateToDisable)){return dateToVerify.day===(calendar.settings.firstDay?dateToDisable:dateToDisable-1)%7}
if($.isArray(dateToDisable)||_.isDate(dateToDisable)){return dateToVerify.pick===calendar.create(dateToDisable).pick}
if($.isPlainObject(dateToDisable)){return calendar.withinRange(dateToDisable,dateToVerify)}})
isDisabledMatch=isDisabledMatch.length&&!isDisabledMatch.filter(function(dateToDisable){return $.isArray(dateToDisable)&&dateToDisable[3]=='inverted'||$.isPlainObject(dateToDisable)&&dateToDisable.inverted}).length
return calendar.item.enable===-1?!isDisabledMatch:isDisabledMatch||dateToVerify.pick<calendar.item.min.pick||dateToVerify.pick>calendar.item.max.pick}
DatePicker.prototype.parse=function(type,value,options){var calendar=this,parsingObject={}
if(!value||typeof value!='string'){return value}
if(!(options&&options.format)){options=options||{}
options.format=calendar.settings.format}
calendar.formats.toArray(options.format).map(function(label){var
formattingLabel=calendar.formats[label],formatLength=formattingLabel?_.trigger(formattingLabel,calendar,[value,parsingObject]):label.replace(/^!/,'').length
if(formattingLabel){parsingObject[label]=value.substr(0,formatLength)}
value=value.substr(formatLength)})
return[parsingObject.yyyy||parsingObject.yy,+(parsingObject.mm||parsingObject.m)-1,parsingObject.dd||parsingObject.d]}
DatePicker.prototype.formats=(function(){function getWordLengthFromCollection(string,collection,dateObject){var word=string.match(/[^\x00-\x7F]+|\w+/)[0]
if(!dateObject.mm&&!dateObject.m){dateObject.m=collection.indexOf(word)+1}
return word.length}
function getFirstWordLength(string){return string.match(/\w+/)[0].length}
return{d:function(string,dateObject){return string?_.digits(string):dateObject.date},dd:function(string,dateObject){return string?2:_.lead(dateObject.date)},ddd:function(string,dateObject){return string?getFirstWordLength(string):this.settings.weekdaysShort[dateObject.day]},dddd:function(string,dateObject){return string?getFirstWordLength(string):this.settings.weekdaysFull[dateObject.day]},m:function(string,dateObject){return string?_.digits(string):dateObject.month+1},mm:function(string,dateObject){return string?2:_.lead(dateObject.month+1)},mmm:function(string,dateObject){var collection=this.settings.monthsShort
return string?getWordLengthFromCollection(string,collection,dateObject):collection[dateObject.month]},mmmm:function(string,dateObject){var collection=this.settings.monthsFull
return string?getWordLengthFromCollection(string,collection,dateObject):collection[dateObject.month]},yy:function(string,dateObject){return string?2:(''+dateObject.year).slice(2)},yyyy:function(string,dateObject){return string?4:dateObject.year},toArray:function(formatString){return formatString.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(formatString,itemObject){var calendar=this
return calendar.formats.toArray(formatString).map(function(label){return _.trigger(calendar.formats[label],calendar,[0,itemObject])||label.replace(/^!/,'')}).join('')}}})()
DatePicker.prototype.isDateExact=function(one,two){var calendar=this
if((_.isInteger(one)&&_.isInteger(two))||(typeof one=='boolean'&&typeof two=='boolean')){return one===two}
if((_.isDate(one)||$.isArray(one))&&(_.isDate(two)||$.isArray(two))){return calendar.create(one).pick===calendar.create(two).pick}
if($.isPlainObject(one)&&$.isPlainObject(two)){return calendar.isDateExact(one.from,two.from)&&calendar.isDateExact(one.to,two.to)}
return false}
DatePicker.prototype.isDateOverlap=function(one,two){var calendar=this,firstDay=calendar.settings.firstDay?1:0
if(_.isInteger(one)&&(_.isDate(two)||$.isArray(two))){one=one%7+firstDay
return one===calendar.create(two).day+1}
if(_.isInteger(two)&&(_.isDate(one)||$.isArray(one))){two=two%7+firstDay
return two===calendar.create(one).day+1}
if($.isPlainObject(one)&&$.isPlainObject(two)){return calendar.overlapRanges(one,two)}
return false}
DatePicker.prototype.flipEnable=function(val){var itemObject=this.item
itemObject.enable=val||(itemObject.enable==-1?1:-1)}
DatePicker.prototype.deactivate=function(type,datesToDisable){var calendar=this,disabledItems=calendar.item.disable.slice(0)
if(datesToDisable=='flip'){calendar.flipEnable()}
else if(datesToDisable===false){calendar.flipEnable(1)
disabledItems=[]}
else if(datesToDisable===true){calendar.flipEnable(-1)
disabledItems=[]}
else{datesToDisable.map(function(unitToDisable){var matchFound
for(var index=0;index<disabledItems.length;index+=1){if(calendar.isDateExact(unitToDisable,disabledItems[index])){matchFound=true
break}}
if(!matchFound){if(_.isInteger(unitToDisable)||_.isDate(unitToDisable)||$.isArray(unitToDisable)||($.isPlainObject(unitToDisable)&&unitToDisable.from&&unitToDisable.to)){disabledItems.push(unitToDisable)}}})}
return disabledItems}
DatePicker.prototype.activate=function(type,datesToEnable){var calendar=this,disabledItems=calendar.item.disable,disabledItemsCount=disabledItems.length
if(datesToEnable=='flip'){calendar.flipEnable()}
else if(datesToEnable===true){calendar.flipEnable(1)
disabledItems=[]}
else if(datesToEnable===false){calendar.flipEnable(-1)
disabledItems=[]}
else{datesToEnable.map(function(unitToEnable){var matchFound,disabledUnit,index,isExactRange
for(index=0;index<disabledItemsCount;index+=1){disabledUnit=disabledItems[index]
if(calendar.isDateExact(disabledUnit,unitToEnable)){matchFound=disabledItems[index]=null
isExactRange=true
break}
else if(calendar.isDateOverlap(disabledUnit,unitToEnable)){if($.isPlainObject(unitToEnable)){unitToEnable.inverted=true
matchFound=unitToEnable}
else if($.isArray(unitToEnable)){matchFound=unitToEnable
if(!matchFound[3])matchFound.push('inverted')}
else if(_.isDate(unitToEnable)){matchFound=[unitToEnable.getFullYear(),unitToEnable.getMonth(),unitToEnable.getDate(),'inverted']}
break}}
if(matchFound)for(index=0;index<disabledItemsCount;index+=1){if(calendar.isDateExact(disabledItems[index],unitToEnable)){disabledItems[index]=null
break}}
if(isExactRange)for(index=0;index<disabledItemsCount;index+=1){if(calendar.isDateOverlap(disabledItems[index],unitToEnable)){disabledItems[index]=null
break}}
if(matchFound){disabledItems.push(matchFound)}})}
return disabledItems.filter(function(val){return val!=null})}
DatePicker.prototype.nodes=function(isOpen){var
calendar=this,settings=calendar.settings,calendarItem=calendar.item,nowObject=calendarItem.now,selectedObject=calendarItem.select,highlightedObject=calendarItem.highlight,viewsetObject=calendarItem.view,disabledCollection=calendarItem.disable,minLimitObject=calendarItem.min,maxLimitObject=calendarItem.max,tableHead=(function(collection,fullCollection){if(settings.firstDay){collection.push(collection.shift())
fullCollection.push(fullCollection.shift())}
return _.node('thead',_.node('tr',_.group({min:0,max:DAYS_IN_WEEK-1,i:1,node:'th',item:function(counter){return[collection[counter],settings.klass.weekdays,'scope=col title="'+fullCollection[counter]+'"']}})))})((settings.showWeekdaysFull?settings.weekdaysFull:settings.weekdaysShort).slice(0),settings.weekdaysFull.slice(0)),createMonthNav=function(next){return _.node('div',' ',settings.klass['nav'+(next?'Next':'Prev')]+((next&&viewsetObject.year>=maxLimitObject.year&&viewsetObject.month>=maxLimitObject.month)||(!next&&viewsetObject.year<=minLimitObject.year&&viewsetObject.month<=minLimitObject.month)?' '+settings.klass.navDisabled:''),'data-nav='+(next||-1)+' '+
_.ariaAttr({role:'button',controls:calendar.$node[0].id+'_table'})+' '+'title="'+(next?settings.labelMonthNext:settings.labelMonthPrev)+'"')},createMonthLabel=function(){var monthsCollection=settings.showMonthsShort?settings.monthsShort:settings.monthsFull
if(settings.selectMonths){return _.node('select',_.group({min:0,max:11,i:1,node:'option',item:function(loopedMonth){return[monthsCollection[loopedMonth],0,'value='+loopedMonth+
(viewsetObject.month==loopedMonth?' selected':'')+
(((viewsetObject.year==minLimitObject.year&&loopedMonth<minLimitObject.month)||(viewsetObject.year==maxLimitObject.year&&loopedMonth>maxLimitObject.month))?' disabled':'')]}}),settings.klass.selectMonth,(isOpen?'':'disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id+'_table'})+' '+'title="'+settings.labelMonthSelect+'"')}
return _.node('div',monthsCollection[viewsetObject.month],settings.klass.month)},createYearLabel=function(){var focusedYear=viewsetObject.year,numberYears=settings.selectYears===true?5:~~(settings.selectYears/2)
if(numberYears){var
minYear=minLimitObject.year,maxYear=maxLimitObject.year,lowestYear=focusedYear-numberYears,highestYear=focusedYear+numberYears
if(minYear>lowestYear){highestYear+=minYear-lowestYear
lowestYear=minYear}
if(maxYear<highestYear){var availableYears=lowestYear-minYear,neededYears=highestYear-maxYear
lowestYear-=availableYears>neededYears?neededYears:availableYears
highestYear=maxYear}
return _.node('select',_.group({min:lowestYear,max:highestYear,i:1,node:'option',item:function(loopedYear){return[loopedYear,0,'value='+loopedYear+(focusedYear==loopedYear?' selected':'')]}}),settings.klass.selectYear,(isOpen?'':'disabled')+' '+_.ariaAttr({controls:calendar.$node[0].id+'_table'})+' '+'title="'+settings.labelYearSelect+'"')}
return _.node('div',focusedYear,settings.klass.year)}
return _.node('div',(settings.selectYears?createYearLabel()+createMonthLabel():createMonthLabel()+createYearLabel())+
createMonthNav()+createMonthNav(1),settings.klass.header)+_.node('table',tableHead+
_.node('tbody',_.group({min:0,max:WEEKS_IN_CALENDAR-1,i:1,node:'tr',item:function(rowCounter){var shiftDateBy=settings.firstDay&&calendar.create([viewsetObject.year,viewsetObject.month,1]).day===0?-7:0
return[_.group({min:DAYS_IN_WEEK*rowCounter-viewsetObject.day+shiftDateBy+1,max:function(){return this.min+DAYS_IN_WEEK-1},i:1,node:'td',item:function(targetDate){targetDate=calendar.create([viewsetObject.year,viewsetObject.month,targetDate+(settings.firstDay?1:0)])
var isSelected=selectedObject&&selectedObject.pick==targetDate.pick,isHighlighted=highlightedObject&&highlightedObject.pick==targetDate.pick,isDisabled=disabledCollection&&calendar.disabled(targetDate)||targetDate.pick<minLimitObject.pick||targetDate.pick>maxLimitObject.pick,formattedDate=_.trigger(calendar.formats.toString,calendar,[settings.format,targetDate])
return[_.node('div',targetDate.date,(function(klasses){klasses.push(viewsetObject.month==targetDate.month?settings.klass.infocus:settings.klass.outfocus)
if(nowObject.pick==targetDate.pick){klasses.push(settings.klass.now)}
if(isSelected){klasses.push(settings.klass.selected)}
if(isHighlighted){klasses.push(settings.klass.highlighted)}
if(isDisabled){klasses.push(settings.klass.disabled)}
return klasses.join(' ')})([settings.klass.day]),'data-pick='+targetDate.pick+' '+_.ariaAttr({role:'gridcell',label:formattedDate,selected:isSelected&&calendar.$node.val()===formattedDate?true:null,activedescendant:isHighlighted?true:null,disabled:isDisabled?true:null})),'',_.ariaAttr({role:'presentation'})]}})]}})),settings.klass.table,'id="'+calendar.$node[0].id+'_table'+'" '+_.ariaAttr({role:'grid',controls:calendar.$node[0].id,readonly:true}))+
_.node('div',_.node('button',settings.today,settings.klass.buttonToday,'type=button data-pick='+nowObject.pick+
(isOpen&&!calendar.disabled(nowObject)?'':' disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id}))+
_.node('button',settings.clear,settings.klass.buttonClear,'type=button data-clear=1'+
(isOpen?'':' disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id}))+
_.node('button',settings.close,settings.klass.buttonClose,'type=button data-close=true '+
(isOpen?'':' disabled')+' '+
_.ariaAttr({controls:calendar.$node[0].id})),settings.klass.footer)}
DatePicker.defaults=(function(prefix){return{labelMonthNext:'Next month',labelMonthPrev:'Previous month',labelMonthSelect:'Select a month',labelYearSelect:'Select a year',monthsFull:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],weekdaysFull:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],weekdaysShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],today:'Today',clear:'Clear',close:'Close',closeOnSelect:true,closeOnClear:true,format:'d mmmm, yyyy',klass:{table:prefix+'table',header:prefix+'header',navPrev:prefix+'nav--prev',navNext:prefix+'nav--next',navDisabled:prefix+'nav--disabled',month:prefix+'month',year:prefix+'year',selectMonth:prefix+'select--month',selectYear:prefix+'select--year',weekdays:prefix+'weekday',day:prefix+'day',disabled:prefix+'day--disabled',selected:prefix+'day--selected',highlighted:prefix+'day--highlighted',now:prefix+'day--today',infocus:prefix+'day--infocus',outfocus:prefix+'day--outfocus',footer:prefix+'footer',buttonClear:prefix+'button--clear',buttonToday:prefix+'button--today',buttonClose:prefix+'button--close'}}})(Picker.klasses().picker+'__')
Picker.extend('pickadate',DatePicker)}));
var CN=CN||{};CN.BookingSelector=function(){this.elements={base:$("[data-booking-selector-form]"),selector:$("[data-booking-selector-form] [data-booking-selector]"),hiddenInputs:$("[data-booking-selector-form] .hidden-inputs")};this.data={};if("undefined"!==typeof ihotelierBookingLocations){this.data.locations=ihotelierBookingLocations;}
this.init();};CN.BookingSelector.prototype.init=function(){this.changeEvent();};CN.BookingSelector.prototype.changeEvent=function(){var $this=this;this.elements.selector.on('change',function(){var val=$(this).find('option:selected').val();$this.updateSelectedOption(val);var selectedLocation=$this.getSelectedLocation(val);if(selectedLocation){$this.elements.base.each(function(){var $self=$(this);$self.attr('action',selectedLocation.booking_url);$self.removeClass(function(index,className){var existingClass=className.match(/(^|\s)c-booking-bar--location\S+/g);if(existingClass){return existingClass.join(' ');}
return'';});$self.addClass('c-booking-bar--location-'+selectedLocation.original_key);});$this.elements.hiddenInputs.html('');$.each(selectedLocation.hidden_inputs,function(index,object){$this.elements.hiddenInputs.append('<input type="hidden" name="'+$(this)[0].name+'" value="'+$(this)[0].value+'">');});}});};CN.BookingSelector.prototype.updateSelectedOption=function($value){var $this=this;this.elements.selector.each(function(){$(this).find('option').removeAttr('selected');$(this).val($value);})};CN.BookingSelector.prototype.getSelectedLocation=function($value){var $this=this;var selected=false;if($this.data.locations){$.each($this.data.locations,function(index,object){if(object.identifier===$value){selected=object;return false;}});}
return selected;};
(function($){'use strict';if($('[data-booking-selector-form]').length>0){new CN.BookingSelector();}})(jQuery);
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
(function(root,factory){if(typeof define==='function'&&define.amd){define(factory);}else if(typeof exports==='object'){module.exports=factory();}else{root.PhotoSwipe=factory();}})(this,function(){'use strict';var PhotoSwipe=function(template,UiClass,items,options){var framework={features:null,bind:function(target,type,listener,unbind){var methodName=(unbind?'remove':'add')+'EventListener';type=type.split(' ');for(var i=0;i<type.length;i++){if(type[i]){target[methodName](type[i],listener,false);}}},isArray:function(obj){return(obj instanceof Array);},createEl:function(classes,tag){var el=document.createElement(tag||'div');if(classes){el.className=classes;}
return el;},getScrollY:function(){var yOffset=window.pageYOffset;return yOffset!==undefined?yOffset:document.documentElement.scrollTop;},unbind:function(target,type,listener){framework.bind(target,type,listener,true);},removeClass:function(el,className){var reg=new RegExp('(\\s|^)'+className+'(\\s|$)');el.className=el.className.replace(reg,' ').replace(/^\s\s*/,'').replace(/\s\s*$/,'');},addClass:function(el,className){if(!framework.hasClass(el,className)){el.className+=(el.className?' ':'')+className;}},hasClass:function(el,className){return el.className&&new RegExp('(^|\\s)'+className+'(\\s|$)').test(el.className);},getChildByClass:function(parentEl,childClassName){var node=parentEl.firstChild;while(node){if(framework.hasClass(node,childClassName)){return node;}
node=node.nextSibling;}},arraySearch:function(array,value,key){var i=array.length;while(i--){if(array[i][key]===value){return i;}}
return-1;},extend:function(o1,o2,preventOverwrite){for(var prop in o2){if(o2.hasOwnProperty(prop)){if(preventOverwrite&&o1.hasOwnProperty(prop)){continue;}
o1[prop]=o2[prop];}}},easing:{sine:{out:function(k){return Math.sin(k*(Math.PI/2));},inOut:function(k){return-(Math.cos(Math.PI*k)-1)/2;}},cubic:{out:function(k){return--k*k*k+1;}}},detectFeatures:function(){if(framework.features){return framework.features;}
var helperEl=framework.createEl(),helperStyle=helperEl.style,vendor='',features={};features.oldIE=document.all&&!document.addEventListener;features.touch='ontouchstart'in window;if(window.requestAnimationFrame){features.raf=window.requestAnimationFrame;features.caf=window.cancelAnimationFrame;}
features.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled;if(!features.pointerEvent){var ua=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var v=(navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);if(v&&v.length>0){v=parseInt(v[1],10);if(v>=1&&v<8){features.isOldIOSPhone=true;}}}
var match=ua.match(/Android\s([0-9\.]*)/);var androidversion=match?match[1]:0;androidversion=parseFloat(androidversion);if(androidversion>=1){if(androidversion<4.4){features.isOldAndroid=true;}
features.androidVersion=androidversion;}
features.isMobileOpera=/opera mini|opera mobi/i.test(ua);}
var styleChecks=['transform','perspective','animationName'],vendors=['','webkit','Moz','ms','O'],styleCheckItem,styleName;for(var i=0;i<4;i++){vendor=vendors[i];for(var a=0;a<3;a++){styleCheckItem=styleChecks[a];styleName=vendor+(vendor?styleCheckItem.charAt(0).toUpperCase()+styleCheckItem.slice(1):styleCheckItem);if(!features[styleCheckItem]&&styleName in helperStyle){features[styleCheckItem]=styleName;}}
if(vendor&&!features.raf){vendor=vendor.toLowerCase();features.raf=window[vendor+'RequestAnimationFrame'];if(features.raf){features.caf=window[vendor+'CancelAnimationFrame']||window[vendor+'CancelRequestAnimationFrame'];}}}
if(!features.raf){var lastTime=0;features.raf=function(fn){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){fn(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};features.caf=function(id){clearTimeout(id);};}
features.svg=!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect;framework.features=features;return features;}};framework.detectFeatures();if(framework.features.oldIE){framework.bind=function(target,type,listener,unbind){type=type.split(' ');var methodName=(unbind?'detach':'attach')+'Event',evName,_handleEv=function(){listener.handleEvent.call(listener);};for(var i=0;i<type.length;i++){evName=type[i];if(evName){if(typeof listener==='object'&&listener.handleEvent){if(!unbind){listener['oldIE'+evName]=_handleEv;}else{if(!listener['oldIE'+evName]){return false;}}
target[methodName]('on'+evName,listener['oldIE'+evName]);}else{target[methodName]('on'+evName,listener);}}}};}
var self=this;var DOUBLE_TAP_RADIUS=25,NUM_HOLDERS=3;var _options={allowPanToNext:true,spacing:0.12,bgOpacity:1,mouseUsed:false,loop:true,pinchToClose:true,closeOnScroll:true,closeOnVerticalDrag:true,verticalDragRange:0.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:false,focus:true,escKey:true,arrowKeys:true,mainScrollEndFriction:0.35,panEndFriction:0.35,isClickableElement:function(el){return el.tagName==='A';},getDoubleTapZoom:function(isMouseClick,item){if(isMouseClick){return 1;}else{return item.initialZoomLevel<0.7?1:1.33;}},maxSpreadZoom:1.33,modal:true,scaleMode:'fit'};framework.extend(_options,options);var _getEmptyPoint=function(){return{x:0,y:0};};var _isOpen,_isDestroying,_closedByScroll,_currentItemIndex,_containerStyle,_containerShiftIndex,_currPanDist=_getEmptyPoint(),_startPanOffset=_getEmptyPoint(),_panOffset=_getEmptyPoint(),_upMoveEvents,_downEvents,_globalEventHandlers,_viewportSize={},_currZoomLevel,_startZoomLevel,_translatePrefix,_translateSufix,_updateSizeInterval,_itemsNeedUpdate,_currPositionIndex=0,_offset={},_slideSize=_getEmptyPoint(),_itemHolders,_prevItemIndex,_indexDiff=0,_dragStartEvent,_dragMoveEvent,_dragEndEvent,_dragCancelEvent,_transformKey,_pointerEventEnabled,_isFixedPosition=true,_likelyTouchDevice,_modules=[],_requestAF,_cancelAF,_initalClassName,_initalWindowScrollY,_oldIE,_currentWindowScrollY,_features,_windowVisibleSize={},_renderMaxResolution=false,_orientationChangeTimeout,_registerModule=function(name,module){framework.extend(self,module.publicMethods);_modules.push(name);},_getLoopedId=function(index){var numSlides=_getNumItems();if(index>numSlides-1){return index-numSlides;}else if(index<0){return numSlides+index;}
return index;},_listeners={},_listen=function(name,fn){if(!_listeners[name]){_listeners[name]=[];}
return _listeners[name].push(fn);},_shout=function(name){var listeners=_listeners[name];if(listeners){var args=Array.prototype.slice.call(arguments);args.shift();for(var i=0;i<listeners.length;i++){listeners[i].apply(self,args);}}},_getCurrentTime=function(){return new Date().getTime();},_applyBgOpacity=function(opacity){_bgOpacity=opacity;self.bg.style.opacity=opacity*_options.bgOpacity;},_applyZoomTransform=function(styleObj,x,y,zoom,item){if(!_renderMaxResolution||(item&&item!==self.currItem)){zoom=zoom/(item?item.fitRatio:self.currItem.fitRatio);}
styleObj[_transformKey]=_translatePrefix+x+'px, '+y+'px'+_translateSufix+' scale('+zoom+')';},_applyCurrentZoomPan=function(allowRenderResolution){if(_currZoomElementStyle){if(allowRenderResolution){if(_currZoomLevel>self.currItem.fitRatio){if(!_renderMaxResolution){_setImageSize(self.currItem,false,true);_renderMaxResolution=true;}}else{if(_renderMaxResolution){_setImageSize(self.currItem);_renderMaxResolution=false;}}}
_applyZoomTransform(_currZoomElementStyle,_panOffset.x,_panOffset.y,_currZoomLevel);}},_applyZoomPanToItem=function(item){if(item.container){_applyZoomTransform(item.container.style,item.initialPosition.x,item.initialPosition.y,item.initialZoomLevel,item);}},_setTranslateX=function(x,elStyle){elStyle[_transformKey]=_translatePrefix+x+'px, 0px'+_translateSufix;},_moveMainScroll=function(x,dragging){if(!_options.loop&&dragging){var newSlideIndexOffset=_currentItemIndex+(_slideSize.x*_currPositionIndex-x)/_slideSize.x,delta=Math.round(x-_mainScrollPos.x);if((newSlideIndexOffset<0&&delta>0)||(newSlideIndexOffset>=_getNumItems()-1&&delta<0)){x=_mainScrollPos.x+delta*_options.mainScrollEndFriction;}}
_mainScrollPos.x=x;_setTranslateX(x,_containerStyle);},_calculatePanOffset=function(axis,zoomLevel){var m=_midZoomPoint[axis]-_offset[axis];return _startPanOffset[axis]+_currPanDist[axis]+m-m*(zoomLevel/_startZoomLevel);},_equalizePoints=function(p1,p2){p1.x=p2.x;p1.y=p2.y;if(p2.id){p1.id=p2.id;}},_roundPoint=function(p){p.x=Math.round(p.x);p.y=Math.round(p.y);},_mouseMoveTimeout=null,_onFirstMouseMove=function(){if(_mouseMoveTimeout){framework.unbind(document,'mousemove',_onFirstMouseMove);framework.addClass(template,'pswp--has_mouse');_options.mouseUsed=true;_shout('mouseUsed');}
_mouseMoveTimeout=setTimeout(function(){_mouseMoveTimeout=null;},100);},_bindEvents=function(){framework.bind(document,'keydown',self);if(_features.transform){framework.bind(self.scrollWrap,'click',self);}
if(!_options.mouseUsed){framework.bind(document,'mousemove',_onFirstMouseMove);}
framework.bind(window,'resize scroll orientationchange',self);_shout('bindEvents');},_unbindEvents=function(){framework.unbind(window,'resize scroll orientationchange',self);framework.unbind(window,'scroll',_globalEventHandlers.scroll);framework.unbind(document,'keydown',self);framework.unbind(document,'mousemove',_onFirstMouseMove);if(_features.transform){framework.unbind(self.scrollWrap,'click',self);}
if(_isDragging){framework.unbind(window,_upMoveEvents,self);}
clearTimeout(_orientationChangeTimeout);_shout('unbindEvents');},_calculatePanBounds=function(zoomLevel,update){var bounds=_calculateItemSize(self.currItem,_viewportSize,zoomLevel);if(update){_currPanBounds=bounds;}
return bounds;},_getMinZoomLevel=function(item){if(!item){item=self.currItem;}
return item.initialZoomLevel;},_getMaxZoomLevel=function(item){if(!item){item=self.currItem;}
return item.w>0?_options.maxSpreadZoom:1;},_modifyDestPanOffset=function(axis,destPanBounds,destPanOffset,destZoomLevel){if(destZoomLevel===self.currItem.initialZoomLevel){destPanOffset[axis]=self.currItem.initialPosition[axis];return true;}else{destPanOffset[axis]=_calculatePanOffset(axis,destZoomLevel);if(destPanOffset[axis]>destPanBounds.min[axis]){destPanOffset[axis]=destPanBounds.min[axis];return true;}else if(destPanOffset[axis]<destPanBounds.max[axis]){destPanOffset[axis]=destPanBounds.max[axis];return true;}}
return false;},_setupTransforms=function(){if(_transformKey){var allow3dTransform=_features.perspective&&!_likelyTouchDevice;_translatePrefix='translate'+(allow3dTransform?'3d(':'(');_translateSufix=_features.perspective?', 0px)':')';return;}
_transformKey='left';framework.addClass(template,'pswp--ie');_setTranslateX=function(x,elStyle){elStyle.left=x+'px';};_applyZoomPanToItem=function(item){var zoomRatio=item.fitRatio>1?1:item.fitRatio,s=item.container.style,w=zoomRatio*item.w,h=zoomRatio*item.h;s.width=w+'px';s.height=h+'px';s.left=item.initialPosition.x+'px';s.top=item.initialPosition.y+'px';};_applyCurrentZoomPan=function(){if(_currZoomElementStyle){var s=_currZoomElementStyle,item=self.currItem,zoomRatio=item.fitRatio>1?1:item.fitRatio,w=zoomRatio*item.w,h=zoomRatio*item.h;s.width=w+'px';s.height=h+'px';s.left=_panOffset.x+'px';s.top=_panOffset.y+'px';}};},_onKeyDown=function(e){var keydownAction='';if(_options.escKey&&e.keyCode===27){keydownAction='close';}else if(_options.arrowKeys){if(e.keyCode===37){keydownAction='prev';}else if(e.keyCode===39){keydownAction='next';}}
if(keydownAction){if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey){if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}
self[keydownAction]();}}},_onGlobalClick=function(e){if(!e){return;}
if(_moved||_zoomStarted||_mainScrollAnimating||_verticalDragInitiated){e.preventDefault();e.stopPropagation();}},_updatePageScrollOffset=function(){self.setScrollOffset(0,framework.getScrollY());};var _animations={},_numAnimations=0,_stopAnimation=function(name){if(_animations[name]){if(_animations[name].raf){_cancelAF(_animations[name].raf);}
_numAnimations--;delete _animations[name];}},_registerStartAnimation=function(name){if(_animations[name]){_stopAnimation(name);}
if(!_animations[name]){_numAnimations++;_animations[name]={};}},_stopAllAnimations=function(){for(var prop in _animations){if(_animations.hasOwnProperty(prop)){_stopAnimation(prop);}}},_animateProp=function(name,b,endProp,d,easingFn,onUpdate,onComplete){var startAnimTime=_getCurrentTime(),t;_registerStartAnimation(name);var animloop=function(){if(_animations[name]){t=_getCurrentTime()-startAnimTime;if(t>=d){_stopAnimation(name);onUpdate(endProp);if(onComplete){onComplete();}
return;}
onUpdate((endProp-b)*easingFn(t/d)+b);_animations[name].raf=_requestAF(animloop);}};animloop();};var publicMethods={shout:_shout,listen:_listen,viewportSize:_viewportSize,options:_options,isMainScrollAnimating:function(){return _mainScrollAnimating;},getZoomLevel:function(){return _currZoomLevel;},getCurrentIndex:function(){return _currentItemIndex;},isDragging:function(){return _isDragging;},isZooming:function(){return _isZooming;},setScrollOffset:function(x,y){_offset.x=x;_currentWindowScrollY=_offset.y=y;_shout('updateScrollOffset',_offset);},applyZoomPan:function(zoomLevel,panX,panY,allowRenderResolution){_panOffset.x=panX;_panOffset.y=panY;_currZoomLevel=zoomLevel;_applyCurrentZoomPan(allowRenderResolution);},init:function(){if(_isOpen||_isDestroying){return;}
var i;self.framework=framework;self.template=template;self.bg=framework.getChildByClass(template,'pswp__bg');_initalClassName=template.className;_isOpen=true;_features=framework.detectFeatures();_requestAF=_features.raf;_cancelAF=_features.caf;_transformKey=_features.transform;_oldIE=_features.oldIE;self.scrollWrap=framework.getChildByClass(template,'pswp__scroll-wrap');self.container=framework.getChildByClass(self.scrollWrap,'pswp__container');_containerStyle=self.container.style;self.itemHolders=_itemHolders=[{el:self.container.children[0],wrap:0,index:-1},{el:self.container.children[1],wrap:0,index:-1},{el:self.container.children[2],wrap:0,index:-1}];_itemHolders[0].el.style.display=_itemHolders[2].el.style.display='none';_setupTransforms();_globalEventHandlers={resize:self.updateSize,orientationchange:function(){clearTimeout(_orientationChangeTimeout);_orientationChangeTimeout=setTimeout(function(){if(_viewportSize.x!==self.scrollWrap.clientWidth){self.updateSize();}},500);},scroll:_updatePageScrollOffset,keydown:_onKeyDown,click:_onGlobalClick};var oldPhone=_features.isOldIOSPhone||_features.isOldAndroid||_features.isMobileOpera;if(!_features.animationName||!_features.transform||oldPhone){_options.showAnimationDuration=_options.hideAnimationDuration=0;}
for(i=0;i<_modules.length;i++){self['init'+_modules[i]]();}
if(UiClass){var ui=self.ui=new UiClass(self,framework);ui.init();}
_shout('firstUpdate');_currentItemIndex=_currentItemIndex||_options.index||0;if(isNaN(_currentItemIndex)||_currentItemIndex<0||_currentItemIndex>=_getNumItems()){_currentItemIndex=0;}
self.currItem=_getItemAt(_currentItemIndex);if(_features.isOldIOSPhone||_features.isOldAndroid){_isFixedPosition=false;}
template.setAttribute('aria-hidden','false');if(_options.modal){if(!_isFixedPosition){template.style.position='absolute';template.style.top=framework.getScrollY()+'px';}else{template.style.position='fixed';}}
if(_currentWindowScrollY===undefined){_shout('initialLayout');_currentWindowScrollY=_initalWindowScrollY=framework.getScrollY();}
var rootClasses='pswp--open ';if(_options.mainClass){rootClasses+=_options.mainClass+' ';}
if(_options.showHideOpacity){rootClasses+='pswp--animate_opacity ';}
rootClasses+=_likelyTouchDevice?'pswp--touch':'pswp--notouch';rootClasses+=_features.animationName?' pswp--css_animation':'';rootClasses+=_features.svg?' pswp--svg':'';framework.addClass(template,rootClasses);self.updateSize();_containerShiftIndex=-1;_indexDiff=null;for(i=0;i<NUM_HOLDERS;i++){_setTranslateX((i+_containerShiftIndex)*_slideSize.x,_itemHolders[i].el.style);}
if(!_oldIE){framework.bind(self.scrollWrap,_downEvents,self);}
_listen('initialZoomInEnd',function(){self.setContent(_itemHolders[0],_currentItemIndex-1);self.setContent(_itemHolders[2],_currentItemIndex+1);_itemHolders[0].el.style.display=_itemHolders[2].el.style.display='block';if(_options.focus){template.focus();}
_bindEvents();});self.setContent(_itemHolders[1],_currentItemIndex);self.updateCurrItem();_shout('afterInit');if(!_isFixedPosition){_updateSizeInterval=setInterval(function(){if(!_numAnimations&&!_isDragging&&!_isZooming&&(_currZoomLevel===self.currItem.initialZoomLevel)){self.updateSize();}},1000);}
framework.addClass(template,'pswp--visible');},close:function(){if(!_isOpen){return;}
_isOpen=false;_isDestroying=true;_shout('close');_unbindEvents();_showOrHide(self.currItem,null,true,self.destroy);},destroy:function(){_shout('destroy');if(_showOrHideTimeout){clearTimeout(_showOrHideTimeout);}
template.setAttribute('aria-hidden','true');template.className=_initalClassName;if(_updateSizeInterval){clearInterval(_updateSizeInterval);}
framework.unbind(self.scrollWrap,_downEvents,self);framework.unbind(window,'scroll',self);_stopDragUpdateLoop();_stopAllAnimations();_listeners=null;},panTo:function(x,y,force){if(!force){if(x>_currPanBounds.min.x){x=_currPanBounds.min.x;}else if(x<_currPanBounds.max.x){x=_currPanBounds.max.x;}
if(y>_currPanBounds.min.y){y=_currPanBounds.min.y;}else if(y<_currPanBounds.max.y){y=_currPanBounds.max.y;}}
_panOffset.x=x;_panOffset.y=y;_applyCurrentZoomPan();},handleEvent:function(e){e=e||window.event;if(_globalEventHandlers[e.type]){_globalEventHandlers[e.type](e);}},goTo:function(index){index=_getLoopedId(index);var diff=index-_currentItemIndex;_indexDiff=diff;_currentItemIndex=index;self.currItem=_getItemAt(_currentItemIndex);_currPositionIndex-=diff;_moveMainScroll(_slideSize.x*_currPositionIndex);_stopAllAnimations();_mainScrollAnimating=false;self.updateCurrItem();},next:function(){self.goTo(_currentItemIndex+1);},prev:function(){self.goTo(_currentItemIndex-1);},updateCurrZoomItem:function(emulateSetContent){if(emulateSetContent){_shout('beforeChange',0);}
if(_itemHolders[1].el.children.length){var zoomElement=_itemHolders[1].el.children[0];if(framework.hasClass(zoomElement,'pswp__zoom-wrap')){_currZoomElementStyle=zoomElement.style;}else{_currZoomElementStyle=null;}}else{_currZoomElementStyle=null;}
_currPanBounds=self.currItem.bounds;_startZoomLevel=_currZoomLevel=self.currItem.initialZoomLevel;_panOffset.x=_currPanBounds.center.x;_panOffset.y=_currPanBounds.center.y;if(emulateSetContent){_shout('afterChange');}},invalidateCurrItems:function(){_itemsNeedUpdate=true;for(var i=0;i<NUM_HOLDERS;i++){if(_itemHolders[i].item){_itemHolders[i].item.needsUpdate=true;}}},updateCurrItem:function(beforeAnimation){if(_indexDiff===0){return;}
var diffAbs=Math.abs(_indexDiff),tempHolder;if(beforeAnimation&&diffAbs<2){return;}
self.currItem=_getItemAt(_currentItemIndex);_renderMaxResolution=false;_shout('beforeChange',_indexDiff);if(diffAbs>=NUM_HOLDERS){_containerShiftIndex+=_indexDiff+(_indexDiff>0?-NUM_HOLDERS:NUM_HOLDERS);diffAbs=NUM_HOLDERS;}
for(var i=0;i<diffAbs;i++){if(_indexDiff>0){tempHolder=_itemHolders.shift();_itemHolders[NUM_HOLDERS-1]=tempHolder;_containerShiftIndex++;_setTranslateX((_containerShiftIndex+2)*_slideSize.x,tempHolder.el.style);self.setContent(tempHolder,_currentItemIndex-diffAbs+i+1+1);}else{tempHolder=_itemHolders.pop();_itemHolders.unshift(tempHolder);_containerShiftIndex--;_setTranslateX(_containerShiftIndex*_slideSize.x,tempHolder.el.style);self.setContent(tempHolder,_currentItemIndex+diffAbs-i-1-1);}}
if(_currZoomElementStyle&&Math.abs(_indexDiff)===1){var prevItem=_getItemAt(_prevItemIndex);if(prevItem.initialZoomLevel!==_currZoomLevel){_calculateItemSize(prevItem,_viewportSize);_setImageSize(prevItem);_applyZoomPanToItem(prevItem);}}
_indexDiff=0;self.updateCurrZoomItem();_prevItemIndex=_currentItemIndex;_shout('afterChange');},updateSize:function(force){if(!_isFixedPosition&&_options.modal){var windowScrollY=framework.getScrollY();if(_currentWindowScrollY!==windowScrollY){template.style.top=windowScrollY+'px';_currentWindowScrollY=windowScrollY;}
if(!force&&_windowVisibleSize.x===window.innerWidth&&_windowVisibleSize.y===window.innerHeight){return;}
_windowVisibleSize.x=window.innerWidth;_windowVisibleSize.y=window.innerHeight;template.style.height=_windowVisibleSize.y+'px';}
_viewportSize.x=self.scrollWrap.clientWidth;_viewportSize.y=self.scrollWrap.clientHeight;_updatePageScrollOffset();_slideSize.x=_viewportSize.x+Math.round(_viewportSize.x*_options.spacing);_slideSize.y=_viewportSize.y;_moveMainScroll(_slideSize.x*_currPositionIndex);_shout('beforeResize');if(_containerShiftIndex!==undefined){var holder,item,hIndex;for(var i=0;i<NUM_HOLDERS;i++){holder=_itemHolders[i];_setTranslateX((i+_containerShiftIndex)*_slideSize.x,holder.el.style);hIndex=_currentItemIndex+i-1;if(_options.loop&&_getNumItems()>2){hIndex=_getLoopedId(hIndex);}
item=_getItemAt(hIndex);if(item&&(_itemsNeedUpdate||item.needsUpdate||!item.bounds)){self.cleanSlide(item);self.setContent(holder,hIndex);if(i===1){self.currItem=item;self.updateCurrZoomItem(true);}
item.needsUpdate=false;}else if(holder.index===-1&&hIndex>=0){self.setContent(holder,hIndex);}
if(item&&item.container){_calculateItemSize(item,_viewportSize);_setImageSize(item);_applyZoomPanToItem(item);}}
_itemsNeedUpdate=false;}
_startZoomLevel=_currZoomLevel=self.currItem.initialZoomLevel;_currPanBounds=self.currItem.bounds;if(_currPanBounds){_panOffset.x=_currPanBounds.center.x;_panOffset.y=_currPanBounds.center.y;_applyCurrentZoomPan(true);}
_shout('resize');},zoomTo:function(destZoomLevel,centerPoint,speed,easingFn,updateFn){if(centerPoint){_startZoomLevel=_currZoomLevel;_midZoomPoint.x=Math.abs(centerPoint.x)-_panOffset.x;_midZoomPoint.y=Math.abs(centerPoint.y)-_panOffset.y;_equalizePoints(_startPanOffset,_panOffset);}
var destPanBounds=_calculatePanBounds(destZoomLevel,false),destPanOffset={};_modifyDestPanOffset('x',destPanBounds,destPanOffset,destZoomLevel);_modifyDestPanOffset('y',destPanBounds,destPanOffset,destZoomLevel);var initialZoomLevel=_currZoomLevel;var initialPanOffset={x:_panOffset.x,y:_panOffset.y};_roundPoint(destPanOffset);var onUpdate=function(now){if(now===1){_currZoomLevel=destZoomLevel;_panOffset.x=destPanOffset.x;_panOffset.y=destPanOffset.y;}else{_currZoomLevel=(destZoomLevel-initialZoomLevel)*now+initialZoomLevel;_panOffset.x=(destPanOffset.x-initialPanOffset.x)*now+initialPanOffset.x;_panOffset.y=(destPanOffset.y-initialPanOffset.y)*now+initialPanOffset.y;}
if(updateFn){updateFn(now);}
_applyCurrentZoomPan(now===1);};if(speed){_animateProp('customZoomTo',0,1,speed,easingFn||framework.easing.sine.inOut,onUpdate);}else{onUpdate(1);}}};var MIN_SWIPE_DISTANCE=30,DIRECTION_CHECK_OFFSET=10;var _gestureStartTime,_gestureCheckSpeedTime,p={},p2={},delta={},_currPoint={},_startPoint={},_currPointers=[],_startMainScrollPos={},_releaseAnimData,_posPoints=[],_tempPoint={},_isZoomingIn,_verticalDragInitiated,_oldAndroidTouchEndTimeout,_currZoomedItemIndex=0,_centerPoint=_getEmptyPoint(),_lastReleaseTime=0,_isDragging,_isMultitouch,_zoomStarted,_moved,_dragAnimFrame,_mainScrollShifted,_currentPoints,_isZooming,_currPointsDistance,_startPointsDistance,_currPanBounds,_mainScrollPos=_getEmptyPoint(),_currZoomElementStyle,_mainScrollAnimating,_midZoomPoint=_getEmptyPoint(),_currCenterPoint=_getEmptyPoint(),_direction,_isFirstMove,_opacityChanged,_bgOpacity,_wasOverInitialZoom,_isEqualPoints=function(p1,p2){return p1.x===p2.x&&p1.y===p2.y;},_isNearbyPoints=function(touch0,touch1){return Math.abs(touch0.x-touch1.x)<DOUBLE_TAP_RADIUS&&Math.abs(touch0.y-touch1.y)<DOUBLE_TAP_RADIUS;},_calculatePointsDistance=function(p1,p2){_tempPoint.x=Math.abs(p1.x-p2.x);_tempPoint.y=Math.abs(p1.y-p2.y);return Math.sqrt(_tempPoint.x*_tempPoint.x+_tempPoint.y*_tempPoint.y);},_stopDragUpdateLoop=function(){if(_dragAnimFrame){_cancelAF(_dragAnimFrame);_dragAnimFrame=null;}},_dragUpdateLoop=function(){if(_isDragging){_dragAnimFrame=_requestAF(_dragUpdateLoop);_renderMovement();}},_canPan=function(){return!(_options.scaleMode==='fit'&&_currZoomLevel===self.currItem.initialZoomLevel);},_closestElement=function(el,fn){if(!el||el===document){return false;}
if(el.getAttribute('class')&&el.getAttribute('class').indexOf('pswp__scroll-wrap')>-1){return false;}
if(fn(el)){return el;}
return _closestElement(el.parentNode,fn);},_preventObj={},_preventDefaultEventBehaviour=function(e,isDown){_preventObj.prevent=!_closestElement(e.target,_options.isClickableElement);_shout('preventDragEvent',e,isDown,_preventObj);return _preventObj.prevent;},_convertTouchToPoint=function(touch,p){p.x=touch.pageX;p.y=touch.pageY;p.id=touch.identifier;return p;},_findCenterOfPoints=function(p1,p2,pCenter){pCenter.x=(p1.x+p2.x)*0.5;pCenter.y=(p1.y+p2.y)*0.5;},_pushPosPoint=function(time,x,y){if(time-_gestureCheckSpeedTime>50){var o=_posPoints.length>2?_posPoints.shift():{};o.x=x;o.y=y;_posPoints.push(o);_gestureCheckSpeedTime=time;}},_calculateVerticalDragOpacityRatio=function(){var yOffset=_panOffset.y-self.currItem.initialPosition.y;return 1-Math.abs(yOffset/(_viewportSize.y/2));},_ePoint1={},_ePoint2={},_tempPointsArr=[],_tempCounter,_getTouchPoints=function(e){while(_tempPointsArr.length>0){_tempPointsArr.pop();}
if(!_pointerEventEnabled){if(e.type.indexOf('touch')>-1){if(e.touches&&e.touches.length>0){_tempPointsArr[0]=_convertTouchToPoint(e.touches[0],_ePoint1);if(e.touches.length>1){_tempPointsArr[1]=_convertTouchToPoint(e.touches[1],_ePoint2);}}}else{_ePoint1.x=e.pageX;_ePoint1.y=e.pageY;_ePoint1.id='';_tempPointsArr[0]=_ePoint1;}}else{_tempCounter=0;_currPointers.forEach(function(p){if(_tempCounter===0){_tempPointsArr[0]=p;}else if(_tempCounter===1){_tempPointsArr[1]=p;}
_tempCounter++;});}
return _tempPointsArr;},_panOrMoveMainScroll=function(axis,delta){var panFriction,overDiff=0,newOffset=_panOffset[axis]+delta[axis],startOverDiff,dir=delta[axis]>0,newMainScrollPosition=_mainScrollPos.x+delta.x,mainScrollDiff=_mainScrollPos.x-_startMainScrollPos.x,newPanPos,newMainScrollPos;if(newOffset>_currPanBounds.min[axis]||newOffset<_currPanBounds.max[axis]){panFriction=_options.panEndFriction;}else{panFriction=1;}
newOffset=_panOffset[axis]+delta[axis]*panFriction;if(_options.allowPanToNext||_currZoomLevel===self.currItem.initialZoomLevel){if(!_currZoomElementStyle){newMainScrollPos=newMainScrollPosition;}else if(_direction==='h'&&axis==='x'&&!_zoomStarted){if(dir){if(newOffset>_currPanBounds.min[axis]){panFriction=_options.panEndFriction;overDiff=_currPanBounds.min[axis]-newOffset;startOverDiff=_currPanBounds.min[axis]-_startPanOffset[axis];}
if((startOverDiff<=0||mainScrollDiff<0)&&_getNumItems()>1){newMainScrollPos=newMainScrollPosition;if(mainScrollDiff<0&&newMainScrollPosition>_startMainScrollPos.x){newMainScrollPos=_startMainScrollPos.x;}}else{if(_currPanBounds.min.x!==_currPanBounds.max.x){newPanPos=newOffset;}}}else{if(newOffset<_currPanBounds.max[axis]){panFriction=_options.panEndFriction;overDiff=newOffset-_currPanBounds.max[axis];startOverDiff=_startPanOffset[axis]-_currPanBounds.max[axis];}
if((startOverDiff<=0||mainScrollDiff>0)&&_getNumItems()>1){newMainScrollPos=newMainScrollPosition;if(mainScrollDiff>0&&newMainScrollPosition<_startMainScrollPos.x){newMainScrollPos=_startMainScrollPos.x;}}else{if(_currPanBounds.min.x!==_currPanBounds.max.x){newPanPos=newOffset;}}}}
if(axis==='x'){if(newMainScrollPos!==undefined){_moveMainScroll(newMainScrollPos,true);if(newMainScrollPos===_startMainScrollPos.x){_mainScrollShifted=false;}else{_mainScrollShifted=true;}}
if(_currPanBounds.min.x!==_currPanBounds.max.x){if(newPanPos!==undefined){_panOffset.x=newPanPos;}else if(!_mainScrollShifted){_panOffset.x+=delta.x*panFriction;}}
return newMainScrollPos!==undefined;}}
if(!_mainScrollAnimating){if(!_mainScrollShifted){if(_currZoomLevel>self.currItem.fitRatio){_panOffset[axis]+=delta[axis]*panFriction;}}}},_onDragStart=function(e){if(e.type==='mousedown'&&e.button>0){return;}
if(_initialZoomRunning){e.preventDefault();return;}
if(_oldAndroidTouchEndTimeout&&e.type==='mousedown'){return;}
if(_preventDefaultEventBehaviour(e,true)){e.preventDefault();}
_shout('pointerDown');if(_pointerEventEnabled){var pointerIndex=framework.arraySearch(_currPointers,e.pointerId,'id');if(pointerIndex<0){pointerIndex=_currPointers.length;}
_currPointers[pointerIndex]={x:e.pageX,y:e.pageY,id:e.pointerId};}
var startPointsList=_getTouchPoints(e),numPoints=startPointsList.length;_currentPoints=null;_stopAllAnimations();if(!_isDragging||numPoints===1){_isDragging=_isFirstMove=true;framework.bind(window,_upMoveEvents,self);_isZoomingIn=_wasOverInitialZoom=_opacityChanged=_verticalDragInitiated=_mainScrollShifted=_moved=_isMultitouch=_zoomStarted=false;_direction=null;_shout('firstTouchStart',startPointsList);_equalizePoints(_startPanOffset,_panOffset);_currPanDist.x=_currPanDist.y=0;_equalizePoints(_currPoint,startPointsList[0]);_equalizePoints(_startPoint,_currPoint);_startMainScrollPos.x=_slideSize.x*_currPositionIndex;_posPoints=[{x:_currPoint.x,y:_currPoint.y}];_gestureCheckSpeedTime=_gestureStartTime=_getCurrentTime();_calculatePanBounds(_currZoomLevel,true);_stopDragUpdateLoop();_dragUpdateLoop();}
if(!_isZooming&&numPoints>1&&!_mainScrollAnimating&&!_mainScrollShifted){_startZoomLevel=_currZoomLevel;_zoomStarted=false;_isZooming=_isMultitouch=true;_currPanDist.y=_currPanDist.x=0;_equalizePoints(_startPanOffset,_panOffset);_equalizePoints(p,startPointsList[0]);_equalizePoints(p2,startPointsList[1]);_findCenterOfPoints(p,p2,_currCenterPoint);_midZoomPoint.x=Math.abs(_currCenterPoint.x)-_panOffset.x;_midZoomPoint.y=Math.abs(_currCenterPoint.y)-_panOffset.y;_currPointsDistance=_startPointsDistance=_calculatePointsDistance(p,p2);}},_onDragMove=function(e){e.preventDefault();if(_pointerEventEnabled){var pointerIndex=framework.arraySearch(_currPointers,e.pointerId,'id');if(pointerIndex>-1){var p=_currPointers[pointerIndex];p.x=e.pageX;p.y=e.pageY;}}
if(_isDragging){var touchesList=_getTouchPoints(e);if(!_direction&&!_moved&&!_isZooming){if(_mainScrollPos.x!==_slideSize.x*_currPositionIndex){_direction='h';}else{var diff=Math.abs(touchesList[0].x-_currPoint.x)-Math.abs(touchesList[0].y-_currPoint.y);if(Math.abs(diff)>=DIRECTION_CHECK_OFFSET){_direction=diff>0?'h':'v';_currentPoints=touchesList;}}}else{_currentPoints=touchesList;}}},_renderMovement=function(){if(!_currentPoints){return;}
var numPoints=_currentPoints.length;if(numPoints===0){return;}
_equalizePoints(p,_currentPoints[0]);delta.x=p.x-_currPoint.x;delta.y=p.y-_currPoint.y;if(_isZooming&&numPoints>1){_currPoint.x=p.x;_currPoint.y=p.y;if(!delta.x&&!delta.y&&_isEqualPoints(_currentPoints[1],p2)){return;}
_equalizePoints(p2,_currentPoints[1]);if(!_zoomStarted){_zoomStarted=true;_shout('zoomGestureStarted');}
var pointsDistance=_calculatePointsDistance(p,p2);var zoomLevel=_calculateZoomLevel(pointsDistance);if(zoomLevel>self.currItem.initialZoomLevel+self.currItem.initialZoomLevel/15){_wasOverInitialZoom=true;}
var zoomFriction=1,minZoomLevel=_getMinZoomLevel(),maxZoomLevel=_getMaxZoomLevel();if(zoomLevel<minZoomLevel){if(_options.pinchToClose&&!_wasOverInitialZoom&&_startZoomLevel<=self.currItem.initialZoomLevel){var minusDiff=minZoomLevel-zoomLevel;var percent=1-minusDiff/(minZoomLevel/1.2);_applyBgOpacity(percent);_shout('onPinchClose',percent);_opacityChanged=true;}else{zoomFriction=(minZoomLevel-zoomLevel)/minZoomLevel;if(zoomFriction>1){zoomFriction=1;}
zoomLevel=minZoomLevel-zoomFriction*(minZoomLevel/3);}}else if(zoomLevel>maxZoomLevel){zoomFriction=(zoomLevel-maxZoomLevel)/(minZoomLevel*6);if(zoomFriction>1){zoomFriction=1;}
zoomLevel=maxZoomLevel+zoomFriction*minZoomLevel;}
if(zoomFriction<0){zoomFriction=0;}
_currPointsDistance=pointsDistance;_findCenterOfPoints(p,p2,_centerPoint);_currPanDist.x+=_centerPoint.x-_currCenterPoint.x;_currPanDist.y+=_centerPoint.y-_currCenterPoint.y;_equalizePoints(_currCenterPoint,_centerPoint);_panOffset.x=_calculatePanOffset('x',zoomLevel);_panOffset.y=_calculatePanOffset('y',zoomLevel);_isZoomingIn=zoomLevel>_currZoomLevel;_currZoomLevel=zoomLevel;_applyCurrentZoomPan();}else{if(!_direction){return;}
if(_isFirstMove){_isFirstMove=false;if(Math.abs(delta.x)>=DIRECTION_CHECK_OFFSET){delta.x-=_currentPoints[0].x-_startPoint.x;}
if(Math.abs(delta.y)>=DIRECTION_CHECK_OFFSET){delta.y-=_currentPoints[0].y-_startPoint.y;}}
_currPoint.x=p.x;_currPoint.y=p.y;if(delta.x===0&&delta.y===0){return;}
if(_direction==='v'&&_options.closeOnVerticalDrag){if(!_canPan()){_currPanDist.y+=delta.y;_panOffset.y+=delta.y;var opacityRatio=_calculateVerticalDragOpacityRatio();_verticalDragInitiated=true;_shout('onVerticalDrag',opacityRatio);_applyBgOpacity(opacityRatio);_applyCurrentZoomPan();return;}}
_pushPosPoint(_getCurrentTime(),p.x,p.y);_moved=true;_currPanBounds=self.currItem.bounds;var mainScrollChanged=_panOrMoveMainScroll('x',delta);if(!mainScrollChanged){_panOrMoveMainScroll('y',delta);_roundPoint(_panOffset);_applyCurrentZoomPan();}}},_onDragRelease=function(e){if(_features.isOldAndroid){if(_oldAndroidTouchEndTimeout&&e.type==='mouseup'){return;}
if(e.type.indexOf('touch')>-1){clearTimeout(_oldAndroidTouchEndTimeout);_oldAndroidTouchEndTimeout=setTimeout(function(){_oldAndroidTouchEndTimeout=0;},600);}}
_shout('pointerUp');if(_preventDefaultEventBehaviour(e,false)){e.preventDefault();}
var releasePoint;if(_pointerEventEnabled){var pointerIndex=framework.arraySearch(_currPointers,e.pointerId,'id');if(pointerIndex>-1){releasePoint=_currPointers.splice(pointerIndex,1)[0];if(navigator.pointerEnabled){releasePoint.type=e.pointerType||'mouse';}else{var MSPOINTER_TYPES={4:'mouse',2:'touch',3:'pen'};releasePoint.type=MSPOINTER_TYPES[e.pointerType];if(!releasePoint.type){releasePoint.type=e.pointerType||'mouse';}}}}
var touchList=_getTouchPoints(e),gestureType,numPoints=touchList.length;if(e.type==='mouseup'){numPoints=0;}
if(numPoints===2){_currentPoints=null;return true;}
if(numPoints===1){_equalizePoints(_startPoint,touchList[0]);}
if(numPoints===0&&!_direction&&!_mainScrollAnimating){if(!releasePoint){if(e.type==='mouseup'){releasePoint={x:e.pageX,y:e.pageY,type:'mouse'};}else if(e.changedTouches&&e.changedTouches[0]){releasePoint={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:'touch'};}}
_shout('touchRelease',e,releasePoint);}
var releaseTimeDiff=-1;if(numPoints===0){_isDragging=false;framework.unbind(window,_upMoveEvents,self);_stopDragUpdateLoop();if(_isZooming){releaseTimeDiff=0;}else if(_lastReleaseTime!==-1){releaseTimeDiff=_getCurrentTime()-_lastReleaseTime;}}
_lastReleaseTime=numPoints===1?_getCurrentTime():-1;if(releaseTimeDiff!==-1&&releaseTimeDiff<150){gestureType='zoom';}else{gestureType='swipe';}
if(_isZooming&&numPoints<2){_isZooming=false;if(numPoints===1){gestureType='zoomPointerUp';}
_shout('zoomGestureEnded');}
_currentPoints=null;if(!_moved&&!_zoomStarted&&!_mainScrollAnimating&&!_verticalDragInitiated){return;}
_stopAllAnimations();if(!_releaseAnimData){_releaseAnimData=_initDragReleaseAnimationData();}
_releaseAnimData.calculateSwipeSpeed('x');if(_verticalDragInitiated){var opacityRatio=_calculateVerticalDragOpacityRatio();if(opacityRatio<_options.verticalDragRange){self.close();}else{var initalPanY=_panOffset.y,initialBgOpacity=_bgOpacity;_animateProp('verticalDrag',0,1,300,framework.easing.cubic.out,function(now){_panOffset.y=(self.currItem.initialPosition.y-initalPanY)*now+initalPanY;_applyBgOpacity((1-initialBgOpacity)*now+initialBgOpacity);_applyCurrentZoomPan();});_shout('onVerticalDrag',1);}
return;}
if((_mainScrollShifted||_mainScrollAnimating)&&numPoints===0){var itemChanged=_finishSwipeMainScrollGesture(gestureType,_releaseAnimData);if(itemChanged){return;}
gestureType='zoomPointerUp';}
if(_mainScrollAnimating){return;}
if(gestureType!=='swipe'){_completeZoomGesture();return;}
if(!_mainScrollShifted&&_currZoomLevel>self.currItem.fitRatio){_completePanGesture(_releaseAnimData);}},_initDragReleaseAnimationData=function(){var lastFlickDuration,tempReleasePos;var s={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(axis){if(_posPoints.length>1){lastFlickDuration=_getCurrentTime()-_gestureCheckSpeedTime+50;tempReleasePos=_posPoints[_posPoints.length-2][axis];}else{lastFlickDuration=_getCurrentTime()-_gestureStartTime;tempReleasePos=_startPoint[axis];}
s.lastFlickOffset[axis]=_currPoint[axis]-tempReleasePos;s.lastFlickDist[axis]=Math.abs(s.lastFlickOffset[axis]);if(s.lastFlickDist[axis]>20){s.lastFlickSpeed[axis]=s.lastFlickOffset[axis]/lastFlickDuration;}else{s.lastFlickSpeed[axis]=0;}
if(Math.abs(s.lastFlickSpeed[axis])<0.1){s.lastFlickSpeed[axis]=0;}
s.slowDownRatio[axis]=0.95;s.slowDownRatioReverse[axis]=1-s.slowDownRatio[axis];s.speedDecelerationRatio[axis]=1;},calculateOverBoundsAnimOffset:function(axis,speed){if(!s.backAnimStarted[axis]){if(_panOffset[axis]>_currPanBounds.min[axis]){s.backAnimDestination[axis]=_currPanBounds.min[axis];}else if(_panOffset[axis]<_currPanBounds.max[axis]){s.backAnimDestination[axis]=_currPanBounds.max[axis];}
if(s.backAnimDestination[axis]!==undefined){s.slowDownRatio[axis]=0.7;s.slowDownRatioReverse[axis]=1-s.slowDownRatio[axis];if(s.speedDecelerationRatioAbs[axis]<0.05){s.lastFlickSpeed[axis]=0;s.backAnimStarted[axis]=true;_animateProp('bounceZoomPan'+axis,_panOffset[axis],s.backAnimDestination[axis],speed||300,framework.easing.sine.out,function(pos){_panOffset[axis]=pos;_applyCurrentZoomPan();});}}}},calculateAnimOffset:function(axis){if(!s.backAnimStarted[axis]){s.speedDecelerationRatio[axis]=s.speedDecelerationRatio[axis]*(s.slowDownRatio[axis]+
s.slowDownRatioReverse[axis]-
s.slowDownRatioReverse[axis]*s.timeDiff/10);s.speedDecelerationRatioAbs[axis]=Math.abs(s.lastFlickSpeed[axis]*s.speedDecelerationRatio[axis]);s.distanceOffset[axis]=s.lastFlickSpeed[axis]*s.speedDecelerationRatio[axis]*s.timeDiff;_panOffset[axis]+=s.distanceOffset[axis];}},panAnimLoop:function(){if(_animations.zoomPan){_animations.zoomPan.raf=_requestAF(s.panAnimLoop);s.now=_getCurrentTime();s.timeDiff=s.now-s.lastNow;s.lastNow=s.now;s.calculateAnimOffset('x');s.calculateAnimOffset('y');_applyCurrentZoomPan();s.calculateOverBoundsAnimOffset('x');s.calculateOverBoundsAnimOffset('y');if(s.speedDecelerationRatioAbs.x<0.05&&s.speedDecelerationRatioAbs.y<0.05){_panOffset.x=Math.round(_panOffset.x);_panOffset.y=Math.round(_panOffset.y);_applyCurrentZoomPan();_stopAnimation('zoomPan');return;}}}};return s;},_completePanGesture=function(animData){animData.calculateSwipeSpeed('y');_currPanBounds=self.currItem.bounds;animData.backAnimDestination={};animData.backAnimStarted={};if(Math.abs(animData.lastFlickSpeed.x)<=0.05&&Math.abs(animData.lastFlickSpeed.y)<=0.05){animData.speedDecelerationRatioAbs.x=animData.speedDecelerationRatioAbs.y=0;animData.calculateOverBoundsAnimOffset('x');animData.calculateOverBoundsAnimOffset('y');return true;}
_registerStartAnimation('zoomPan');animData.lastNow=_getCurrentTime();animData.panAnimLoop();},_finishSwipeMainScrollGesture=function(gestureType,_releaseAnimData){var itemChanged;if(!_mainScrollAnimating){_currZoomedItemIndex=_currentItemIndex;}
var itemsDiff;if(gestureType==='swipe'){var totalShiftDist=_currPoint.x-_startPoint.x,isFastLastFlick=_releaseAnimData.lastFlickDist.x<10;if(totalShiftDist>MIN_SWIPE_DISTANCE&&(isFastLastFlick||_releaseAnimData.lastFlickOffset.x>20)){itemsDiff=-1;}else if(totalShiftDist<-MIN_SWIPE_DISTANCE&&(isFastLastFlick||_releaseAnimData.lastFlickOffset.x<-20)){itemsDiff=1;}}
var nextCircle;if(itemsDiff){_currentItemIndex+=itemsDiff;if(_currentItemIndex<0){_currentItemIndex=_options.loop?_getNumItems()-1:0;nextCircle=true;}else if(_currentItemIndex>=_getNumItems()){_currentItemIndex=_options.loop?0:_getNumItems()-1;nextCircle=true;}
if(!nextCircle||_options.loop){_indexDiff+=itemsDiff;_currPositionIndex-=itemsDiff;itemChanged=true;}}
var animateToX=_slideSize.x*_currPositionIndex;var animateToDist=Math.abs(animateToX-_mainScrollPos.x);var finishAnimDuration;if(!itemChanged&&animateToX>_mainScrollPos.x!==_releaseAnimData.lastFlickSpeed.x>0){finishAnimDuration=333;}else{finishAnimDuration=Math.abs(_releaseAnimData.lastFlickSpeed.x)>0?animateToDist/Math.abs(_releaseAnimData.lastFlickSpeed.x):333;finishAnimDuration=Math.min(finishAnimDuration,400);finishAnimDuration=Math.max(finishAnimDuration,250);}
if(_currZoomedItemIndex===_currentItemIndex){itemChanged=false;}
_mainScrollAnimating=true;_shout('mainScrollAnimStart');_animateProp('mainScroll',_mainScrollPos.x,animateToX,finishAnimDuration,framework.easing.cubic.out,_moveMainScroll,function(){_stopAllAnimations();_mainScrollAnimating=false;_currZoomedItemIndex=-1;if(itemChanged||_currZoomedItemIndex!==_currentItemIndex){self.updateCurrItem();}
_shout('mainScrollAnimComplete');});if(itemChanged){self.updateCurrItem(true);}
return itemChanged;},_calculateZoomLevel=function(touchesDistance){return 1/_startPointsDistance*touchesDistance*_startZoomLevel;},_completeZoomGesture=function(){var destZoomLevel=_currZoomLevel,minZoomLevel=_getMinZoomLevel(),maxZoomLevel=_getMaxZoomLevel();if(_currZoomLevel<minZoomLevel){destZoomLevel=minZoomLevel;}else if(_currZoomLevel>maxZoomLevel){destZoomLevel=maxZoomLevel;}
var destOpacity=1,onUpdate,initialOpacity=_bgOpacity;if(_opacityChanged&&!_isZoomingIn&&!_wasOverInitialZoom&&_currZoomLevel<minZoomLevel){self.close();return true;}
if(_opacityChanged){onUpdate=function(now){_applyBgOpacity((destOpacity-initialOpacity)*now+initialOpacity);};}
self.zoomTo(destZoomLevel,0,200,framework.easing.cubic.out,onUpdate);return true;};_registerModule('Gestures',{publicMethods:{initGestures:function(){var addEventNames=function(pref,down,move,up,cancel){_dragStartEvent=pref+down;_dragMoveEvent=pref+move;_dragEndEvent=pref+up;if(cancel){_dragCancelEvent=pref+cancel;}else{_dragCancelEvent='';}};_pointerEventEnabled=_features.pointerEvent;if(_pointerEventEnabled&&_features.touch){_features.touch=false;}
if(_pointerEventEnabled){if(navigator.pointerEnabled){addEventNames('pointer','down','move','up','cancel');}else{addEventNames('MSPointer','Down','Move','Up','Cancel');}}else if(_features.touch){addEventNames('touch','start','move','end','cancel');_likelyTouchDevice=true;}else{addEventNames('mouse','down','move','up');}
_upMoveEvents=_dragMoveEvent+' '+_dragEndEvent+' '+_dragCancelEvent;_downEvents=_dragStartEvent;if(_pointerEventEnabled&&!_likelyTouchDevice){_likelyTouchDevice=(navigator.maxTouchPoints>1)||(navigator.msMaxTouchPoints>1);}
self.likelyTouchDevice=_likelyTouchDevice;_globalEventHandlers[_dragStartEvent]=_onDragStart;_globalEventHandlers[_dragMoveEvent]=_onDragMove;_globalEventHandlers[_dragEndEvent]=_onDragRelease;if(_dragCancelEvent){_globalEventHandlers[_dragCancelEvent]=_globalEventHandlers[_dragEndEvent];}
if(_features.touch){_downEvents+=' mousedown';_upMoveEvents+=' mousemove mouseup';_globalEventHandlers.mousedown=_globalEventHandlers[_dragStartEvent];_globalEventHandlers.mousemove=_globalEventHandlers[_dragMoveEvent];_globalEventHandlers.mouseup=_globalEventHandlers[_dragEndEvent];}
if(!_likelyTouchDevice){_options.allowPanToNext=false;}}}});var _showOrHideTimeout,_showOrHide=function(item,img,out,completeFn){if(_showOrHideTimeout){clearTimeout(_showOrHideTimeout);}
_initialZoomRunning=true;_initialContentSet=true;var thumbBounds;if(item.initialLayout){thumbBounds=item.initialLayout;item.initialLayout=null;}else{thumbBounds=_options.getThumbBoundsFn&&_options.getThumbBoundsFn(_currentItemIndex);}
var duration=out?_options.hideAnimationDuration:_options.showAnimationDuration;var onComplete=function(){_stopAnimation('initialZoom');if(!out){_applyBgOpacity(1);if(img){img.style.display='block';}
framework.addClass(template,'pswp--animated-in');_shout('initialZoom'+(out?'OutEnd':'InEnd'));}else{self.template.removeAttribute('style');self.bg.removeAttribute('style');}
if(completeFn){completeFn();}
_initialZoomRunning=false;};if(!duration||!thumbBounds||thumbBounds.x===undefined){_shout('initialZoom'+(out?'Out':'In'));_currZoomLevel=item.initialZoomLevel;_equalizePoints(_panOffset,item.initialPosition);_applyCurrentZoomPan();template.style.opacity=out?0:1;_applyBgOpacity(1);if(duration){setTimeout(function(){onComplete();},duration);}else{onComplete();}
return;}
var startAnimation=function(){var closeWithRaf=_closedByScroll,fadeEverything=!self.currItem.src||self.currItem.loadError||_options.showHideOpacity;if(item.miniImg){item.miniImg.style.webkitBackfaceVisibility='hidden';}
if(!out){_currZoomLevel=thumbBounds.w/item.w;_panOffset.x=thumbBounds.x;_panOffset.y=thumbBounds.y-_initalWindowScrollY;self[fadeEverything?'template':'bg'].style.opacity=0.001;_applyCurrentZoomPan();}
_registerStartAnimation('initialZoom');if(out&&!closeWithRaf){framework.removeClass(template,'pswp--animated-in');}
if(fadeEverything){if(out){framework[(closeWithRaf?'remove':'add')+'Class'](template,'pswp--animate_opacity');}else{setTimeout(function(){framework.addClass(template,'pswp--animate_opacity');},30);}}
_showOrHideTimeout=setTimeout(function(){_shout('initialZoom'+(out?'Out':'In'));if(!out){_currZoomLevel=item.initialZoomLevel;_equalizePoints(_panOffset,item.initialPosition);_applyCurrentZoomPan();_applyBgOpacity(1);if(fadeEverything){template.style.opacity=1;}else{_applyBgOpacity(1);}
_showOrHideTimeout=setTimeout(onComplete,duration+20);}else{var destZoomLevel=thumbBounds.w/item.w,initialPanOffset={x:_panOffset.x,y:_panOffset.y},initialZoomLevel=_currZoomLevel,initalBgOpacity=_bgOpacity,onUpdate=function(now){if(now===1){_currZoomLevel=destZoomLevel;_panOffset.x=thumbBounds.x;_panOffset.y=thumbBounds.y-_currentWindowScrollY;}else{_currZoomLevel=(destZoomLevel-initialZoomLevel)*now+initialZoomLevel;_panOffset.x=(thumbBounds.x-initialPanOffset.x)*now+initialPanOffset.x;_panOffset.y=(thumbBounds.y-_currentWindowScrollY-initialPanOffset.y)*now+initialPanOffset.y;}
_applyCurrentZoomPan();if(fadeEverything){template.style.opacity=1-now;}else{_applyBgOpacity(initalBgOpacity-now*initalBgOpacity);}};if(closeWithRaf){_animateProp('initialZoom',0,1,duration,framework.easing.cubic.out,onUpdate,onComplete);}else{onUpdate(1);_showOrHideTimeout=setTimeout(onComplete,duration+20);}}},out?25:90);};startAnimation();};var _items,_tempPanAreaSize={},_imagesToAppendPool=[],_initialContentSet,_initialZoomRunning,_controllerDefaultOptions={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:false,preload:[1,1],getNumItemsFn:function(){return _items.length;}};var _getItemAt,_getNumItems,_initialIsLoop,_getZeroBounds=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}};},_calculateSingleItemPanBounds=function(item,realPanElementW,realPanElementH){var bounds=item.bounds;bounds.center.x=Math.round((_tempPanAreaSize.x-realPanElementW)/2);bounds.center.y=Math.round((_tempPanAreaSize.y-realPanElementH)/2)+item.vGap.top;bounds.max.x=(realPanElementW>_tempPanAreaSize.x)?Math.round(_tempPanAreaSize.x-realPanElementW):bounds.center.x;bounds.max.y=(realPanElementH>_tempPanAreaSize.y)?Math.round(_tempPanAreaSize.y-realPanElementH)+item.vGap.top:bounds.center.y;bounds.min.x=(realPanElementW>_tempPanAreaSize.x)?0:bounds.center.x;bounds.min.y=(realPanElementH>_tempPanAreaSize.y)?item.vGap.top:bounds.center.y;},_calculateItemSize=function(item,viewportSize,zoomLevel){if(item.src&&!item.loadError){var isInitial=!zoomLevel;if(isInitial){if(!item.vGap){item.vGap={top:0,bottom:0};}
_shout('parseVerticalMargin',item);}
_tempPanAreaSize.x=viewportSize.x;_tempPanAreaSize.y=viewportSize.y-item.vGap.top-item.vGap.bottom;if(isInitial){var hRatio=_tempPanAreaSize.x/item.w;var vRatio=_tempPanAreaSize.y/item.h;item.fitRatio=hRatio<vRatio?hRatio:vRatio;var scaleMode=_options.scaleMode;if(scaleMode==='orig'){zoomLevel=1;}else if(scaleMode==='fit'){zoomLevel=item.fitRatio;}
if(zoomLevel>1){zoomLevel=1;}
item.initialZoomLevel=zoomLevel;if(!item.bounds){item.bounds=_getZeroBounds();}}
if(!zoomLevel){return;}
_calculateSingleItemPanBounds(item,item.w*zoomLevel,item.h*zoomLevel);if(isInitial&&zoomLevel===item.initialZoomLevel){item.initialPosition=item.bounds.center;}
return item.bounds;}else{item.w=item.h=0;item.initialZoomLevel=item.fitRatio=1;item.bounds=_getZeroBounds();item.initialPosition=item.bounds.center;return item.bounds;}},_appendImage=function(index,item,baseDiv,img,preventAnimation,keepPlaceholder){if(item.loadError){return;}
if(img){item.imageAppended=true;_setImageSize(item,img,(item===self.currItem&&_renderMaxResolution));baseDiv.appendChild(img);if(keepPlaceholder){setTimeout(function(){if(item&&item.loaded&&item.placeholder){item.placeholder.style.display='none';item.placeholder=null;}},500);}}},_preloadImage=function(item){item.loading=true;item.loaded=false;var img=item.img=framework.createEl('pswp__img','img');var onComplete=function(){item.loading=false;item.loaded=true;if(item.loadComplete){item.loadComplete(item);}else{item.img=null;}
img.onload=img.onerror=null;img=null;};img.onload=onComplete;img.onerror=function(){item.loadError=true;onComplete();};img.src=item.src;return img;},_checkForError=function(item,cleanUp){if(item.src&&item.loadError&&item.container){if(cleanUp){item.container.innerHTML='';}
item.container.innerHTML=_options.errorMsg.replace('%url%',item.src);return true;}},_setImageSize=function(item,img,maxRes){if(!item.src){return;}
if(!img){img=item.container.lastChild;}
var w=maxRes?item.w:Math.round(item.w*item.fitRatio),h=maxRes?item.h:Math.round(item.h*item.fitRatio);if(item.placeholder&&!item.loaded){item.placeholder.style.width=w+'px';item.placeholder.style.height=h+'px';}
img.style.width=w+'px';img.style.height=h+'px';},_appendImagesPool=function(){if(_imagesToAppendPool.length){var poolItem;for(var i=0;i<_imagesToAppendPool.length;i++){poolItem=_imagesToAppendPool[i];if(poolItem.holder.index===poolItem.index){_appendImage(poolItem.index,poolItem.item,poolItem.baseDiv,poolItem.img,false,poolItem.clearPlaceholder);}}
_imagesToAppendPool=[];}};_registerModule('Controller',{publicMethods:{lazyLoadItem:function(index){index=_getLoopedId(index);var item=_getItemAt(index);if(!item||((item.loaded||item.loading)&&!_itemsNeedUpdate)){return;}
_shout('gettingData',index,item);if(!item.src){return;}
_preloadImage(item);},initController:function(){framework.extend(_options,_controllerDefaultOptions,true);self.items=_items=items;_getItemAt=self.getItemAt;_getNumItems=_options.getNumItemsFn;_initialIsLoop=_options.loop;if(_getNumItems()<3){_options.loop=false;}
_listen('beforeChange',function(diff){var p=_options.preload,isNext=diff===null?true:(diff>=0),preloadBefore=Math.min(p[0],_getNumItems()),preloadAfter=Math.min(p[1],_getNumItems()),i;for(i=1;i<=(isNext?preloadAfter:preloadBefore);i++){self.lazyLoadItem(_currentItemIndex+i);}
for(i=1;i<=(isNext?preloadBefore:preloadAfter);i++){self.lazyLoadItem(_currentItemIndex-i);}});_listen('initialLayout',function(){self.currItem.initialLayout=_options.getThumbBoundsFn&&_options.getThumbBoundsFn(_currentItemIndex);});_listen('mainScrollAnimComplete',_appendImagesPool);_listen('initialZoomInEnd',_appendImagesPool);_listen('destroy',function(){var item;for(var i=0;i<_items.length;i++){item=_items[i];if(item.container){item.container=null;}
if(item.placeholder){item.placeholder=null;}
if(item.img){item.img=null;}
if(item.preloader){item.preloader=null;}
if(item.loadError){item.loaded=item.loadError=false;}}
_imagesToAppendPool=null;});},getItemAt:function(index){if(index>=0){return _items[index]!==undefined?_items[index]:false;}
return false;},allowProgressiveImg:function(){return _options.forceProgressiveLoading||!_likelyTouchDevice||_options.mouseUsed||screen.width>1200;},setContent:function(holder,index){if(_options.loop){index=_getLoopedId(index);}
var prevItem=self.getItemAt(holder.index);if(prevItem){prevItem.container=null;}
var item=self.getItemAt(index),img;if(!item){holder.el.innerHTML='';return;}
_shout('gettingData',index,item);holder.index=index;holder.item=item;var baseDiv=item.container=framework.createEl('pswp__zoom-wrap');if(!item.src&&item.html){if(item.html.tagName){baseDiv.appendChild(item.html);}else{baseDiv.innerHTML=item.html;}}
_checkForError(item);_calculateItemSize(item,_viewportSize);if(item.src&&!item.loadError&&!item.loaded){item.loadComplete=function(item){if(!_isOpen){return;}
if(holder&&holder.index===index){if(_checkForError(item,true)){item.loadComplete=item.img=null;_calculateItemSize(item,_viewportSize);_applyZoomPanToItem(item);if(holder.index===_currentItemIndex){self.updateCurrZoomItem();}
return;}
if(!item.imageAppended){if(_features.transform&&(_mainScrollAnimating||_initialZoomRunning)){_imagesToAppendPool.push({item:item,baseDiv:baseDiv,img:item.img,index:index,holder:holder,clearPlaceholder:true});}else{_appendImage(index,item,baseDiv,item.img,_mainScrollAnimating||_initialZoomRunning,true);}}else{if(!_initialZoomRunning&&item.placeholder){item.placeholder.style.display='none';item.placeholder=null;}}}
item.loadComplete=null;item.img=null;_shout('imageLoadComplete',index,item);};if(framework.features.transform){var placeholderClassName='pswp__img pswp__img--placeholder';placeholderClassName+=(item.msrc?'':' pswp__img--placeholder--blank');var placeholder=framework.createEl(placeholderClassName,item.msrc?'img':'');if(item.msrc){placeholder.src=item.msrc;}
_setImageSize(item,placeholder);baseDiv.appendChild(placeholder);item.placeholder=placeholder;}
if(!item.loading){_preloadImage(item);}
if(self.allowProgressiveImg()){if(!_initialContentSet&&_features.transform){_imagesToAppendPool.push({item:item,baseDiv:baseDiv,img:item.img,index:index,holder:holder});}else{_appendImage(index,item,baseDiv,item.img,true,true);}}}else if(item.src&&!item.loadError){img=framework.createEl('pswp__img','img');img.style.opacity=1;img.src=item.src;_setImageSize(item,img);_appendImage(index,item,baseDiv,img,true);}
if(!_initialContentSet&&index===_currentItemIndex){_currZoomElementStyle=baseDiv.style;_showOrHide(item,(img||item.img));}else{_applyZoomPanToItem(item);}
holder.el.innerHTML='';holder.el.appendChild(baseDiv);},cleanSlide:function(item){if(item.img){item.img.onload=item.img.onerror=null;}
item.loaded=item.loading=item.img=item.imageAppended=false;}}});var tapTimer,tapReleasePoint={},_dispatchTapEvent=function(origEvent,releasePoint,pointerType){var e=document.createEvent('CustomEvent'),eDetail={origEvent:origEvent,target:origEvent.target,releasePoint:releasePoint,pointerType:pointerType||'touch'};e.initCustomEvent('pswpTap',true,true,eDetail);origEvent.target.dispatchEvent(e);};_registerModule('Tap',{publicMethods:{initTap:function(){_listen('firstTouchStart',self.onTapStart);_listen('touchRelease',self.onTapRelease);_listen('destroy',function(){tapReleasePoint={};tapTimer=null;});},onTapStart:function(touchList){if(touchList.length>1){clearTimeout(tapTimer);tapTimer=null;}},onTapRelease:function(e,releasePoint){if(!releasePoint){return;}
if(!_moved&&!_isMultitouch&&!_numAnimations){var p0=releasePoint;if(tapTimer){clearTimeout(tapTimer);tapTimer=null;if(_isNearbyPoints(p0,tapReleasePoint)){_shout('doubleTap',p0);return;}}
if(releasePoint.type==='mouse'){_dispatchTapEvent(e,releasePoint,'mouse');return;}
var clickedTagName=e.target.tagName.toUpperCase();if(clickedTagName==='BUTTON'||framework.hasClass(e.target,'pswp__single-tap')){_dispatchTapEvent(e,releasePoint);return;}
_equalizePoints(tapReleasePoint,p0);tapTimer=setTimeout(function(){_dispatchTapEvent(e,releasePoint);tapTimer=null;},300);}}}});var _wheelDelta;_registerModule('DesktopZoom',{publicMethods:{initDesktopZoom:function(){if(_oldIE){return;}
if(_likelyTouchDevice){_listen('mouseUsed',function(){self.setupDesktopZoom();});}else{self.setupDesktopZoom(true);}},setupDesktopZoom:function(onInit){_wheelDelta={};var events='wheel mousewheel DOMMouseScroll';_listen('bindEvents',function(){framework.bind(template,events,self.handleMouseWheel);});_listen('unbindEvents',function(){if(_wheelDelta){framework.unbind(template,events,self.handleMouseWheel);}});self.mouseZoomedIn=false;var hasDraggingClass,updateZoomable=function(){if(self.mouseZoomedIn){framework.removeClass(template,'pswp--zoomed-in');self.mouseZoomedIn=false;}
if(_currZoomLevel<1){framework.addClass(template,'pswp--zoom-allowed');}else{framework.removeClass(template,'pswp--zoom-allowed');}
removeDraggingClass();},removeDraggingClass=function(){if(hasDraggingClass){framework.removeClass(template,'pswp--dragging');hasDraggingClass=false;}};_listen('resize',updateZoomable);_listen('afterChange',updateZoomable);_listen('pointerDown',function(){if(self.mouseZoomedIn){hasDraggingClass=true;framework.addClass(template,'pswp--dragging');}});_listen('pointerUp',removeDraggingClass);if(!onInit){updateZoomable();}},handleMouseWheel:function(e){if(_currZoomLevel<=self.currItem.fitRatio){if(_options.modal){if(!_options.closeOnScroll||_numAnimations||_isDragging){e.preventDefault();}else if(_transformKey&&Math.abs(e.deltaY)>2){_closedByScroll=true;self.close();}}
return true;}
e.stopPropagation();_wheelDelta.x=0;if('deltaX'in e){if(e.deltaMode===1){_wheelDelta.x=e.deltaX*18;_wheelDelta.y=e.deltaY*18;}else{_wheelDelta.x=e.deltaX;_wheelDelta.y=e.deltaY;}}else if('wheelDelta'in e){if(e.wheelDeltaX){_wheelDelta.x=-0.16*e.wheelDeltaX;}
if(e.wheelDeltaY){_wheelDelta.y=-0.16*e.wheelDeltaY;}else{_wheelDelta.y=-0.16*e.wheelDelta;}}else if('detail'in e){_wheelDelta.y=e.detail;}else{return;}
_calculatePanBounds(_currZoomLevel,true);var newPanX=_panOffset.x-_wheelDelta.x,newPanY=_panOffset.y-_wheelDelta.y;if(_options.modal||(newPanX<=_currPanBounds.min.x&&newPanX>=_currPanBounds.max.x&&newPanY<=_currPanBounds.min.y&&newPanY>=_currPanBounds.max.y)){e.preventDefault();}
self.panTo(newPanX,newPanY);},toggleDesktopZoom:function(centerPoint){centerPoint=centerPoint||{x:_viewportSize.x/2+_offset.x,y:_viewportSize.y/2+_offset.y};var doubleTapZoomLevel=_options.getDoubleTapZoom(true,self.currItem);var zoomOut=_currZoomLevel===doubleTapZoomLevel;self.mouseZoomedIn=!zoomOut;self.zoomTo(zoomOut?self.currItem.initialZoomLevel:doubleTapZoomLevel,centerPoint,333);framework[(!zoomOut?'add':'remove')+'Class'](template,'pswp--zoomed-in');}}});var _historyDefaultOptions={history:true,galleryUID:1};var _historyUpdateTimeout,_hashChangeTimeout,_hashAnimCheckTimeout,_hashChangedByScript,_hashChangedByHistory,_hashReseted,_initialHash,_historyChanged,_closedFromURL,_urlChangedOnce,_windowLoc,_supportsPushState,_getHash=function(){return _windowLoc.hash.substring(1);},_cleanHistoryTimeouts=function(){if(_historyUpdateTimeout){clearTimeout(_historyUpdateTimeout);}
if(_hashAnimCheckTimeout){clearTimeout(_hashAnimCheckTimeout);}},_parseItemIndexFromURL=function(){var hash=_getHash(),params={};if(hash.length<5){return params;}
var i,vars=hash.split('&');for(i=0;i<vars.length;i++){if(!vars[i]){continue;}
var pair=vars[i].split('=');if(pair.length<2){continue;}
params[pair[0]]=pair[1];}
if(_options.galleryPIDs){var searchfor=params.pid;params.pid=0;for(i=0;i<_items.length;i++){if(_items[i].pid===searchfor){params.pid=i;break;}}}else{params.pid=parseInt(params.pid,10)-1;}
if(params.pid<0){params.pid=0;}
return params;},_updateHash=function(){if(_hashAnimCheckTimeout){clearTimeout(_hashAnimCheckTimeout);}
if(_numAnimations||_isDragging){_hashAnimCheckTimeout=setTimeout(_updateHash,500);return;}
if(_hashChangedByScript){clearTimeout(_hashChangeTimeout);}else{_hashChangedByScript=true;}
var pid=(_currentItemIndex+1);var item=_getItemAt(_currentItemIndex);if(item.hasOwnProperty('pid')){pid=item.pid;}
var newHash=_initialHash+'&'+'gid='+_options.galleryUID+'&'+'pid='+pid;if(!_historyChanged){if(_windowLoc.hash.indexOf(newHash)===-1){_urlChangedOnce=true;}}
var newURL=_windowLoc.href.split('#')[0]+'#'+newHash;if(_supportsPushState){if('#'+newHash!==window.location.hash){history[_historyChanged?'replaceState':'pushState']('',document.title,newURL);}}else{if(_historyChanged){_windowLoc.replace(newURL);}else{_windowLoc.hash=newHash;}}
_historyChanged=true;_hashChangeTimeout=setTimeout(function(){_hashChangedByScript=false;},60);};_registerModule('History',{publicMethods:{initHistory:function(){framework.extend(_options,_historyDefaultOptions,true);if(!_options.history){return;}
_windowLoc=window.location;_urlChangedOnce=false;_closedFromURL=false;_historyChanged=false;_initialHash=_getHash();_supportsPushState=('pushState'in history);if(_initialHash.indexOf('gid=')>-1){_initialHash=_initialHash.split('&gid=')[0];_initialHash=_initialHash.split('?gid=')[0];}
_listen('afterChange',self.updateURL);_listen('unbindEvents',function(){framework.unbind(window,'hashchange',self.onHashChange);});var returnToOriginal=function(){_hashReseted=true;if(!_closedFromURL){if(_urlChangedOnce){history.back();}else{if(_initialHash){_windowLoc.hash=_initialHash;}else{if(_supportsPushState){history.pushState('',document.title,_windowLoc.pathname+_windowLoc.search);}else{_windowLoc.hash='';}}}}
_cleanHistoryTimeouts();};_listen('unbindEvents',function(){if(_closedByScroll){returnToOriginal();}});_listen('destroy',function(){if(!_hashReseted){returnToOriginal();}});_listen('firstUpdate',function(){_currentItemIndex=_parseItemIndexFromURL().pid;});var index=_initialHash.indexOf('pid=');if(index>-1){_initialHash=_initialHash.substring(0,index);if(_initialHash.slice(-1)==='&'){_initialHash=_initialHash.slice(0,-1);}}
setTimeout(function(){if(_isOpen){framework.bind(window,'hashchange',self.onHashChange);}},40);},onHashChange:function(){if(_getHash()===_initialHash){_closedFromURL=true;self.close();return;}
if(!_hashChangedByScript){_hashChangedByHistory=true;self.goTo(_parseItemIndexFromURL().pid);_hashChangedByHistory=false;}},updateURL:function(){_cleanHistoryTimeouts();if(_hashChangedByHistory){return;}
if(!_historyChanged){_updateHash();}else{_historyUpdateTimeout=setTimeout(_updateHash,800);}}}});framework.extend(self,publicMethods);};return PhotoSwipe;});
/*! PhotoSwipe Default UI - 4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
(function(root,factory){if(typeof define==='function'&&define.amd){define(factory);}else if(typeof exports==='object'){module.exports=factory();}else{root.PhotoSwipeUI_Default=factory();}})(this,function(){'use strict';var PhotoSwipeUI_Default=function(pswp,framework){var ui=this;var _overlayUIUpdated=false,_controlsVisible=true,_fullscrenAPI,_controls,_captionContainer,_fakeCaptionContainer,_indexIndicator,_shareButton,_shareModal,_shareModalHidden=true,_initalCloseOnScrollValue,_isIdle,_listen,_loadingIndicator,_loadingIndicatorHidden,_loadingIndicatorTimeout,_galleryHasOneSlide,_options,_defaultUIOptions={barsSize:{top:44,bottom:'auto'},closeElClasses:['item','caption','zoom-wrap','ui','top-bar'],timeToIdle:4000,timeToIdleOutside:1000,loadingIndicatorDelay:1000,addCaptionHTMLFn:function(item,captionEl){if(!item.title){captionEl.children[0].innerHTML='';return false;}
captionEl.children[0].innerHTML=item.title;return true;},closeEl:true,captionEl:true,fullscreenEl:true,zoomEl:true,shareEl:true,counterEl:true,arrowEl:true,preloaderEl:true,tapToClose:false,tapToToggleControls:true,clickToCloseNonZoomable:true,shareButtons:[{id:'facebook',label:'Share on Facebook',url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},{id:'twitter',label:'Tweet',url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},{id:'pinterest',label:'Pin it',url:'http://www.pinterest.com/pin/create/button/'+'?url={{url}}&media={{image_url}}&description={{text}}'},{id:'download',label:'Download image',url:'{{raw_image_url}}',download:true}],getImageURLForShare:function(){return pswp.currItem.src||'';},getPageURLForShare:function(){return window.location.href;},getTextForShare:function(){return pswp.currItem.title||'';},indexIndicatorSep:' / ',fitControlsWidth:1200},_blockControlsTap,_blockControlsTapTimeout;var _onControlsTap=function(e){if(_blockControlsTap){return true;}
e=e||window.event;if(_options.timeToIdle&&_options.mouseUsed&&!_isIdle){_onIdleMouseMove();}
var target=e.target||e.srcElement,uiElement,clickedClass=target.getAttribute('class')||'',found;for(var i=0;i<_uiElements.length;i++){uiElement=_uiElements[i];if(uiElement.onTap&&clickedClass.indexOf('pswp__'+uiElement.name)>-1){uiElement.onTap();found=true;}}
if(found){if(e.stopPropagation){e.stopPropagation();}
_blockControlsTap=true;var tapDelay=framework.features.isOldAndroid?600:30;_blockControlsTapTimeout=setTimeout(function(){_blockControlsTap=false;},tapDelay);}},_fitControlsInViewport=function(){return!pswp.likelyTouchDevice||_options.mouseUsed||screen.width>_options.fitControlsWidth;},_togglePswpClass=function(el,cName,add){framework[(add?'add':'remove')+'Class'](el,'pswp__'+cName);},_countNumItems=function(){var hasOneSlide=(_options.getNumItemsFn()===1);if(hasOneSlide!==_galleryHasOneSlide){_togglePswpClass(_controls,'ui--one-slide',hasOneSlide);_galleryHasOneSlide=hasOneSlide;}},_toggleShareModalClass=function(){_togglePswpClass(_shareModal,'share-modal--hidden',_shareModalHidden);},_toggleShareModal=function(){_shareModalHidden=!_shareModalHidden;if(!_shareModalHidden){_toggleShareModalClass();setTimeout(function(){if(!_shareModalHidden){framework.addClass(_shareModal,'pswp__share-modal--fade-in');}},30);}else{framework.removeClass(_shareModal,'pswp__share-modal--fade-in');setTimeout(function(){if(_shareModalHidden){_toggleShareModalClass();}},300);}
if(!_shareModalHidden){_updateShareURLs();}
return false;},_openWindowPopup=function(e){e=e||window.event;var target=e.target||e.srcElement;pswp.shout('shareLinkClick',e,target);if(!target.href){return false;}
if(target.hasAttribute('download')){return true;}
window.open(target.href,'pswp_share','scrollbars=yes,resizable=yes,toolbar=no,'+'location=yes,width=550,height=420,top=100,left='+
(window.screen?Math.round(screen.width/2-275):100));if(!_shareModalHidden){_toggleShareModal();}
return false;},_updateShareURLs=function(){var shareButtonOut='',shareButtonData,shareURL,image_url,page_url,share_text;for(var i=0;i<_options.shareButtons.length;i++){shareButtonData=_options.shareButtons[i];image_url=_options.getImageURLForShare(shareButtonData);page_url=_options.getPageURLForShare(shareButtonData);share_text=_options.getTextForShare(shareButtonData);shareURL=shareButtonData.url.replace('{{url}}',encodeURIComponent(page_url)).replace('{{image_url}}',encodeURIComponent(image_url)).replace('{{raw_image_url}}',image_url).replace('{{text}}',encodeURIComponent(share_text));shareButtonOut+='<a href="'+shareURL+'" target="_blank" '+'class="pswp__share--'+shareButtonData.id+'"'+
(shareButtonData.download?'download':'')+'>'+
shareButtonData.label+'</a>';if(_options.parseShareButtonOut){shareButtonOut=_options.parseShareButtonOut(shareButtonData,shareButtonOut);}}
_shareModal.children[0].innerHTML=shareButtonOut;_shareModal.children[0].onclick=_openWindowPopup;},_hasCloseClass=function(target){for(var i=0;i<_options.closeElClasses.length;i++){if(framework.hasClass(target,'pswp__'+_options.closeElClasses[i])){return true;}}},_idleInterval,_idleTimer,_idleIncrement=0,_onIdleMouseMove=function(){clearTimeout(_idleTimer);_idleIncrement=0;if(_isIdle){ui.setIdle(false);}},_onMouseLeaveWindow=function(e){e=e?e:window.event;var from=e.relatedTarget||e.toElement;if(!from||from.nodeName==='HTML'){clearTimeout(_idleTimer);_idleTimer=setTimeout(function(){ui.setIdle(true);},_options.timeToIdleOutside);}},_setupFullscreenAPI=function(){if(_options.fullscreenEl&&!framework.features.isOldAndroid){if(!_fullscrenAPI){_fullscrenAPI=ui.getFullscreenAPI();}
if(_fullscrenAPI){framework.bind(document,_fullscrenAPI.eventK,ui.updateFullscreen);ui.updateFullscreen();framework.addClass(pswp.template,'pswp--supports-fs');}else{framework.removeClass(pswp.template,'pswp--supports-fs');}}},_setupLoadingIndicator=function(){if(_options.preloaderEl){_toggleLoadingIndicator(true);_listen('beforeChange',function(){clearTimeout(_loadingIndicatorTimeout);_loadingIndicatorTimeout=setTimeout(function(){if(pswp.currItem&&pswp.currItem.loading){if(!pswp.allowProgressiveImg()||(pswp.currItem.img&&!pswp.currItem.img.naturalWidth)){_toggleLoadingIndicator(false);}}else{_toggleLoadingIndicator(true);}},_options.loadingIndicatorDelay);});_listen('imageLoadComplete',function(index,item){if(pswp.currItem===item){_toggleLoadingIndicator(true);}});}},_toggleLoadingIndicator=function(hide){if(_loadingIndicatorHidden!==hide){_togglePswpClass(_loadingIndicator,'preloader--active',!hide);_loadingIndicatorHidden=hide;}},_applyNavBarGaps=function(item){var gap=item.vGap;if(_fitControlsInViewport()){var bars=_options.barsSize;if(_options.captionEl&&bars.bottom==='auto'){if(!_fakeCaptionContainer){_fakeCaptionContainer=framework.createEl('pswp__caption pswp__caption--fake');_fakeCaptionContainer.appendChild(framework.createEl('pswp__caption__center'));_controls.insertBefore(_fakeCaptionContainer,_captionContainer);framework.addClass(_controls,'pswp__ui--fit');}
if(_options.addCaptionHTMLFn(item,_fakeCaptionContainer,true)){var captionSize=_fakeCaptionContainer.clientHeight;gap.bottom=parseInt(captionSize,10)||44;}else{gap.bottom=bars.top;}}else{gap.bottom=bars.bottom==='auto'?0:bars.bottom;}
gap.top=bars.top;}else{gap.top=gap.bottom=0;}},_setupIdle=function(){if(_options.timeToIdle){_listen('mouseUsed',function(){framework.bind(document,'mousemove',_onIdleMouseMove);framework.bind(document,'mouseout',_onMouseLeaveWindow);_idleInterval=setInterval(function(){_idleIncrement++;if(_idleIncrement===2){ui.setIdle(true);}},_options.timeToIdle/2);});}},_setupHidingControlsDuringGestures=function(){_listen('onVerticalDrag',function(now){if(_controlsVisible&&now<0.95){ui.hideControls();}else if(!_controlsVisible&&now>=0.95){ui.showControls();}});var pinchControlsHidden;_listen('onPinchClose',function(now){if(_controlsVisible&&now<0.9){ui.hideControls();pinchControlsHidden=true;}else if(pinchControlsHidden&&!_controlsVisible&&now>0.9){ui.showControls();}});_listen('zoomGestureEnded',function(){pinchControlsHidden=false;if(pinchControlsHidden&&!_controlsVisible){ui.showControls();}});};var _uiElements=[{name:'caption',option:'captionEl',onInit:function(el){_captionContainer=el;}},{name:'share-modal',option:'shareEl',onInit:function(el){_shareModal=el;},onTap:function(){_toggleShareModal();}},{name:'button--share',option:'shareEl',onInit:function(el){_shareButton=el;},onTap:function(){_toggleShareModal();}},{name:'button--zoom',option:'zoomEl',onTap:pswp.toggleDesktopZoom},{name:'counter',option:'counterEl',onInit:function(el){_indexIndicator=el;}},{name:'button--close',option:'closeEl',onTap:pswp.close},{name:'button--arrow--left',option:'arrowEl',onTap:pswp.prev},{name:'button--arrow--right',option:'arrowEl',onTap:pswp.next},{name:'button--fs',option:'fullscreenEl',onTap:function(){if(_fullscrenAPI.isFullscreen()){_fullscrenAPI.exit();}else{_fullscrenAPI.enter();}}},{name:'preloader',option:'preloaderEl',onInit:function(el){_loadingIndicator=el;}}];var _setupUIElements=function(){var item,classAttr,uiElement;var loopThroughChildElements=function(sChildren){if(!sChildren){return;}
var l=sChildren.length;for(var i=0;i<l;i++){item=sChildren[i];classAttr=item.className;for(var a=0;a<_uiElements.length;a++){uiElement=_uiElements[a];if(classAttr.indexOf('pswp__'+uiElement.name)>-1){if(_options[uiElement.option]){framework.removeClass(item,'pswp__element--disabled');if(uiElement.onInit){uiElement.onInit(item);}}else{framework.addClass(item,'pswp__element--disabled');}}}}};loopThroughChildElements(_controls.children);var topBar=framework.getChildByClass(_controls,'pswp__top-bar');if(topBar){loopThroughChildElements(topBar.children);}};ui.init=function(){framework.extend(pswp.options,_defaultUIOptions,true);_options=pswp.options;_controls=framework.getChildByClass(pswp.scrollWrap,'pswp__ui');_listen=pswp.listen;_setupHidingControlsDuringGestures();_listen('beforeChange',ui.update);_listen('doubleTap',function(point){var initialZoomLevel=pswp.currItem.initialZoomLevel;if(pswp.getZoomLevel()!==initialZoomLevel){pswp.zoomTo(initialZoomLevel,point,333);}else{pswp.zoomTo(_options.getDoubleTapZoom(false,pswp.currItem),point,333);}});_listen('preventDragEvent',function(e,isDown,preventObj){var t=e.target||e.srcElement;if(t&&t.getAttribute('class')&&e.type.indexOf('mouse')>-1&&(t.getAttribute('class').indexOf('__caption')>0||(/(SMALL|STRONG|EM)/i).test(t.tagName))){preventObj.prevent=false;}});_listen('bindEvents',function(){framework.bind(_controls,'pswpTap click',_onControlsTap);framework.bind(pswp.scrollWrap,'pswpTap',ui.onGlobalTap);if(!pswp.likelyTouchDevice){framework.bind(pswp.scrollWrap,'mouseover',ui.onMouseOver);}});_listen('unbindEvents',function(){if(!_shareModalHidden){_toggleShareModal();}
if(_idleInterval){clearInterval(_idleInterval);}
framework.unbind(document,'mouseout',_onMouseLeaveWindow);framework.unbind(document,'mousemove',_onIdleMouseMove);framework.unbind(_controls,'pswpTap click',_onControlsTap);framework.unbind(pswp.scrollWrap,'pswpTap',ui.onGlobalTap);framework.unbind(pswp.scrollWrap,'mouseover',ui.onMouseOver);if(_fullscrenAPI){framework.unbind(document,_fullscrenAPI.eventK,ui.updateFullscreen);if(_fullscrenAPI.isFullscreen()){_options.hideAnimationDuration=0;_fullscrenAPI.exit();}
_fullscrenAPI=null;}});_listen('destroy',function(){if(_options.captionEl){if(_fakeCaptionContainer){_controls.removeChild(_fakeCaptionContainer);}
framework.removeClass(_captionContainer,'pswp__caption--empty');}
if(_shareModal){_shareModal.children[0].onclick=null;}
framework.removeClass(_controls,'pswp__ui--over-close');framework.addClass(_controls,'pswp__ui--hidden');ui.setIdle(false);});if(!_options.showAnimationDuration){framework.removeClass(_controls,'pswp__ui--hidden');}
_listen('initialZoomIn',function(){if(_options.showAnimationDuration){framework.removeClass(_controls,'pswp__ui--hidden');}});_listen('initialZoomOut',function(){framework.addClass(_controls,'pswp__ui--hidden');});_listen('parseVerticalMargin',_applyNavBarGaps);_setupUIElements();if(_options.shareEl&&_shareButton&&_shareModal){_shareModalHidden=true;}
_countNumItems();_setupIdle();_setupFullscreenAPI();_setupLoadingIndicator();};ui.setIdle=function(isIdle){_isIdle=isIdle;_togglePswpClass(_controls,'ui--idle',isIdle);};ui.update=function(){if(_controlsVisible&&pswp.currItem){ui.updateIndexIndicator();if(_options.captionEl){_options.addCaptionHTMLFn(pswp.currItem,_captionContainer);_togglePswpClass(_captionContainer,'caption--empty',!pswp.currItem.title);}
_overlayUIUpdated=true;}else{_overlayUIUpdated=false;}
if(!_shareModalHidden){_toggleShareModal();}
_countNumItems();};ui.updateFullscreen=function(e){if(e){setTimeout(function(){pswp.setScrollOffset(0,framework.getScrollY());},50);}
framework[(_fullscrenAPI.isFullscreen()?'add':'remove')+'Class'](pswp.template,'pswp--fs');};ui.updateIndexIndicator=function(){if(_options.counterEl){_indexIndicator.innerHTML=(pswp.getCurrentIndex()+1)+
_options.indexIndicatorSep+
_options.getNumItemsFn();}};ui.onGlobalTap=function(e){e=e||window.event;var target=e.target||e.srcElement;if(_blockControlsTap){return;}
if(e.detail&&e.detail.pointerType==='mouse'){if(_hasCloseClass(target)){pswp.close();return;}
if(framework.hasClass(target,'pswp__img')){if(pswp.getZoomLevel()===1&&pswp.getZoomLevel()<=pswp.currItem.fitRatio){if(_options.clickToCloseNonZoomable){pswp.close();}}else{pswp.toggleDesktopZoom(e.detail.releasePoint);}}}else{if(_options.tapToToggleControls){if(_controlsVisible){ui.hideControls();}else{ui.showControls();}}
if(_options.tapToClose&&(framework.hasClass(target,'pswp__img')||_hasCloseClass(target))){pswp.close();return;}}};ui.onMouseOver=function(e){e=e||window.event;var target=e.target||e.srcElement;_togglePswpClass(_controls,'ui--over-close',_hasCloseClass(target));};ui.hideControls=function(){framework.addClass(_controls,'pswp__ui--hidden');_controlsVisible=false;};ui.showControls=function(){_controlsVisible=true;if(!_overlayUIUpdated){ui.update();}
framework.removeClass(_controls,'pswp__ui--hidden');};ui.supportsFullscreen=function(){var d=document;return!!(d.exitFullscreen||d.mozCancelFullScreen||d.webkitExitFullscreen||d.msExitFullscreen);};ui.getFullscreenAPI=function(){var dE=document.documentElement,api,tF='fullscreenchange';if(dE.requestFullscreen){api={enterK:'requestFullscreen',exitK:'exitFullscreen',elementK:'fullscreenElement',eventK:tF};}else if(dE.mozRequestFullScreen){api={enterK:'mozRequestFullScreen',exitK:'mozCancelFullScreen',elementK:'mozFullScreenElement',eventK:'moz'+tF};}else if(dE.webkitRequestFullscreen){api={enterK:'webkitRequestFullscreen',exitK:'webkitExitFullscreen',elementK:'webkitFullscreenElement',eventK:'webkit'+tF};}else if(dE.msRequestFullscreen){api={enterK:'msRequestFullscreen',exitK:'msExitFullscreen',elementK:'msFullscreenElement',eventK:'MSFullscreenChange'};}
if(api){api.enter=function(){_initalCloseOnScrollValue=_options.closeOnScroll;_options.closeOnScroll=false;if(this.enterK==='webkitRequestFullscreen'){pswp.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);}else{return pswp.template[this.enterK]();}};api.exit=function(){_options.closeOnScroll=_initalCloseOnScrollValue;return document[this.exitK]();};api.isFullscreen=function(){return document[this.elementK];};}
return api;};};return PhotoSwipeUI_Default;});
/*!
 * Isotope PACKAGED v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('jquery-bridget/jquery-bridget',['jquery'],function(jQuery){return factory(window,jQuery);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('jquery'));}else{window.jQueryBridget=factory(window,window.jQuery);}}(window,function factory(window,jQuery){'use strict';var arraySlice=Array.prototype.slice;var console=window.console;var logError=typeof console=='undefined'?function(){}:function(message){console.error(message);};function jQueryBridget(namespace,PluginClass,$){$=$||jQuery||window.jQuery;if(!$){return;}
if(!PluginClass.prototype.option){PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts)){return;}
this.options=$.extend(true,this.options,opts);};}
$.fn[namespace]=function(arg0){if(typeof arg0=='string'){var args=arraySlice.call(arguments,1);return methodCall(this,arg0,args);}
plainCall(this,arg0);return this;};function methodCall($elems,methodName,args){var returnValue;var pluginMethodStr='$().'+namespace+'("'+methodName+'")';$elems.each(function(i,elem){var instance=$.data(elem,namespace);if(!instance){logError(namespace+' not initialized. Cannot call methods, i.e. '+
pluginMethodStr);return;}
var method=instance[methodName];if(!method||methodName.charAt(0)=='_'){logError(pluginMethodStr+' is not a valid method');return;}
var value=method.apply(instance,args);returnValue=returnValue===undefined?value:returnValue;});return returnValue!==undefined?returnValue:$elems;}
function plainCall($elems,options){$elems.each(function(i,elem){var instance=$.data(elem,namespace);if(instance){instance.option(options);instance._init();}else{instance=new PluginClass(elem,options);$.data(elem,namespace,instance);}});}
updateJQuery($);}
function updateJQuery($){if(!$||($&&$.bridget)){return;}
$.bridget=jQueryBridget;}
updateJQuery(jQuery||window.jQuery);return jQueryBridget;}));(function(global,factory){if(typeof define=='function'&&define.amd){define('ev-emitter/ev-emitter',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{global.EvEmitter=factory();}}(typeof window!='undefined'?window:this,function(){function EvEmitter(){}
var proto=EvEmitter.prototype;proto.on=function(eventName,listener){if(!eventName||!listener){return;}
var events=this._events=this._events||{};var listeners=events[eventName]=events[eventName]||[];if(listeners.indexOf(listener)==-1){listeners.push(listener);}
return this;};proto.once=function(eventName,listener){if(!eventName||!listener){return;}
this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};var onceListeners=onceEvents[eventName]=onceEvents[eventName]||{};onceListeners[listener]=true;return this;};proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
var index=listeners.indexOf(listener);if(index!=-1){listeners.splice(index,1);}
return this;};proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
listeners=listeners.slice(0);args=args||[];var onceListeners=this._onceEvents&&this._onceEvents[eventName];for(var i=0;i<listeners.length;i++){var listener=listeners[i]
var isOnce=onceListeners&&onceListeners[listener];if(isOnce){this.off(eventName,listener);delete onceListeners[listener];}
listener.apply(this,args);}
return this;};proto.allOff=function(){delete this._events;delete this._onceEvents;};return EvEmitter;}));
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('get-size/get-size',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.getSize=factory();}})(window,function factory(){'use strict';function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf('%')==-1&&!isNaN(num);return isValid&&num;}
function noop(){}
var logError=typeof console=='undefined'?noop:function(message){console.error(message);};var measurements=['paddingLeft','paddingRight','paddingTop','paddingBottom','marginLeft','marginRight','marginTop','marginBottom','borderLeftWidth','borderRightWidth','borderTopWidth','borderBottomWidth'];var measurementsLength=measurements.length;function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];size[measurement]=0;}
return size;}
function getStyle(elem){var style=getComputedStyle(elem);if(!style){logError('Style returned '+style+'. Are you running this code in a hidden iframe on Firefox? '+'See https://bit.ly/getsizebug1');}
return style;}
var isSetup=false;var isBoxSizeOuter;function setup(){if(isSetup){return;}
isSetup=true;var div=document.createElement('div');div.style.width='200px';div.style.padding='1px 2px 3px 4px';div.style.borderStyle='solid';div.style.borderWidth='1px 2px 3px 4px';div.style.boxSizing='border-box';var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=Math.round(getStyleSize(style.width))==200;getSize.isBoxSizeOuter=isBoxSizeOuter;body.removeChild(div);}
function getSize(elem){setup();if(typeof elem=='string'){elem=document.querySelector(elem);}
if(!elem||typeof elem!='object'||!elem.nodeType){return;}
var style=getStyle(elem);if(style.display=='none'){return getZeroSize();}
var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=style.boxSizing=='border-box';for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];var value=style[measurement];var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0;}
var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==false){size.width=styleWidth+
(isBorderBoxSizeOuter?0:paddingWidth+borderWidth);}
var styleHeight=getStyleSize(style.height);if(styleHeight!==false){size.height=styleHeight+
(isBorderBoxSizeOuter?0:paddingHeight+borderHeight);}
size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size;}
return getSize;});(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('desandro-matches-selector/matches-selector',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{window.matchesSelector=factory();}}(window,function factory(){'use strict';var matchesMethod=(function(){var ElemProto=window.Element.prototype;if(ElemProto.matches){return'matches';}
if(ElemProto.matchesSelector){return'matchesSelector';}
var prefixes=['webkit','moz','ms','o'];for(var i=0;i<prefixes.length;i++){var prefix=prefixes[i];var method=prefix+'MatchesSelector';if(ElemProto[method]){return method;}}})();return function matchesSelector(elem,selector){return elem[matchesMethod](selector);};}));(function(window,factory){if(typeof define=='function'&&define.amd){define('fizzy-ui-utils/utils',['desandro-matches-selector/matches-selector'],function(matchesSelector){return factory(window,matchesSelector);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('desandro-matches-selector'));}else{window.fizzyUIUtils=factory(window,window.matchesSelector);}}(window,function factory(window,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b){a[prop]=b[prop];}
return a;};utils.modulo=function(num,div){return((num%div)+div)%div;};var arraySlice=Array.prototype.slice;utils.makeArray=function(obj){if(Array.isArray(obj)){return obj;}
if(obj===null||obj===undefined){return[];}
var isArrayLike=typeof obj=='object'&&typeof obj.length=='number';if(isArrayLike){return arraySlice.call(obj);}
return[obj];};utils.removeFrom=function(ary,obj){var index=ary.indexOf(obj);if(index!=-1){ary.splice(index,1);}};utils.getParent=function(elem,selector){while(elem.parentNode&&elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector)){return elem;}}};utils.getQueryElement=function(elem){if(typeof elem=='string'){return document.querySelector(elem);}
return elem;};utils.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];elems.forEach(function(elem){if(!(elem instanceof HTMLElement)){return;}
if(!selector){ffElems.push(elem);return;}
if(matchesSelector(elem,selector)){ffElems.push(elem);}
var childElems=elem.querySelectorAll(selector);for(var i=0;i<childElems.length;i++){ffElems.push(childElems[i]);}});return ffElems;};utils.debounceMethod=function(_class,methodName,threshold){threshold=threshold||100;var method=_class.prototype[methodName];var timeoutName=methodName+'Timeout';_class.prototype[methodName]=function(){var timeout=this[timeoutName];clearTimeout(timeout);var args=arguments;var _this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args);delete _this[timeoutName];},threshold);};};utils.docReady=function(callback){var readyState=document.readyState;if(readyState=='complete'||readyState=='interactive'){setTimeout(callback);}else{document.addEventListener('DOMContentLoaded',callback);}};utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+'-'+$2;}).toLowerCase();};var console=window.console;utils.htmlInit=function(WidgetClass,namespace){utils.docReady(function(){var dashedNamespace=utils.toDashed(namespace);var dataAttr='data-'+dashedNamespace;var dataAttrElems=document.querySelectorAll('['+dataAttr+']');var jsDashElems=document.querySelectorAll('.js-'+dashedNamespace);var elems=utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));var dataOptionsAttr=dataAttr+'-options';var jQuery=window.jQuery;elems.forEach(function(elem){var attr=elem.getAttribute(dataAttr)||elem.getAttribute(dataOptionsAttr);var options;try{options=attr&&JSON.parse(attr);}catch(error){if(console){console.error('Error parsing '+dataAttr+' on '+elem.className+': '+error);}
return;}
var instance=new WidgetClass(elem,options);if(jQuery){jQuery.data(elem,namespace,instance);}});});};return utils;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('outlayer/item',['ev-emitter/ev-emitter','get-size/get-size'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('ev-emitter'),require('get-size'));}else{window.Outlayer={};window.Outlayer.Item=factory(window.EvEmitter,window.getSize);}}(window,function factory(EvEmitter,getSize){'use strict';function isEmptyObj(obj){for(var prop in obj){return false;}
prop=null;return true;}
var docElemStyle=document.documentElement.style;var transitionProperty=typeof docElemStyle.transition=='string'?'transition':'WebkitTransition';var transformProperty=typeof docElemStyle.transform=='string'?'transform':'WebkitTransform';var transitionEndEvent={WebkitTransition:'webkitTransitionEnd',transition:'transitionend'}[transitionProperty];var vendorProperties={transform:transformProperty,transition:transitionProperty,transitionDuration:transitionProperty+'Duration',transitionProperty:transitionProperty+'Property',transitionDelay:transitionProperty+'Delay'};function Item(element,layout){if(!element){return;}
this.element=element;this.layout=layout;this.position={x:0,y:0};this._create();}
var proto=Item.prototype=Object.create(EvEmitter.prototype);proto.constructor=Item;proto._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:'absolute'});};proto.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};proto.getSize=function(){this.size=getSize(this.element);};proto.css=function(style){var elemStyle=this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop];}};proto.getPosition=function(){var style=getComputedStyle(this.element);var isOriginLeft=this.layout._getOption('originLeft');var isOriginTop=this.layout._getOption('originTop');var xValue=style[isOriginLeft?'left':'right'];var yValue=style[isOriginTop?'top':'bottom'];var x=parseFloat(xValue);var y=parseFloat(yValue);var layoutSize=this.layout.size;if(xValue.indexOf('%')!=-1){x=(x/100)*layoutSize.width;}
if(yValue.indexOf('%')!=-1){y=(y/100)*layoutSize.height;}
x=isNaN(x)?0:x;y=isNaN(y)?0:y;x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight;y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom;this.position.x=x;this.position.y=y;};proto.layoutPosition=function(){var layoutSize=this.layout.size;var style={};var isOriginLeft=this.layout._getOption('originLeft');var isOriginTop=this.layout._getOption('originTop');var xPadding=isOriginLeft?'paddingLeft':'paddingRight';var xProperty=isOriginLeft?'left':'right';var xResetProperty=isOriginLeft?'right':'left';var x=this.position.x+layoutSize[xPadding];style[xProperty]=this.getXValue(x);style[xResetProperty]='';var yPadding=isOriginTop?'paddingTop':'paddingBottom';var yProperty=isOriginTop?'top':'bottom';var yResetProperty=isOriginTop?'bottom':'top';var y=this.position.y+layoutSize[yPadding];style[yProperty]=this.getYValue(y);style[yResetProperty]='';this.css(style);this.emitEvent('layout',[this]);};proto.getXValue=function(x){var isHorizontal=this.layout._getOption('horizontal');return this.layout.options.percentPosition&&!isHorizontal?((x/this.layout.size.width)*100)+'%':x+'px';};proto.getYValue=function(y){var isHorizontal=this.layout._getOption('horizontal');return this.layout.options.percentPosition&&isHorizontal?((y/this.layout.size.height)*100)+'%':y+'px';};proto._transitionTo=function(x,y){this.getPosition();var curX=this.position.x;var curY=this.position.y;var didNotMove=x==this.position.x&&y==this.position.y;this.setPosition(x,y);if(didNotMove&&!this.isTransitioning){this.layoutPosition();return;}
var transX=x-curX;var transY=y-curY;var transitionStyle={};transitionStyle.transform=this.getTranslate(transX,transY);this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true});};proto.getTranslate=function(x,y){var isOriginLeft=this.layout._getOption('originLeft');var isOriginTop=this.layout._getOption('originTop');x=isOriginLeft?x:-x;y=isOriginTop?y:-y;return'translate3d('+x+'px, '+y+'px, 0)';};proto.goTo=function(x,y){this.setPosition(x,y);this.layoutPosition();};proto.moveTo=proto._transitionTo;proto.setPosition=function(x,y){this.position.x=parseFloat(x);this.position.y=parseFloat(y);};proto._nonTransition=function(args){this.css(args.to);if(args.isCleaning){this._removeStyles(args.to);}
for(var prop in args.onTransitionEnd){args.onTransitionEnd[prop].call(this);}};proto.transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);return;}
var _transition=this._transn;for(var prop in args.onTransitionEnd){_transition.onEnd[prop]=args.onTransitionEnd[prop];}
for(prop in args.to){_transition.ingProperties[prop]=true;if(args.isCleaning){_transition.clean[prop]=true;}}
if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null;}
this.enableTransition(args.to);this.css(args.to);this.isTransitioning=true;};function toDashedAll(str){return str.replace(/([A-Z])/g,function($1){return'-'+$1.toLowerCase();});}
var transitionProps='opacity,'+toDashedAll(transformProperty);proto.enableTransition=function(){if(this.isTransitioning){return;}
var duration=this.layout.options.transitionDuration;duration=typeof duration=='number'?duration+'ms':duration;this.css({transitionProperty:transitionProps,transitionDuration:duration,transitionDelay:this.staggerDelay||0});this.element.addEventListener(transitionEndEvent,this,false);};proto.onwebkitTransitionEnd=function(event){this.ontransitionend(event);};proto.onotransitionend=function(event){this.ontransitionend(event);};var dashedVendorProperties={'-webkit-transform':'transform'};proto.ontransitionend=function(event){if(event.target!==this.element){return;}
var _transition=this._transn;var propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName];if(isEmptyObj(_transition.ingProperties)){this.disableTransition();}
if(propertyName in _transition.clean){this.element.style[event.propertyName]='';delete _transition.clean[propertyName];}
if(propertyName in _transition.onEnd){var onTransitionEnd=_transition.onEnd[propertyName];onTransitionEnd.call(this);delete _transition.onEnd[propertyName];}
this.emitEvent('transitionEnd',[this]);};proto.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(transitionEndEvent,this,false);this.isTransitioning=false;};proto._removeStyles=function(style){var cleanStyle={};for(var prop in style){cleanStyle[prop]='';}
this.css(cleanStyle);};var cleanTransitionStyle={transitionProperty:'',transitionDuration:'',transitionDelay:''};proto.removeTransitionStyles=function(){this.css(cleanTransitionStyle);};proto.stagger=function(delay){delay=isNaN(delay)?0:delay;this.staggerDelay=delay+'ms';};proto.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:''});this.emitEvent('remove',[this]);};proto.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return;}
this.once('transitionEnd',function(){this.removeElem();});this.hide();};proto.reveal=function(){delete this.isHidden;this.css({display:''});var options=this.layout.options;var onTransitionEnd={};var transitionEndProperty=this.getHideRevealTransitionEndProperty('visibleStyle');onTransitionEnd[transitionEndProperty]=this.onRevealTransitionEnd;this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:true,onTransitionEnd:onTransitionEnd});};proto.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent('reveal');}};proto.getHideRevealTransitionEndProperty=function(styleProperty){var optionStyle=this.layout.options[styleProperty];if(optionStyle.opacity){return'opacity';}
for(var prop in optionStyle){return prop;}};proto.hide=function(){this.isHidden=true;this.css({display:''});var options=this.layout.options;var onTransitionEnd={};var transitionEndProperty=this.getHideRevealTransitionEndProperty('hiddenStyle');onTransitionEnd[transitionEndProperty]=this.onHideTransitionEnd;this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:true,onTransitionEnd:onTransitionEnd});};proto.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:'none'});this.emitEvent('hide');}};proto.destroy=function(){this.css({position:'',left:'',right:'',top:'',bottom:'',transition:'',transform:''});};return Item;}));
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */
(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define('outlayer/outlayer',['ev-emitter/ev-emitter','get-size/get-size','fizzy-ui-utils/utils','./item'],function(EvEmitter,getSize,utils,Item){return factory(window,EvEmitter,getSize,utils,Item);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'),require('get-size'),require('fizzy-ui-utils'),require('./item'));}else{window.Outlayer=factory(window,window.EvEmitter,window.getSize,window.fizzyUIUtils,window.Outlayer.Item);}}(window,function factory(window,EvEmitter,getSize,utils,Item){'use strict';var console=window.console;var jQuery=window.jQuery;var noop=function(){};var GUID=0;var instances={};function Outlayer(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){if(console){console.error('Bad element for '+this.constructor.namespace+': '+(queryElement||element));}
return;}
this.element=queryElement;if(jQuery){this.$element=jQuery(this.element);}
this.options=utils.extend({},this.constructor.defaults);this.option(options);var id=++GUID;this.element.outlayerGUID=id;instances[id]=this;this._create();var isInitLayout=this._getOption('initLayout');if(isInitLayout){this.layout();}}
Outlayer.namespace='outlayer';Outlayer.Item=Item;Outlayer.defaults={containerStyle:{position:'relative'},initLayout:true,originLeft:true,originTop:true,resize:true,resizeContainer:true,transitionDuration:'0.4s',hiddenStyle:{opacity:0,transform:'scale(0.001)'},visibleStyle:{opacity:1,transform:'scale(1)'}};var proto=Outlayer.prototype;utils.extend(proto,EvEmitter.prototype);proto.option=function(opts){utils.extend(this.options,opts);};proto._getOption=function(option){var oldOption=this.constructor.compatOptions[option];return oldOption&&this.options[oldOption]!==undefined?this.options[oldOption]:this.options[option];};Outlayer.compatOptions={initLayout:'isInitLayout',horizontal:'isHorizontal',layoutInstant:'isLayoutInstant',originLeft:'isOriginLeft',originTop:'isOriginTop',resize:'isResizeBound',resizeContainer:'isResizingContainer'};proto._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);utils.extend(this.element.style,this.options.containerStyle);var canBindResize=this._getOption('resize');if(canBindResize){this.bindResize();}};proto.reloadItems=function(){this.items=this._itemize(this.element.children);};proto._itemize=function(elems){var itemElems=this._filterFindItemElements(elems);var Item=this.constructor.Item;var items=[];for(var i=0;i<itemElems.length;i++){var elem=itemElems[i];var item=new Item(elem,this);items.push(item);}
return items;};proto._filterFindItemElements=function(elems){return utils.filterFindElements(elems,this.options.itemSelector);};proto.getItemElements=function(){return this.items.map(function(item){return item.element;});};proto.layout=function(){this._resetLayout();this._manageStamps();var layoutInstant=this._getOption('layoutInstant');var isInstant=layoutInstant!==undefined?layoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant);this._isLayoutInited=true;};proto._init=proto.layout;proto._resetLayout=function(){this.getSize();};proto.getSize=function(){this.size=getSize(this.element);};proto._getMeasurement=function(measurement,size){var option=this.options[measurement];var elem;if(!option){this[measurement]=0;}else{if(typeof option=='string'){elem=this.element.querySelector(option);}else if(option instanceof HTMLElement){elem=option;}
this[measurement]=elem?getSize(elem)[size]:option;}};proto.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items);this._layoutItems(items,isInstant);this._postLayout();};proto._getItemsForLayout=function(items){return items.filter(function(item){return!item.isIgnored;});};proto._layoutItems=function(items,isInstant){this._emitCompleteOnItems('layout',items);if(!items||!items.length){return;}
var queue=[];items.forEach(function(item){var position=this._getItemLayoutPosition(item);position.item=item;position.isInstant=isInstant||item.isLayoutInstant;queue.push(position);},this);this._processLayoutQueue(queue);};proto._getItemLayoutPosition=function(){return{x:0,y:0};};proto._processLayoutQueue=function(queue){this.updateStagger();queue.forEach(function(obj,i){this._positionItem(obj.item,obj.x,obj.y,obj.isInstant,i);},this);};proto.updateStagger=function(){var stagger=this.options.stagger;if(stagger===null||stagger===undefined){this.stagger=0;return;}
this.stagger=getMilliseconds(stagger);return this.stagger;};proto._positionItem=function(item,x,y,isInstant,i){if(isInstant){item.goTo(x,y);}else{item.stagger(i*this.stagger);item.moveTo(x,y);}};proto._postLayout=function(){this.resizeContainer();};proto.resizeContainer=function(){var isResizingContainer=this._getOption('resizeContainer');if(!isResizingContainer){return;}
var size=this._getContainerSize();if(size){this._setContainerMeasure(size.width,true);this._setContainerMeasure(size.height,false);}};proto._getContainerSize=noop;proto._setContainerMeasure=function(measure,isWidth){if(measure===undefined){return;}
var elemSize=this.size;if(elemSize.isBorderBox){measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+
elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+
elemSize.borderTopWidth+elemSize.borderBottomWidth;}
measure=Math.max(measure,0);this.element.style[isWidth?'width':'height']=measure+'px';};proto._emitCompleteOnItems=function(eventName,items){var _this=this;function onComplete(){_this.dispatchEvent(eventName+'Complete',null,[items]);}
var count=items.length;if(!items||!count){onComplete();return;}
var doneCount=0;function tick(){doneCount++;if(doneCount==count){onComplete();}}
items.forEach(function(item){item.once(eventName,tick);});};proto.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;this.emitEvent(type,emitArgs);if(jQuery){this.$element=this.$element||jQuery(this.element);if(event){var $event=jQuery.Event(event);$event.type=type;this.$element.trigger($event,args);}else{this.$element.trigger(type,args);}}};proto.ignore=function(elem){var item=this.getItem(elem);if(item){item.isIgnored=true;}};proto.unignore=function(elem){var item=this.getItem(elem);if(item){delete item.isIgnored;}};proto.stamp=function(elems){elems=this._find(elems);if(!elems){return;}
this.stamps=this.stamps.concat(elems);elems.forEach(this.ignore,this);};proto.unstamp=function(elems){elems=this._find(elems);if(!elems){return;}
elems.forEach(function(elem){utils.removeFrom(this.stamps,elem);this.unignore(elem);},this);};proto._find=function(elems){if(!elems){return;}
if(typeof elems=='string'){elems=this.element.querySelectorAll(elems);}
elems=utils.makeArray(elems);return elems;};proto._manageStamps=function(){if(!this.stamps||!this.stamps.length){return;}
this._getBoundingRect();this.stamps.forEach(this._manageStamp,this);};proto._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect();var size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)};};proto._manageStamp=noop;proto._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect();var thisRect=this._boundingRect;var size=getSize(elem);var offset={left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom};return offset;};proto.handleEvent=utils.handleEvent;proto.bindResize=function(){window.addEventListener('resize',this);this.isResizeBound=true;};proto.unbindResize=function(){window.removeEventListener('resize',this);this.isResizeBound=false;};proto.onresize=function(){this.resize();};utils.debounceMethod(Outlayer,'onresize',100);proto.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return;}
this.layout();};proto.needsResizeLayout=function(){var size=getSize(this.element);var hasSizes=this.size&&size;return hasSizes&&size.innerWidth!==this.size.innerWidth;};proto.addItems=function(elems){var items=this._itemize(elems);if(items.length){this.items=this.items.concat(items);}
return items;};proto.appended=function(elems){var items=this.addItems(elems);if(!items.length){return;}
this.layoutItems(items,true);this.reveal(items);};proto.prepended=function(elems){var items=this._itemize(elems);if(!items.length){return;}
var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();this.layoutItems(items,true);this.reveal(items);this.layoutItems(previousItems);};proto.reveal=function(items){this._emitCompleteOnItems('reveal',items);if(!items||!items.length){return;}
var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger);item.reveal();});};proto.hide=function(items){this._emitCompleteOnItems('hide',items);if(!items||!items.length){return;}
var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger);item.hide();});};proto.revealItemElements=function(elems){var items=this.getItems(elems);this.reveal(items);};proto.hideItemElements=function(elems){var items=this.getItems(elems);this.hide(items);};proto.getItem=function(elem){for(var i=0;i<this.items.length;i++){var item=this.items[i];if(item.element==elem){return item;}}};proto.getItems=function(elems){elems=utils.makeArray(elems);var items=[];elems.forEach(function(elem){var item=this.getItem(elem);if(item){items.push(item);}},this);return items;};proto.remove=function(elems){var removeItems=this.getItems(elems);this._emitCompleteOnItems('remove',removeItems);if(!removeItems||!removeItems.length){return;}
removeItems.forEach(function(item){item.remove();utils.removeFrom(this.items,item);},this);};proto.destroy=function(){var style=this.element.style;style.height='';style.position='';style.width='';this.items.forEach(function(item){item.destroy();});this.unbindResize();var id=this.element.outlayerGUID;delete instances[id];delete this.element.outlayerGUID;if(jQuery){jQuery.removeData(this.element,this.constructor.namespace);}};Outlayer.data=function(elem){elem=utils.getQueryElement(elem);var id=elem&&elem.outlayerGUID;return id&&instances[id];};Outlayer.create=function(namespace,options){var Layout=subclass(Outlayer);Layout.defaults=utils.extend({},Outlayer.defaults);utils.extend(Layout.defaults,options);Layout.compatOptions=utils.extend({},Outlayer.compatOptions);Layout.namespace=namespace;Layout.data=Outlayer.data;Layout.Item=subclass(Item);utils.htmlInit(Layout,namespace);if(jQuery&&jQuery.bridget){jQuery.bridget(namespace,Layout);}
return Layout;};function subclass(Parent){function SubClass(){Parent.apply(this,arguments);}
SubClass.prototype=Object.create(Parent.prototype);SubClass.prototype.constructor=SubClass;return SubClass;}
var msUnits={ms:1,s:1000};function getMilliseconds(time){if(typeof time=='number'){return time;}
var matches=time.match(/(^\d*\.?\d*)(\w*)/);var num=matches&&matches[1];var unit=matches&&matches[2];if(!num.length){return 0;}
num=parseFloat(num);var mult=msUnits[unit]||1;return num*mult;}
Outlayer.Item=Item;return Outlayer;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('isotope-layout/js/item',['outlayer/outlayer'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('outlayer'));}else{window.Isotope=window.Isotope||{};window.Isotope.Item=factory(window.Outlayer);}}(window,function factory(Outlayer){'use strict';function Item(){Outlayer.Item.apply(this,arguments);}
var proto=Item.prototype=Object.create(Outlayer.Item.prototype);var _create=proto._create;proto._create=function(){this.id=this.layout.itemGUID++;_create.call(this);this.sortData={};};proto.updateSortData=function(){if(this.isIgnored){return;}
this.sortData.id=this.id;this.sortData['original-order']=this.id;this.sortData.random=Math.random();var getSortData=this.layout.options.getSortData;var sorters=this.layout._sorters;for(var key in getSortData){var sorter=sorters[key];this.sortData[key]=sorter(this.element,this);}};var _destroy=proto.destroy;proto.destroy=function(){_destroy.apply(this,arguments);this.css({display:''});};return Item;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('isotope-layout/js/layout-mode',['get-size/get-size','outlayer/outlayer'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('get-size'),require('outlayer'));}else{window.Isotope=window.Isotope||{};window.Isotope.LayoutMode=factory(window.getSize,window.Outlayer);}}(window,function factory(getSize,Outlayer){'use strict';function LayoutMode(isotope){this.isotope=isotope;if(isotope){this.options=isotope.options[this.namespace];this.element=isotope.element;this.items=isotope.filteredItems;this.size=isotope.size;}}
var proto=LayoutMode.prototype;var facadeMethods=['_resetLayout','_getItemLayoutPosition','_manageStamp','_getContainerSize','_getElementOffset','needsResizeLayout','_getOption'];facadeMethods.forEach(function(methodName){proto[methodName]=function(){return Outlayer.prototype[methodName].apply(this.isotope,arguments);};});proto.needsVerticalResizeLayout=function(){var size=getSize(this.isotope.element);var hasSizes=this.isotope.size&&size;return hasSizes&&size.innerHeight!=this.isotope.size.innerHeight;};proto._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments);};proto.getColumnWidth=function(){this.getSegmentSize('column','Width');};proto.getRowHeight=function(){this.getSegmentSize('row','Height');};proto.getSegmentSize=function(segment,size){var segmentName=segment+size;var outerSize='outer'+size;this._getMeasurement(segmentName,outerSize);if(this[segmentName]){return;}
var firstItemSize=this.getFirstItemSize();this[segmentName]=firstItemSize&&firstItemSize[outerSize]||this.isotope.size['inner'+size];};proto.getFirstItemSize=function(){var firstItem=this.isotope.filteredItems[0];return firstItem&&firstItem.element&&getSize(firstItem.element);};proto.layout=function(){this.isotope.layout.apply(this.isotope,arguments);};proto.getSize=function(){this.isotope.getSize();this.size=this.isotope.size;};LayoutMode.modes={};LayoutMode.create=function(namespace,options){function Mode(){LayoutMode.apply(this,arguments);}
Mode.prototype=Object.create(proto);Mode.prototype.constructor=Mode;if(options){Mode.options=options;}
Mode.prototype.namespace=namespace;LayoutMode.modes[namespace]=Mode;return Mode;};return LayoutMode;}));
/*!
 * Masonry v4.2.1
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('masonry-layout/masonry',['outlayer/outlayer','get-size/get-size'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('outlayer'),require('get-size'));}else{window.Masonry=factory(window.Outlayer,window.getSize);}}(window,function factory(Outlayer,getSize){var Masonry=Outlayer.create('masonry');Masonry.compatOptions.fitWidth='isFitWidth';var proto=Masonry.prototype;proto._resetLayout=function(){this.getSize();this._getMeasurement('columnWidth','outerWidth');this._getMeasurement('gutter','outerWidth');this.measureColumns();this.colYs=[];for(var i=0;i<this.cols;i++){this.colYs.push(0);}
this.maxY=0;this.horizontalColIndex=0;};proto.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var firstItem=this.items[0];var firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth;}
var columnWidth=this.columnWidth+=this.gutter;var containerWidth=this.containerWidth+this.gutter;var cols=containerWidth/columnWidth;var excess=columnWidth-containerWidth%columnWidth;var mathMethod=excess&&excess<1?'round':'floor';cols=Math[mathMethod](cols);this.cols=Math.max(cols,1);};proto.getContainerWidth=function(){var isFitWidth=this._getOption('fitWidth');var container=isFitWidth?this.element.parentNode:this.element;var size=getSize(container);this.containerWidth=size&&size.innerWidth;};proto._getItemLayoutPosition=function(item){item.getSize();var remainder=item.size.outerWidth%this.columnWidth;var mathMethod=remainder&&remainder<1?'round':'ceil';var colSpan=Math[mathMethod](item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);var colPosMethod=this.options.horizontalOrder?'_getHorizontalColPosition':'_getTopColPosition';var colPosition=this[colPosMethod](colSpan,item);var position={x:this.columnWidth*colPosition.col,y:colPosition.y};var setHeight=colPosition.y+item.size.outerHeight;var setMax=colSpan+colPosition.col;for(var i=colPosition.col;i<setMax;i++){this.colYs[i]=setHeight;}
return position;};proto._getTopColPosition=function(colSpan){var colGroup=this._getTopColGroup(colSpan);var minimumY=Math.min.apply(Math,colGroup);return{col:colGroup.indexOf(minimumY),y:minimumY,};};proto._getTopColGroup=function(colSpan){if(colSpan<2){return this.colYs;}
var colGroup=[];var groupCount=this.cols+1-colSpan;for(var i=0;i<groupCount;i++){colGroup[i]=this._getColGroupY(i,colSpan);}
return colGroup;};proto._getColGroupY=function(col,colSpan){if(colSpan<2){return this.colYs[col];}
var groupColYs=this.colYs.slice(col,col+colSpan);return Math.max.apply(Math,groupColYs);};proto._getHorizontalColPosition=function(colSpan,item){var col=this.horizontalColIndex%this.cols;var isOver=colSpan>1&&col+colSpan>this.cols;col=isOver?0:col;var hasSize=item.size.outerWidth&&item.size.outerHeight;this.horizontalColIndex=hasSize?col+colSpan:this.horizontalColIndex;return{col:col,y:this._getColGroupY(col,colSpan),};};proto._manageStamp=function(stamp){var stampSize=getSize(stamp);var offset=this._getElementOffset(stamp);var isOriginLeft=this._getOption('originLeft');var firstX=isOriginLeft?offset.left:offset.right;var lastX=firstX+stampSize.outerWidth;var firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol-=lastX%this.columnWidth?0:1;lastCol=Math.min(this.cols-1,lastCol);var isOriginTop=this._getOption('originTop');var stampMaxY=(isOriginTop?offset.top:offset.bottom)+
stampSize.outerHeight;for(var i=firstCol;i<=lastCol;i++){this.colYs[i]=Math.max(stampMaxY,this.colYs[i]);}};proto._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};if(this._getOption('fitWidth')){size.width=this._getContainerFitWidth();}
return size;};proto._getContainerFitWidth=function(){var unusedCols=0;var i=this.cols;while(--i){if(this.colYs[i]!==0){break;}
unusedCols++;}
return(this.cols-unusedCols)*this.columnWidth-this.gutter;};proto.needsResizeLayout=function(){var previousWidth=this.containerWidth;this.getContainerWidth();return previousWidth!=this.containerWidth;};return Masonry;}));
/*!
 * Masonry layout mode
 * sub-classes Masonry
 * https://masonry.desandro.com
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define('isotope-layout/js/layout-modes/masonry',['../layout-mode','masonry-layout/masonry'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('../layout-mode'),require('masonry-layout'));}else{factory(window.Isotope.LayoutMode,window.Masonry);}}(window,function factory(LayoutMode,Masonry){'use strict';var MasonryMode=LayoutMode.create('masonry');var proto=MasonryMode.prototype;var keepModeMethods={_getElementOffset:true,layout:true,_getMeasurement:true};for(var method in Masonry.prototype){if(!keepModeMethods[method]){proto[method]=Masonry.prototype[method];}}
var measureColumns=proto.measureColumns;proto.measureColumns=function(){this.items=this.isotope.filteredItems;measureColumns.call(this);};var _getOption=proto._getOption;proto._getOption=function(option){if(option=='fitWidth'){return this.options.isFitWidth!==undefined?this.options.isFitWidth:this.options.fitWidth;}
return _getOption.apply(this.isotope,arguments);};return MasonryMode;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('isotope-layout/js/layout-modes/fit-rows',['../layout-mode'],factory);}else if(typeof exports=='object'){module.exports=factory(require('../layout-mode'));}else{factory(window.Isotope.LayoutMode);}}(window,function factory(LayoutMode){'use strict';var FitRows=LayoutMode.create('fitRows');var proto=FitRows.prototype;proto._resetLayout=function(){this.x=0;this.y=0;this.maxY=0;this._getMeasurement('gutter','outerWidth');};proto._getItemLayoutPosition=function(item){item.getSize();var itemWidth=item.size.outerWidth+this.gutter;var containerWidth=this.isotope.size.innerWidth+this.gutter;if(this.x!==0&&itemWidth+this.x>containerWidth){this.x=0;this.y=this.maxY;}
var position={x:this.x,y:this.y};this.maxY=Math.max(this.maxY,this.y+item.size.outerHeight);this.x+=itemWidth;return position;};proto._getContainerSize=function(){return{height:this.maxY};};return FitRows;}));(function(window,factory){if(typeof define=='function'&&define.amd){define('isotope-layout/js/layout-modes/vertical',['../layout-mode'],factory);}else if(typeof module=='object'&&module.exports){module.exports=factory(require('../layout-mode'));}else{factory(window.Isotope.LayoutMode);}}(window,function factory(LayoutMode){'use strict';var Vertical=LayoutMode.create('vertical',{horizontalAlignment:0});var proto=Vertical.prototype;proto._resetLayout=function(){this.y=0;};proto._getItemLayoutPosition=function(item){item.getSize();var x=(this.isotope.size.innerWidth-item.size.outerWidth)*this.options.horizontalAlignment;var y=this.y;this.y+=item.size.outerHeight;return{x:x,y:y};};proto._getContainerSize=function(){return{height:this.y};};return Vertical;}));
/*!
 * Isotope v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */
(function(window,factory){if(typeof define=='function'&&define.amd){define(['outlayer/outlayer','get-size/get-size','desandro-matches-selector/matches-selector','fizzy-ui-utils/utils','isotope-layout/js/item','isotope-layout/js/layout-mode','isotope-layout/js/layout-modes/masonry','isotope-layout/js/layout-modes/fit-rows','isotope-layout/js/layout-modes/vertical'],function(Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){return factory(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('outlayer'),require('get-size'),require('desandro-matches-selector'),require('fizzy-ui-utils'),require('isotope-layout/js/item'),require('isotope-layout/js/layout-mode'),require('isotope-layout/js/layout-modes/masonry'),require('isotope-layout/js/layout-modes/fit-rows'),require('isotope-layout/js/layout-modes/vertical'));}else{window.Isotope=factory(window,window.Outlayer,window.getSize,window.matchesSelector,window.fizzyUIUtils,window.Isotope.Item,window.Isotope.LayoutMode);}}(window,function factory(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){var jQuery=window.jQuery;var trim=String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s+|\s+$/g,'');};var Isotope=Outlayer.create('isotope',{layoutMode:'masonry',isJQueryFiltering:true,sortAscending:true});Isotope.Item=Item;Isotope.LayoutMode=LayoutMode;var proto=Isotope.prototype;proto._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();Outlayer.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=['original-order'];for(var name in LayoutMode.modes){this._initLayoutMode(name);}};proto.reloadItems=function(){this.itemGUID=0;Outlayer.prototype.reloadItems.call(this);};proto._itemize=function(){var items=Outlayer.prototype._itemize.apply(this,arguments);for(var i=0;i<items.length;i++){var item=items[i];item.id=this.itemGUID++;}
this._updateItemsSortData(items);return items;};proto._initLayoutMode=function(name){var Mode=LayoutMode.modes[name];var initialOpts=this.options[name]||{};this.options[name]=Mode.options?utils.extend(Mode.options,initialOpts):initialOpts;this.modes[name]=new Mode(this);};proto.layout=function(){if(!this._isLayoutInited&&this._getOption('initLayout')){this.arrange();return;}
this._layout();};proto._layout=function(){var isInstant=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,isInstant);this._isLayoutInited=true;};proto.arrange=function(opts){this.option(opts);this._getIsInstant();var filtered=this._filter(this.items);this.filteredItems=filtered.matches;this._bindArrangeComplete();if(this._isInstant){this._noTransition(this._hideReveal,[filtered]);}else{this._hideReveal(filtered);}
this._sort();this._layout();};proto._init=proto.arrange;proto._hideReveal=function(filtered){this.reveal(filtered.needReveal);this.hide(filtered.needHide);};proto._getIsInstant=function(){var isLayoutInstant=this._getOption('layoutInstant');var isInstant=isLayoutInstant!==undefined?isLayoutInstant:!this._isLayoutInited;this._isInstant=isInstant;return isInstant;};proto._bindArrangeComplete=function(){var isLayoutComplete,isHideComplete,isRevealComplete;var _this=this;function arrangeParallelCallback(){if(isLayoutComplete&&isHideComplete&&isRevealComplete){_this.dispatchEvent('arrangeComplete',null,[_this.filteredItems]);}}
this.once('layoutComplete',function(){isLayoutComplete=true;arrangeParallelCallback();});this.once('hideComplete',function(){isHideComplete=true;arrangeParallelCallback();});this.once('revealComplete',function(){isRevealComplete=true;arrangeParallelCallback();});};proto._filter=function(items){var filter=this.options.filter;filter=filter||'*';var matches=[];var hiddenMatched=[];var visibleUnmatched=[];var test=this._getFilterTest(filter);for(var i=0;i<items.length;i++){var item=items[i];if(item.isIgnored){continue;}
var isMatched=test(item);if(isMatched){matches.push(item);}
if(isMatched&&item.isHidden){hiddenMatched.push(item);}else if(!isMatched&&!item.isHidden){visibleUnmatched.push(item);}}
return{matches:matches,needReveal:hiddenMatched,needHide:visibleUnmatched};};proto._getFilterTest=function(filter){if(jQuery&&this.options.isJQueryFiltering){return function(item){return jQuery(item.element).is(filter);};}
if(typeof filter=='function'){return function(item){return filter(item.element);};}
return function(item){return matchesSelector(item.element,filter);};};proto.updateSortData=function(elems){var items;if(elems){elems=utils.makeArray(elems);items=this.getItems(elems);}else{items=this.items;}
this._getSorters();this._updateItemsSortData(items);};proto._getSorters=function(){var getSortData=this.options.getSortData;for(var key in getSortData){var sorter=getSortData[key];this._sorters[key]=mungeSorter(sorter);}};proto._updateItemsSortData=function(items){var len=items&&items.length;for(var i=0;len&&i<len;i++){var item=items[i];item.updateSortData();}};var mungeSorter=(function(){function mungeSorter(sorter){if(typeof sorter!='string'){return sorter;}
var args=trim(sorter).split(' ');var query=args[0];var attrMatch=query.match(/^\[(.+)\]$/);var attr=attrMatch&&attrMatch[1];var getValue=getValueGetter(attr,query);var parser=Isotope.sortDataParsers[args[1]];sorter=parser?function(elem){return elem&&parser(getValue(elem));}:function(elem){return elem&&getValue(elem);};return sorter;}
function getValueGetter(attr,query){if(attr){return function getAttribute(elem){return elem.getAttribute(attr);};}
return function getChildText(elem){var child=elem.querySelector(query);return child&&child.textContent;};}
return mungeSorter;})();Isotope.sortDataParsers={'parseInt':function(val){return parseInt(val,10);},'parseFloat':function(val){return parseFloat(val);}};proto._sort=function(){if(!this.options.sortBy){return;}
var sortBys=utils.makeArray(this.options.sortBy);if(!this._getIsSameSortBy(sortBys)){this.sortHistory=sortBys.concat(this.sortHistory);}
var itemSorter=getItemSorter(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(itemSorter);};proto._getIsSameSortBy=function(sortBys){for(var i=0;i<sortBys.length;i++){if(sortBys[i]!=this.sortHistory[i]){return false;}}
return true;};function getItemSorter(sortBys,sortAsc){return function sorter(itemA,itemB){for(var i=0;i<sortBys.length;i++){var sortBy=sortBys[i];var a=itemA.sortData[sortBy];var b=itemB.sortData[sortBy];if(a>b||a<b){var isAscending=sortAsc[sortBy]!==undefined?sortAsc[sortBy]:sortAsc;var direction=isAscending?1:-1;return(a>b?1:-1)*direction;}}
return 0;};}
proto._mode=function(){var layoutMode=this.options.layoutMode;var mode=this.modes[layoutMode];if(!mode){throw new Error('No layout mode: '+layoutMode);}
mode.options=this.options[layoutMode];return mode;};proto._resetLayout=function(){Outlayer.prototype._resetLayout.call(this);this._mode()._resetLayout();};proto._getItemLayoutPosition=function(item){return this._mode()._getItemLayoutPosition(item);};proto._manageStamp=function(stamp){this._mode()._manageStamp(stamp);};proto._getContainerSize=function(){return this._mode()._getContainerSize();};proto.needsResizeLayout=function(){return this._mode().needsResizeLayout();};proto.appended=function(elems){var items=this.addItems(elems);if(!items.length){return;}
var filteredItems=this._filterRevealAdded(items);this.filteredItems=this.filteredItems.concat(filteredItems);};proto.prepended=function(elems){var items=this._itemize(elems);if(!items.length){return;}
this._resetLayout();this._manageStamps();var filteredItems=this._filterRevealAdded(items);this.layoutItems(this.filteredItems);this.filteredItems=filteredItems.concat(this.filteredItems);this.items=items.concat(this.items);};proto._filterRevealAdded=function(items){var filtered=this._filter(items);this.hide(filtered.needHide);this.reveal(filtered.matches);this.layoutItems(filtered.matches,true);return filtered.matches;};proto.insert=function(elems){var items=this.addItems(elems);if(!items.length){return;}
var i,item;var len=items.length;for(i=0;i<len;i++){item=items[i];this.element.appendChild(item.element);}
var filteredInsertItems=this._filter(items).matches;for(i=0;i<len;i++){items[i].isLayoutInstant=true;}
this.arrange();for(i=0;i<len;i++){delete items[i].isLayoutInstant;}
this.reveal(filteredInsertItems);};var _remove=proto.remove;proto.remove=function(elems){elems=utils.makeArray(elems);var removeItems=this.getItems(elems);_remove.call(this,elems);var len=removeItems&&removeItems.length;for(var i=0;len&&i<len;i++){var item=removeItems[i];utils.removeFrom(this.filteredItems,item);}};proto.shuffle=function(){for(var i=0;i<this.items.length;i++){var item=this.items[i];item.sortData.random=Math.random();}
this.options.sortBy='random';this._sort();this._layout();};proto._noTransition=function(fn,args){var transitionDuration=this.options.transitionDuration;this.options.transitionDuration=0;var returnValue=fn.apply(this,args);this.options.transitionDuration=transitionDuration;return returnValue;};proto.getFilteredItemElements=function(){return this.filteredItems.map(function(item){return item.element;});};return Isotope;}));
var CN=CN||{};CN.ImageGallery=function(el){this.elements={base:el,photoswipe:$('.js-photoswipe-container')};this.init();};CN.ImageGallery.prototype.init=function(){var _this=this;_this.elements.base.on('click','.js-gallery-trigger',function(e){e.preventDefault();var _thisEl=$(this),parentEl=_thisEl.parents('.js-thumbnail'),thumbnailsEl=_this.elements.base.find('.js-thumbnail:not(.isotope-hidden)'),index=thumbnailsEl.index(parentEl);var images=thumbnailsEl.get().map(function(item){var itemEl=$(item),dataEl=itemEl.children().first();return{title:dataEl.data('caption'),src:dataEl.attr('href'),w:dataEl.data('width'),h:dataEl.data('height')};});var options={index:index,history:false,showHideOpacity:true,getThumbBoundsFn:function(index){var thumbnailEl=_thisEl.find('img, .c-image')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnailEl.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};}};var photoswipe=new PhotoSwipe(_this.elements.photoswipe[0],PhotoSwipeUI_Default,images,options);photoswipe.init();});};
var CN=CN||{};CN.GridFilter=function(el,customSettings){this.customSettings=customSettings||{};this.elements={base:el,};this.setupOptions();this.grid={};this.init();};CN.GridFilter.prototype.init=function(){var _this=this;_this.grid=_this.elements.container.isotope({itemSelector:_this.customSettings.itemSelector,layoutMode:_this.customSettings.layoutMode,stagger:_this.customSettings.stagger,masonry:{columnWidth:'.grid-sizer'}});var itemHide=Isotope.Item.prototype.hide;var itemReveal=Isotope.Item.prototype.reveal;Isotope.Item.prototype.hide=function(){itemHide.apply(this,arguments);$(this.element).addClass('isotope-hidden');};Isotope.Item.prototype.reveal=function(){itemReveal.apply(this,arguments);$(this.element).removeClass('isotope-hidden');};_this.filter();_this.elements.filterEl.on('change',function(){_this.filter();});(function(grid){return $(window).on('panelsStretchRows',function(){if(grid&&grid.data('isotope')){grid.isotope('layout');}});})(_this.grid);};CN.GridFilter.prototype.filter=function(){var _this=this,filter='';_this.elements.filterSelect.each(function(){var filterType=$(this).data('grid-filter'),filterValue=$(this).val(),filterNode=$(this).prop('nodeName');switch(filterNode){case'SELECT':if(filterValue!=='*'){filter+='[data-filter-'+filterType+'*='+filterValue+']';}
break;case'INPUT':if($(this).prop('checked')){filter+='[data-filter-'+filterType+'*='+filterValue+']';}
break;}
_this.elements.base.find('[data-filter-term]').removeClass('is-active');_this.elements.base.find('[data-filter-term="'+filterValue+'"]').addClass('is-active');});_this.grid.isotope({filter:filter});var noResultsText=_this.elements.base.find('.js-no-results');if(noResultsText){if(_this.grid.data('isotope').filteredItems.length<1){noResultsText.show();}else{noResultsText.hide();}}};CN.GridFilter.prototype.setupOptions=function(){var _this=this;if(typeof _this.customSettings.container==='undefined'){_this.elements.container=_this.elements.base.find('.js-grid-container');}else{_this.elements.container=_this.customSettings.container;}
if(typeof _this.customSettings.item==='undefined'){_this.elements.item=_this.elements.base.find('.js-grid-item');}else{_this.elements.item=_this.customSettings.item;}
if(typeof _this.customSettings.filterEl==='undefined'){_this.elements.filterEl=_this.elements.base.find('.js-filter');}else{_this.elements.filterEl=_this.customSettings.filterEl;}
if(typeof _this.customSettings.filterSelect==='undefined'){_this.elements.filterSelect=_this.elements.base.find('[data-grid-filter]');}else{_this.elements.filterSelect=_this.customSettings.filterSelect;}
if(typeof _this.customSettings.itemSelector==='undefined'){_this.customSettings.itemSelector='.js-grid-item';}
if(typeof _this.customSettings.layoutMode==='undefined'){_this.customSettings.layoutMode='fitRows';}
if(typeof _this.customSettings.stagger==='undefined'){_this.customSettings.stagger=50;}};
(function($){'use strict';$(document).on('cnInitGallery',function(event,data){var element=data&&data.element||document;$(element).find('[data-module="grid-image-filter"]').each(function(){new CN.GridFilter($(this),{'itemSelector':'.js-thumbnail','layoutMode':'masonry'});});$(element).find('[data-module="image-gallery"]').each(function(){new CN.ImageGallery($(this));});});$(document).trigger('cnInitGallery');})(jQuery);
(function($){'use strict';function getParameterByName(name,url){if(!url){url=window.location.href;}
name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g," "));}
$('[data-module="grid-filter"]').each(function(){new CN.GridFilter($(this));});var filterGrid=getParameterByName('filter-grid');if(''!==filterGrid){var foundOption=false;$('[data-module="grid-filter"] .js-filter').each(function(){$.each($(this).children('option'),function(){if(filterGrid===$(this).val()){$(this).attr("selected","selected");foundOption=true;return;}});if(foundOption){$(this).trigger('change');return;}});}})(jQuery);
(function($){'use strict';$(window).on('click',function(event){if(event.target.className!=='c-select-redirect__label'){$('.c-select-redirect').removeClass('is-active');}});})(jQuery);
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function InfoBox(opt_opts){opt_opts=opt_opts||{};google.maps.OverlayView.apply(this,arguments);this.content_=opt_opts.content||"";this.disableAutoPan_=opt_opts.disableAutoPan||false;this.maxWidth_=opt_opts.maxWidth||0;this.pixelOffset_=opt_opts.pixelOffset||new google.maps.Size(0,0);this.position_=opt_opts.position||new google.maps.LatLng(0,0);this.zIndex_=opt_opts.zIndex||null;this.boxClass_=opt_opts.boxClass||"infoBox";this.boxStyle_=opt_opts.boxStyle||{};this.closeBoxMargin_=opt_opts.closeBoxMargin||"2px";this.closeBoxURL_=opt_opts.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";if(opt_opts.closeBoxURL===""){this.closeBoxURL_="";}
this.infoBoxClearance_=opt_opts.infoBoxClearance||new google.maps.Size(1,1);this.isHidden_=opt_opts.isHidden||false;this.alignBottom_=opt_opts.alignBottom||false;this.pane_=opt_opts.pane||"floatPane";this.enableEventPropagation_=opt_opts.enableEventPropagation||false;this.div_=null;this.closeListener_=null;this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null;this.moveListener_=null;this.contextListener_=null;this.fixedWidthSet_=null;}
InfoBox.prototype=new google.maps.OverlayView();InfoBox.prototype.createInfoBoxDiv_=function(){var bw;var me=this;var cancelHandler=function(e){e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}};var ignoreHandler=function(e){e.returnValue=false;if(e.preventDefault){e.preventDefault();}
if(!me.enableEventPropagation_){cancelHandler(e);}};if(!this.div_){this.div_=document.createElement("div");this.setBoxStyle_();if(typeof this.content_.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+this.content_;}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(this.content_);}
this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if(this.div_.style.width){this.fixedWidthSet_=true;}else{if(this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_){this.div_.style.width=this.maxWidth_;this.div_.style.overflow="auto";this.fixedWidthSet_=true;}else{bw=this.getBoxWidths_();this.div_.style.width=(this.div_.offsetWidth-bw.left-bw.right)+"px";this.fixedWidthSet_=false;}}
this.panBox_(this.disableAutoPan_);if(!this.enableEventPropagation_){this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",cancelHandler);this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",cancelHandler);this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",cancelHandler);this.eventListener4_=google.maps.event.addDomListener(this.div_,"mouseover",function(e){this.style.cursor="default";});}
this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",ignoreHandler);google.maps.event.trigger(this,"domready");}};InfoBox.prototype.getCloseBoxImg_=function(){var img="";if(this.closeBoxURL_!==""){img="<img";img+=" src='"+this.closeBoxURL_+"'";img+=" align=right";img+=" style='";img+=" position: relative;";img+=" cursor: pointer;";img+=" margin: "+this.closeBoxMargin_+";";img+="'>";}
return img;};InfoBox.prototype.addClickHandler_=function(){var closeBox;if(this.closeBoxURL_!==""){closeBox=this.div_.firstChild;this.closeListener_=google.maps.event.addDomListener(closeBox,'click',this.getCloseClickHandler_());}else{this.closeListener_=null;}};InfoBox.prototype.getCloseClickHandler_=function(){var me=this;return function(e){e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}
me.close();google.maps.event.trigger(me,"closeclick");};};InfoBox.prototype.panBox_=function(disablePan){var map;var bounds;var xOffset=0,yOffset=0;if(!disablePan){map=this.getMap();if(map instanceof google.maps.Map){if(!map.getBounds().contains(this.position_)){map.setCenter(this.position_);}
bounds=map.getBounds();var mapDiv=map.getDiv();var mapWidth=mapDiv.offsetWidth;var mapHeight=mapDiv.offsetHeight;var iwOffsetX=this.pixelOffset_.width;var iwOffsetY=this.pixelOffset_.height;var iwWidth=this.div_.offsetWidth;var iwHeight=this.div_.offsetHeight;var padX=this.infoBoxClearance_.width;var padY=this.infoBoxClearance_.height;var pixPosition=this.getProjection().fromLatLngToContainerPixel(this.position_);if(pixPosition.x<(-iwOffsetX+padX)){xOffset=pixPosition.x+iwOffsetX-padX;}else if((pixPosition.x+iwWidth+iwOffsetX+padX)>mapWidth){xOffset=pixPosition.x+iwWidth+iwOffsetX+padX-mapWidth;}
if(this.alignBottom_){if(pixPosition.y<(-iwOffsetY+padY+iwHeight)){yOffset=pixPosition.y+iwOffsetY-padY-iwHeight;}else if((pixPosition.y+iwOffsetY+padY)>mapHeight){yOffset=pixPosition.y+iwOffsetY+padY-mapHeight;}}else{if(pixPosition.y<(-iwOffsetY+padY)){yOffset=pixPosition.y+iwOffsetY-padY;}else if((pixPosition.y+iwHeight+iwOffsetY+padY)>mapHeight){yOffset=pixPosition.y+iwHeight+iwOffsetY+padY-mapHeight;}}
if(!(xOffset===0&&yOffset===0)){var c=map.getCenter();map.panBy(xOffset,yOffset);}}}};InfoBox.prototype.setBoxStyle_=function(){var i,boxStyle;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";boxStyle=this.boxStyle_;for(i in boxStyle){if(boxStyle.hasOwnProperty(i)){this.div_.style[i]=boxStyle[i];}}
if(typeof this.div_.style.opacity!=="undefined"&&this.div_.style.opacity!==""){this.div_.style.filter="alpha(opacity="+(this.div_.style.opacity*100)+")";}
this.div_.style.position="absolute";this.div_.style.visibility='hidden';if(this.zIndex_!==null){this.div_.style.zIndex=this.zIndex_;}}};InfoBox.prototype.getBoxWidths_=function(){var computedStyle;var bw={top:0,bottom:0,left:0,right:0};var box=this.div_;if(document.defaultView&&document.defaultView.getComputedStyle){computedStyle=box.ownerDocument.defaultView.getComputedStyle(box,"");if(computedStyle){bw.top=parseInt(computedStyle.borderTopWidth,10)||0;bw.bottom=parseInt(computedStyle.borderBottomWidth,10)||0;bw.left=parseInt(computedStyle.borderLeftWidth,10)||0;bw.right=parseInt(computedStyle.borderRightWidth,10)||0;}}else if(document.documentElement.currentStyle){if(box.currentStyle){bw.top=parseInt(box.currentStyle.borderTopWidth,10)||0;bw.bottom=parseInt(box.currentStyle.borderBottomWidth,10)||0;bw.left=parseInt(box.currentStyle.borderLeftWidth,10)||0;bw.right=parseInt(box.currentStyle.borderRightWidth,10)||0;}}
return bw;};InfoBox.prototype.onRemove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null;}};InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var pixPosition=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=(pixPosition.x+this.pixelOffset_.width)+"px";if(this.alignBottom_){this.div_.style.bottom=-(pixPosition.y+this.pixelOffset_.height)+"px";}else{this.div_.style.top=(pixPosition.y+this.pixelOffset_.height)+"px";}
if(this.isHidden_){this.div_.style.visibility='hidden';}else{this.div_.style.visibility="visible";}};InfoBox.prototype.setOptions=function(opt_opts){if(typeof opt_opts.boxClass!=="undefined"){this.boxClass_=opt_opts.boxClass;this.setBoxStyle_();}
if(typeof opt_opts.boxStyle!=="undefined"){this.boxStyle_=opt_opts.boxStyle;this.setBoxStyle_();}
if(typeof opt_opts.content!=="undefined"){this.setContent(opt_opts.content);}
if(typeof opt_opts.disableAutoPan!=="undefined"){this.disableAutoPan_=opt_opts.disableAutoPan;}
if(typeof opt_opts.maxWidth!=="undefined"){this.maxWidth_=opt_opts.maxWidth;}
if(typeof opt_opts.pixelOffset!=="undefined"){this.pixelOffset_=opt_opts.pixelOffset;}
if(typeof opt_opts.alignBottom!=="undefined"){this.alignBottom_=opt_opts.alignBottom;}
if(typeof opt_opts.position!=="undefined"){this.setPosition(opt_opts.position);}
if(typeof opt_opts.zIndex!=="undefined"){this.setZIndex(opt_opts.zIndex);}
if(typeof opt_opts.closeBoxMargin!=="undefined"){this.closeBoxMargin_=opt_opts.closeBoxMargin;}
if(typeof opt_opts.closeBoxURL!=="undefined"){this.closeBoxURL_=opt_opts.closeBoxURL;}
if(typeof opt_opts.infoBoxClearance!=="undefined"){this.infoBoxClearance_=opt_opts.infoBoxClearance;}
if(typeof opt_opts.isHidden!=="undefined"){this.isHidden_=opt_opts.isHidden;}
if(typeof opt_opts.enableEventPropagation!=="undefined"){this.enableEventPropagation_=opt_opts.enableEventPropagation;}
if(this.div_){this.draw();}};InfoBox.prototype.setContent=function(content){this.content_=content;if(this.div_){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null;}
if(!this.fixedWidthSet_){this.div_.style.width="";}
if(typeof content.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+content;}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(content);}
if(!this.fixedWidthSet_){this.div_.style.width=this.div_.offsetWidth+"px";if(typeof content.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+content;}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(content);}}
this.addClickHandler_();}
google.maps.event.trigger(this,"content_changed");};InfoBox.prototype.setPosition=function(latlng){this.position_=latlng;if(this.div_){this.draw();}
google.maps.event.trigger(this,"position_changed");};InfoBox.prototype.setZIndex=function(index){this.zIndex_=index;if(this.div_){this.div_.style.zIndex=index;}
google.maps.event.trigger(this,"zindex_changed");};InfoBox.prototype.getContent=function(){return this.content_;};InfoBox.prototype.getPosition=function(){return this.position_;};InfoBox.prototype.getZIndex=function(){return this.zIndex_;};InfoBox.prototype.show=function(){this.isHidden_=false;if(this.div_){this.div_.style.visibility="visible";}};InfoBox.prototype.hide=function(){this.isHidden_=true;if(this.div_){this.div_.style.visibility="hidden";}};InfoBox.prototype.open=function(map,anchor){var me=this;if(anchor){this.position_=anchor.getPosition();this.moveListener_=google.maps.event.addListener(anchor,"position_changed",function(){me.setPosition(this.getPosition());});}
this.setMap(map);if(this.div_){this.panBox_();}};InfoBox.prototype.close=function(){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null;}
if(this.eventListener1_){google.maps.event.removeListener(this.eventListener1_);google.maps.event.removeListener(this.eventListener2_);google.maps.event.removeListener(this.eventListener3_);google.maps.event.removeListener(this.eventListener4_);this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null;this.eventListener4_=null;}
if(this.moveListener_){google.maps.event.removeListener(this.moveListener_);this.moveListener_=null;}
if(this.contextListener_){google.maps.event.removeListener(this.contextListener_);this.contextListener_=null;}
this.setMap(null);};
var CN=CN||{};CN.Map=function(el){this.elements={component:el,canvas:el.find('.js-map-canvas'),filter:el.find('.js-map-filter')};this.options=this.elements.component.data('module-options');this.map={counter:2,zoom:14,centre:{address:{lat:0,lng:0},title:'',description:'',location:''},canvas:{},infoBox:{},markers:[],locations:[],};if('undefined'!==typeof map_style&&''!==map_style){this.map.styles=map_style;}else{this.map.styles=[{stylers:[]},{featureType:'road',elementType:'geometry',stylers:[{lightness:20},{visibility:'simplified'}]},{featureType:'road',elementType:'labels',stylers:[{visibility:'simplified'}]},{featureType:'poi',elementType:'labels',stylers:[{'visibility':'off'}]}];}
this.filters=[];this.marker={icon:{size:new google.maps.Size(80,80),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(20,20),scaledSize:new google.maps.Size(40,40)},shape:{coords:[0,0,0,40,40,40,40,0],type:'poly'}};this.directionsDisplay=null;this.init();};CN.Map.prototype.init=function(){var _this=this;$.getJSON(ajaxVars.stylesheetURI+'/assets/json/interactive-map-'+_this.options.mapFormID+'.json',function(json){_this.map.locations=json.locations;_this.map.centre.address.lat=parseFloat(json.centre.centre_location.lat);_this.map.centre.address.lng=parseFloat(json.centre.centre_location.lng);_this.map.centre.title=json.centre.centre_heading;_this.map.centre.description=json.centre.centre_description;_this.map.centre.icon=json.centre.centre_icon;_this.map.centre.location=json.centre.centre_location.location;_this.map.centre.image=json.centre.centre_image;_this.map.zoom=parseInt(json.centre.map_zoom);if(_this.map.zoom>21){_this.map.zoom=21;}else if(_this.map.zoom<1){_this.map.zoom=1;}
_this.renderMap();});this.elements.filter.on('change',function(e){e.preventDefault();var selected=$(this).find(':selected').val();_this.filterMap(selected);});};CN.Map.prototype.renderMap=function(){var _this=this;this.map.canvas=new google.maps.Map(this.elements.canvas.get(0),{zoom:_this.map.zoom,center:_this.map.centre.address,scrollwheel:false,mapTypeControlOptions:{mapTypeIds:[]}});this.map.infoBox=new InfoBox({content:'',pixelOffset:new google.maps.Size(40,-40),disableAutoPan:true,closeBoxMargin:'5px',infoBoxClearance:new google.maps.Size(1,1)});this.map.canvas.setOptions({styles:this.map.styles});google.maps.event.addListenerOnce(this.map.canvas,'idle',function(){_this.renderMarkers();if(_this.map.centre.title!==''){var centreIcon=_this.marker.icon;centreIcon.url=_this.map.centre.icon;var centreLocation={address:{lat:parseFloat(_this.map.centre.address.lat),lng:parseFloat(_this.map.centre.address.lng)},heading:_this.map.centre.title,location_description:_this.map.centre.description,location_image:_this.map.centre.image,icon:centreIcon.url};_this.pushMarker(centreLocation,centreIcon,false,9999);}});};CN.Map.prototype.pushMarker=function(location,icon,pushToArray,zIndex){var _this=this,latlng={lat:parseFloat(location.address.lat),lng:parseFloat(location.address.lng)},thisIcon=icon,markerSetup={position:latlng,map:this.map.canvas,icon:thisIcon,shape:this.marker.shape,title:location.heading,category:location.category,animation:google.maps.Animation.DROP};if(zIndex){markerSetup.zIndex=zIndex;}
var marker=new google.maps.Marker(markerSetup);google.maps.event.addListener(marker,'click',(function(location,thisIcon){return function(){var directionsButtonHtml='',directionsWalking='',directionsDriving='',locationIcon='',locationImage='';if(location.walking_instructions){directionsWalking='<p class="c-infobox__walking">'+location.walking_instructions+'</p>';}
if(location.driving_instructions){directionsDriving='<p class="c-infobox__driving">'+location.driving_instructions+'</p>';}
if(location.directions_url){directionsButtonHtml='<a href="'+location.directions_url+'" class="c-infobox__button" target="_blank">More info</a>';}
if(location.location_image){locationImage='<div class="c-infobox__image"><img src="'+location.location_image+'" alt="" /></div>';}
if(location.icon){locationIcon='<div class="c-infobox__icon"><img src="'+location.icon+'" alt="" /></div>';}
_this.map.infoBox.setContent('<div class="c-infobox">'+locationIcon+'<h3 class="c-infobox__heading">'+location.heading+'</h3>'+locationImage+'<p class="c-infobox__description">'+location.location_description+'</p>'+directionsWalking+directionsDriving+directionsButtonHtml+'</div>');_this.map.infoBox.open(_this.map.canvas,this);_this.map.canvas.panTo(latlng);}})(location,thisIcon));if(pushToArray!==false){_this.map.markers.push(marker);}};CN.Map.prototype.renderMarkers=function(filterKey){var _this=this;for(var i=_this.map.locations.length-1;i>=0;i--){var location=_this.map.locations[i],pushMarker=true;if(typeof(filterKey)!=='undefined'&&filterKey!==''){if(location.category!==filterKey){pushMarker=false;}}
var markerIcon=_this.marker.icon;if('undefined'!==typeof _this.options.categories&&'undefined'!==typeof location.category&&''!==location.category&&'undefined'!==typeof _this.options.categories[location.category]){markerIcon.url=_this.options.categories[location.category];location.icon=markerIcon.url;}else{markerIcon=null;}
if(pushMarker){_this.pushMarker(location,markerIcon,true);}};};CN.Map.prototype.filterMap=function(key){this.clearAllMarkers();this.renderMarkers(key);};CN.Map.prototype.clearAllMarkers=function(){var _this=this;$(this.map.markers).each(function(i){_this.map.markers[i].setMap(null);});this.map.markers=[];this.map.counter=0;};CN.Map.prototype.setupDirections=function(){var _this=this;this.directionsDisplay=new google.maps.DirectionsRenderer({map:_this.map.canvas});};CN.Map.prototype.requestDirections=function(request){if('undefined'===typeof request){return false;}
var _this=this;var directionsService=new google.maps.DirectionsService();directionsService.route(request,function(response,status){if(status==='OK'){_this.directionsDisplay.setDirections(response);}});};
(function($){'use strict';$(document).on('cnInitMap',function(event,data){var element=data&&data.element||document;$(element).find('[data-module="map"]').each(function(){new CN.Map($(this));});});$(document).trigger('cnInitMap');})(jQuery);
!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d)if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
jQuery(function(a){var d=a(panelsStyles.fullContainer);0===d.length&&(d=a("body"));var e=function(){var e=a(".siteorigin-panels-stretch.panel-row-style");e.each(function(){var e=a(this),t=e.data("stretch-type"),r="full-stretched-padded"===t?"":0;e.css({"margin-left":0,"margin-right":0,"padding-left":r,"padding-right":r});var i=e.offset().left-d.offset().left,n=d.outerWidth()-i-e.parent().outerWidth();e.css({"margin-left":-i,"margin-right":-n,"padding-left":"full"===t?i:r,"padding-right":"full"===t?n:r});var l=e.find("> .panel-grid-cell");"full-stretched"===t&&1===l.length&&l.css({"padding-left":0,"padding-right":0}),e.css({"border-left":0,"border-right":0})}),e.length&&a(window).trigger("panelsStretchRows")};a(window).on("resize load",e),e(),a("body").removeClass("siteorigin-panels-before-js")});
(function($){'use strict';var selectors={bookingBar:'.c-booking-bar',datepickerEl:$('.c-booking-bar__date'),arrivalEl:$('.c-booking-bar--arrive .c-booking-bar__date'),departure:'.c-booking-bar--depart .c-booking-bar__date',}
selectors.datepickerEl.pickadate({min:true,container:'.js-pickadate-container',formatSubmit:'yyyy-mm-dd',hiddenName:true,format:window.cnBookingConfig.inputDateFormat});if(selectors.arrivalEl.length>0){selectors.arrivalEl.each(function(){var thisEl=$(this);thisEl.pickadate('picker').on({set:function(setThing){var timeSelected=setThing.select;thisEl.parents(selectors.bookingBar).find(selectors.departure).each(function(){$(this).pickadate('picker').set('select',timeSelected+1000*60*60*24).set('min',new Date(timeSelected+1000*60*60*24));});}});});}})(jQuery);